let svg_addNew = `<svg width="102" height="102" viewBox="0 0 102 102"  xmlns="http://www.w3.org/2000/svg">
<path d="M51 1C41.111 1 31.444 3.93245 23.2215 9.42652C14.999 14.9206 8.59043 22.7295 4.80605 31.8658C1.02166 41.0021 0.0314976 51.0555 1.96076 60.7545C3.89002 70.4535 8.65206 79.3627 15.6447 86.3553C22.6373 93.3479 31.5465 98.11 41.2455 100.039C50.9445 101.969 60.9979 100.978 70.1342 97.194C79.2705 93.4096 87.0794 87.0009 92.5735 78.7785C98.0675 70.556 101 60.889 101 51C101 44.4339 99.7067 37.9321 97.194 31.8658C94.6812 25.7995 90.9983 20.2876 86.3553 15.6447C81.7124 11.0017 76.2005 7.31876 70.1342 4.80602C64.0679 2.29329 57.5661 1 51 1V1ZM51 91C43.0888 91 35.3552 88.654 28.7772 84.2588C22.1992 79.8635 17.0723 73.6164 14.0448 66.3073C11.0173 58.9983 10.2252 50.9556 11.7686 43.1964C13.312 35.4371 17.1216 28.3098 22.7157 22.7157C28.3098 17.1216 35.4372 13.312 43.1964 11.7686C50.9556 10.2252 58.9983 11.0173 66.3073 14.0448C73.6164 17.0723 79.8635 22.1992 84.2588 28.7772C88.654 35.3551 91 43.0887 91 51C91 61.6086 86.7857 71.7828 79.2843 79.2843C71.7828 86.7857 61.6087 91 51 91V91ZM71 46H56V31C56 29.6739 55.4732 28.4021 54.5355 27.4645C53.5979 26.5268 52.3261 26 51 26C49.6739 26 48.4022 26.5268 47.4645 27.4645C46.5268 28.4021 46 29.6739 46 31V46H31C29.6739 46 28.4022 46.5268 27.4645 47.4645C26.5268 48.4021 26 49.6739 26 51C26 52.3261 26.5268 53.5978 27.4645 54.5355C28.4022 55.4732 29.6739 56 31 56H46V71C46 72.3261 46.5268 73.5978 47.4645 74.5355C48.4022 75.4732 49.6739 76 51 76C52.3261 76 53.5979 75.4732 54.5355 74.5355C55.4732 73.5978 56 72.3261 56 71V56H71C72.3261 56 73.5979 55.4732 74.5355 54.5355C75.4732 53.5978 76 52.3261 76 51C76 49.6739 75.4732 48.4021 74.5355 47.4645C73.5979 46.5268 72.3261 46 71 46Z"  />
</svg>`
let svg_searchBtn = `<svg width="102" height="102" viewBox="0 0 102 102" xmlns="http://www.w3.org/2000/svg">
<path d="M48.9056 89.3888C75.3631 89.3888 96.8111 69.6023 96.8111 45.1944C96.8111 20.7865 75.3631 1 48.9056 1C22.4481 1 1 20.7865 1 45.1944C1 69.6023 22.4481 89.3888 48.9056 89.3888Z"  stroke-linecap="round" stroke-linejoin="round"/>
<path d="M82.2194 83.7185L101 101"   stroke-linecap="round" stroke-linejoin="round"/>
</svg>`
let svg_userDefaultProfileIcon = `
<svg width="100" height="100" viewBox="0 0 100 100"  xmlns="http://www.w3.org/2000/svg">
<path d="M85.3378 14.671C80.6984 10.0204 75.1873 6.33078 69.1201 3.81331C63.0528 1.29584 56.5487 0 49.9799 0C43.4112 0 36.907 1.29584 30.8398 3.81331C24.7726 6.33078 19.2615 10.0204 14.6221 14.671C-4.68592 33.9806 -4.87188 65.2823 14.0622 84.8229L14.4263 85.1929L14.4576 85.2242L14.6142 85.3827L14.9803 85.7488C19.1353 89.8269 23.9711 93.1474 29.2694 95.5602L29.7764 95.7873C30.1366 95.9458 30.5007 96.1025 30.8647 96.2532L31.452 96.4901L32.0392 96.7211C32.4581 96.8829 32.8802 97.0382 33.3057 97.187H33.3174C33.7689 97.3475 34.2256 97.5002 34.6876 97.645L35.3981 97.8662C36.0597 98.0685 36.7266 98.2558 37.3986 98.4281L38.072 98.5964C38.4321 98.6865 38.7923 98.7687 39.1544 98.847C39.5165 98.9253 39.8806 99.0036 40.2447 99.0741C40.7014 99.1641 41.1582 99.247 41.6149 99.3227C41.8439 99.3618 42.0729 99.399 42.3039 99.4343C42.5349 99.4695 42.7639 99.5028 42.9949 99.5341L43.5508 99.6085C43.727 99.632 43.9031 99.6535 44.0813 99.6731H44.1302L44.6744 99.7338L45.2224 99.7886L45.7822 99.8375C46.1561 99.8688 46.53 99.8943 46.9058 99.9178L47.5987 99.955H47.6653C47.8904 99.9648 48.1175 99.9746 48.3445 99.9804H48.3778H48.5324C48.6675 99.9804 48.8006 99.9804 48.9357 99.9902H49.0316C49.3448 99.9902 49.6599 100 49.975 100H49.9946C50.8102 100 51.6232 99.9798 52.4336 99.9393C52.8133 99.9217 53.1911 99.8982 53.5689 99.8728H53.6765C53.8723 99.8571 54.068 99.8434 54.2638 99.8258L54.8686 99.771C55.2718 99.7318 55.6744 99.6881 56.0763 99.6398C56.4776 99.5909 56.8769 99.5361 57.2762 99.4793C57.6755 99.4225 58.0748 99.3579 58.4702 99.2835C58.666 99.2502 58.8617 99.215 59.0575 99.1778C59.2532 99.1406 59.449 99.1034 59.6447 99.0662L60.2319 98.9468L60.8661 98.8098L61.3535 98.6982C61.4005 98.6884 61.4494 98.6786 61.4964 98.6649H61.518C61.6765 98.6297 61.8351 98.5905 61.9916 98.5514C62.1874 98.5044 62.3831 98.4555 62.5789 98.4046L63.1661 98.2499C63.5576 98.1442 63.9419 98.0346 64.319 97.9211C64.5148 97.8643 64.7105 97.8055 64.8925 97.7449C65.0746 97.6842 65.2742 97.6255 65.4641 97.5628C65.654 97.5002 65.8439 97.4395 66.0337 97.3671C66.4109 97.2365 66.7873 97.106 67.1632 96.9755L67.7249 96.7661C67.9207 96.6956 68.0968 96.6232 68.2828 96.5507C68.6547 96.4039 69.0227 96.2532 69.3927 96.0985C69.6687 95.983 69.9427 95.8636 70.2167 95.7423C70.4908 95.6209 70.7609 95.4976 71.033 95.3703L71.5243 95.1393C71.6789 95.0669 71.8316 94.9925 71.9843 94.9162C72.2779 94.7713 72.5709 94.6238 72.8632 94.4737C77.2798 92.1844 81.3322 89.252 84.8876 85.7723L84.9796 85.6979C85.1127 85.5883 85.2262 85.4748 85.3261 85.3749C85.4964 85.2046 85.6666 85.0323 85.833 84.8601L85.8565 84.8385L85.9211 84.77C95.0515 75.348 100.108 62.7115 99.9982 49.5913C99.8884 36.4712 94.6208 23.9211 85.3339 14.6534L85.3378 14.671ZM33.0571 21.2465C36.9758 17.3271 42.1321 14.8878 47.6476 14.3443C53.163 13.8008 58.6963 15.1867 63.3045 18.2659C67.9128 21.345 71.3109 25.9269 72.9198 31.2308C74.5288 36.5347 74.249 42.2325 72.1282 47.3532C70.0074 52.474 66.1768 56.7009 61.2891 59.3137C56.4014 61.9265 50.759 62.7636 45.3233 61.6823C39.8876 60.601 34.995 57.6683 31.4791 53.3837C27.9632 49.0992 26.0416 43.7281 26.0417 38.1855C26.0327 35.0383 26.6481 31.9207 27.8523 29.013C29.0566 26.1054 30.8256 23.4656 33.0571 21.2465ZM18.0319 84.586C18.1689 84.4255 18.3079 84.265 18.4469 84.1064L18.4801 84.0751C18.4801 84.0751 18.4801 84.0751 18.4899 84.0653C18.5389 84.0085 18.5898 83.9498 18.6407 83.895L18.948 83.5544C19.0517 83.4408 19.1555 83.3273 19.2612 83.2157L19.3121 83.1609L19.3277 83.1433C19.4315 83.0297 19.5352 82.9201 19.6409 82.8105C19.7994 82.6441 19.96 82.4777 20.1224 82.3152C20.2223 82.2134 20.3182 82.1195 20.4258 82.0137C20.5335 81.908 20.6079 81.8297 20.6999 81.7436L20.8134 81.632C20.9132 81.5361 21.0091 81.4363 21.1129 81.3482L21.154 81.309L21.1677 81.2953L21.2284 81.2385C21.338 81.1328 21.4476 81.031 21.5592 80.9312C21.6277 80.8666 21.6962 80.802 21.7667 80.7354L21.8097 80.6982C21.9135 80.6004 22.0211 80.5025 22.1268 80.4124L22.3676 80.201C22.4772 80.1031 22.5888 80.0053 22.7003 79.9152L22.9822 79.6744C23.0781 79.5922 23.178 79.51 23.2758 79.4297C23.3737 79.3495 23.4951 79.2496 23.6066 79.1615C23.6888 79.093 23.7711 79.0265 23.8552 78.9658L23.8905 78.9384L23.9394 78.8992C24.0333 78.8229 24.1351 78.7485 24.2252 78.6741L24.2467 78.6584C24.3224 78.5971 24.3987 78.5384 24.4757 78.4823L24.5149 78.4509L24.74 78.2806H24.7517L24.7752 78.263C24.9161 78.1554 25.0571 78.0496 25.2 77.9479C25.2372 77.9185 25.2763 77.8891 25.3155 77.8637C25.4623 77.754 25.6091 77.6483 25.7578 77.5446L26.0123 77.3664L26.0456 77.3449L26.3705 77.1198L26.4077 77.0924L26.4547 77.0611L26.5486 77.0004C26.7111 76.8888 26.8736 76.7811 27.038 76.6735C27.2024 76.5658 27.3531 76.4679 27.5136 76.3681C27.6213 76.2996 27.729 76.2311 27.8386 76.1723L27.8973 76.1351L28.3788 75.8395C28.5746 75.7182 28.786 75.5968 28.9915 75.4793L29.062 75.4382H29.0737C29.1892 75.3697 29.3066 75.3051 29.4241 75.2425L29.5004 75.2014L29.5689 75.1622C29.659 75.1113 29.749 75.0604 29.841 75.0115C29.978 74.9351 30.1151 74.8607 30.254 74.7883L30.4498 74.6885L30.4772 74.6748L30.575 74.6239L30.6377 74.5906C30.7865 74.5103 30.9391 74.4359 31.0879 74.3576L31.6184 74.0953L31.8904 73.9622H31.9081L31.957 73.9387L32.0275 73.9054C32.1841 73.8291 32.3426 73.7567 32.5012 73.6842L32.6069 73.6353C32.8026 73.5433 33.0101 73.4532 33.2137 73.3652L33.3448 73.3064L33.8302 73.0989H33.8459L34.4038 72.8718C34.4414 72.8542 34.48 72.8385 34.5193 72.8249H34.531L34.7737 72.7309L35.0282 72.633L35.2513 72.5469C35.4471 72.4764 35.6311 72.4059 35.8209 72.3394C35.864 72.3211 35.9071 72.3054 35.9501 72.2924C36.1165 72.2317 36.2848 72.173 36.4532 72.1182C36.5511 72.0829 36.6489 72.0497 36.7488 72.0183C36.9014 71.9655 37.0561 71.9146 37.2107 71.8676L37.4064 71.805L37.4554 71.7893L37.4887 71.7795C37.6844 71.7227 37.8606 71.664 38.0485 71.6092L49.6756 87.4441L61.9956 71.6249L62.2363 71.6973C62.3968 71.7443 62.5554 71.7952 62.7139 71.8441L62.9253 71.9107L63.3168 72.0379L63.4343 72.0771L63.9001 72.2376H63.9177L64.2192 72.3433L64.4619 72.4333C64.6205 72.4901 64.7771 72.5488 64.9356 72.6095C65.149 72.6898 65.3604 72.772 65.5718 72.8562L65.6657 72.8934L65.7616 72.9325L65.9574 73.0108L66.0141 73.0343L66.0455 73.048L66.0964 73.0676C66.204 73.1087 66.3136 73.1557 66.4193 73.2027C66.5857 73.2712 66.7462 73.3436 66.9106 73.416L66.9596 73.4376L67.0438 73.4748L67.1906 73.5394L67.3354 73.6059C67.3609 73.6177 67.3883 73.6275 67.4137 73.6412L67.721 73.7821L67.7817 73.8115C67.8345 73.835 67.8874 73.8585 67.9402 73.8859H67.95C68.1184 73.9661 68.2906 74.0464 68.457 74.1306L68.6371 74.2206L68.6821 74.2421C68.8211 74.3107 68.9601 74.3792 69.0971 74.4516L69.1715 74.4908H69.1852C69.2107 74.5023 69.2356 74.5153 69.2596 74.5299L69.3339 74.5691L69.3966 74.6004L69.8487 74.8392L70.0112 74.9273C70.1887 75.0226 70.3648 75.1204 70.5397 75.2209C70.5686 75.2351 70.5967 75.2508 70.6239 75.2679C70.8196 75.3795 71.0154 75.493 71.2111 75.6066C71.2483 75.6262 71.2835 75.6496 71.3207 75.6712L71.7768 75.9452C71.8864 76.0118 71.996 76.0784 72.1056 76.141L72.1467 76.1665L72.409 76.3309L72.4364 76.3485H72.4541L72.5774 76.4268L72.6615 76.4816C72.826 76.5854 72.9924 76.693 73.1548 76.8027C73.2018 76.8327 73.2488 76.864 73.2958 76.8966C73.4262 76.9841 73.5567 77.0741 73.6872 77.1668L73.7068 77.1805C73.8086 77.2496 73.9104 77.3201 74.0122 77.3919C74.0983 77.4506 74.1864 77.5113 74.2725 77.5759C74.3586 77.6405 74.478 77.7208 74.5798 77.7952C74.6816 77.8695 74.8382 77.9909 74.9713 78.077L75.0222 78.1162L75.2551 78.2904C75.4313 78.4216 75.6075 78.5567 75.7817 78.6937C75.9226 78.8014 76.0616 78.911 76.2006 79.0226L76.4296 79.2066L76.8309 79.5374C76.8857 79.5805 76.9405 79.6255 76.9933 79.6725C77.1108 79.7704 77.2282 79.8682 77.3437 79.972L77.375 79.9994H77.3848L77.3985 80.0111L77.5336 80.1266C77.6099 80.1912 77.6843 80.2597 77.7606 80.3224L77.8233 80.3792C77.9583 80.4947 78.0934 80.616 78.2265 80.7374C78.5501 81.0284 78.8679 81.3266 79.1798 81.632C79.2842 81.7325 79.3879 81.8343 79.491 81.9374C79.6182 82.0607 79.7435 82.186 79.8688 82.3133C80.2237 82.6708 80.5715 83.0363 80.9121 83.4095C80.9336 83.433 80.9551 83.4545 80.9747 83.478C81.0824 83.5955 81.19 83.7129 81.2957 83.8323L81.3075 83.8441L81.419 83.9713C81.5874 84.1671 81.7518 84.3511 81.9162 84.5429C64.0646 101.124 35.9403 101.139 18.0319 84.586Z" />
</svg>
`
let svg_exploreSearchIcon = `
<svg width="100" height="100" viewBox="0 0 100 100"  xmlns="http://www.w3.org/2000/svg">
<path d="M42.8216 14.2859C48.0516 14.2779 53.1827 15.7141 57.6517 18.4367C62.1207 21.1594 65.755 25.0632 68.1556 29.7199C70.5561 34.3765 71.6302 39.606 71.26 44.8342C70.8898 50.0625 69.0895 55.0875 66.0568 59.3577L63.2415 63.322L59.2858 66.1435C55.628 68.7412 51.4103 70.4373 46.9753 71.094C42.5404 71.7506 38.0134 71.3494 33.7623 69.9228C29.5113 68.4961 25.656 66.0844 22.51 62.8837C19.364 59.6829 17.0159 55.7833 15.6566 51.502C14.2973 47.2206 13.9652 42.6782 14.6872 38.244C15.4092 33.8098 17.165 29.6089 19.8118 25.9827C22.4587 22.3565 25.922 19.4073 29.9201 17.3749C33.9183 15.3424 38.3385 14.2841 42.8216 14.2859ZM42.8216 3.86263e-05C36.0893 -0.00901893 29.45 1.57499 23.444 4.62316C17.4379 7.67134 12.2348 12.0976 8.2581 17.5416C4.28136 22.9857 1.64332 29.2938 0.558671 35.9526C-0.52598 42.6115 -0.026602 49.4329 2.01617 55.8617C4.05894 62.2906 7.58738 68.1453 12.3144 72.9494C17.0414 77.7535 22.8333 81.3713 29.219 83.5084C35.6046 85.6454 42.4035 86.2413 49.0624 85.2477C55.7212 84.254 62.0519 81.6988 67.5393 77.79L87.6206 97.9187C90.3932 100.694 94.8905 100.694 97.6595 97.9187L97.7629 97.8152C98.4669 97.1808 99.03 96.4051 99.4154 95.5385C99.8008 94.6718 100 93.7336 100 92.7848C100 91.8359 99.8008 90.8977 99.4154 90.0311C99.03 89.1644 98.4669 88.3887 97.7629 87.7544L77.678 67.6292C82.2252 61.2217 84.9239 53.6829 85.4783 45.8398C86.0326 37.9966 84.4211 30.1519 80.8206 23.166C77.22 16.1801 71.7694 10.3228 65.0665 6.23635C58.3636 2.14995 50.6673 -0.00769784 42.8216 3.86263e-05Z" />
</svg>
`

import "../css/mainSearchSectionModal.dev.css"

export function createMainSearchSectionModal() {
  let exploreMainContainer = document.getElementById("exploreMainContainer")
  if (exploreMainContainer) {
    let mainSearchSectionModal = document.getElementById(
      "mainSearchSectionModal"
    )

    if (!mainSearchSectionModal) {
      mainSearchSectionModal = document.createElement("div")
      mainSearchSectionModal.classList.add(
        "inner-modal",
        "inner-modal--main-search-section"
      )
      mainSearchSectionModal.setAttribute("id", "mainSearchSectionModal")

      mainSearchSectionModal.innerHTML = `
      <div class="inner-modal__close-btn inner-modal__close-btn--main-search-section">X</div>
      <div class="inner-modal-content inner-modal-content--main-search-section">

           <div class="main-search-section">
                 <div class="search-box">
                    <input class="search-box__input" type="text" placeholder="Search user">

                    <div class="search-box__btn">
                        ${svg_exploreSearchIcon}
                    </div>
                </div>
                <div class="searched-user-box">
             
                </div>
           </div>
       
      </div>`

      exploreMainContainer.insertAdjacentElement(
        "afterbegin",
        mainSearchSectionModal
      )
      initialiseEventForMainSearchSectionModal()
    } else {
      mainSearchSectionModal.classList.remove("inner-modal--hide")
    }
    let searchBoxInput =
      mainSearchSectionModal.getElementsByClassName("search-box__input")[0]

    searchBoxInput.focus()

    // fetchSearchedUserAndAddThem("", 10)
  }
}
function initialiseEventForMainSearchSectionModal() {
  let mainSearchSectionModal = document.getElementById("mainSearchSectionModal")

  if (mainSearchSectionModal) {
    let searchedUserBox =
      mainSearchSectionModal.getElementsByClassName("searched-user-box")[0]
    if (searchedUserBox) {
      searchedUserBox.addEventListener("click", e => {
        let searchedUser = e.target.closest(`.searched-user`)
        if (searchedUser && searchedUserBox.contains(searchedUser)) {
          let username = searchedUser.dataset.username
          location.href = `/user/${username}`
        }
      })
    }

    let searchBoxInput =
      mainSearchSectionModal.getElementsByClassName("search-box__input")[0]

    searchBoxInput.addEventListener("input", function () {
      clearTimeout(this.delay)
      this.delay = setTimeout(
        function () {
          let userInput = searchBoxInput.value.trim()
          if (userInput !== "") {
            fetchSearchedUserAndAddThem(userInput, 8)
          } else {
            fetchSearchedUserAndAddThem("", 5)
          }
        }.bind(this),
        1000
      )
    })

    mainSearchSectionModal
      .getElementsByClassName("inner-modal__close-btn")[0]
      .addEventListener("click", () => {
        mainSearchSectionModal.classList.add("inner-modal--hide")
      })
  }

  window.addEventListener("click", e => {
    if (e.target === mainSearchSectionModal) {
      mainSearchSectionModal.classList.add("inner-modal--hide")
    }
  })
}

async function fetchSearchedUserAndAddThem(userInput, userCount) {
  fetch(`/user/data/main-users?userInput=${userInput}&userCount=${userCount}`)
    .then(response => {
      if (response.ok) {
        return response.json()
      }
      return Promise.reject(response)
    })
    .then(async data => {
      if (data.isSuccess) {
        updateSearchedUserBox(data.users)
      } else {
        let { createMainNotification } = await import(
          "../../common/mainNotification.dev"
        )
        createMainNotification(data.error, "error")
      }
    })
    .catch(async err => {
      console.log(err)
      let { createMainNotification } = await import(
        "../../common/mainNotification.dev"
      )
      createMainNotification(
        "Server Error,Please Check Your Search Input",
        "error"
      )
    })
}
function updateSearchedUserBox(users) {
  let mainSearchSectionModal = document.getElementById("mainSearchSectionModal")
  if (mainSearchSectionModal) {
    let searchedUserBox =
      mainSearchSectionModal.getElementsByClassName("searched-user-box")[0]
    if (searchedUserBox) {
      searchedUserBox.innerHTML = ""

      users.forEach(user => {
        createSearchedUser(user)
      })
    }
  }
}

function createSearchedUser(user) {
  let mainSearchSectionModal = document.getElementById("mainSearchSectionModal")
  if (mainSearchSectionModal) {
    let searchedUserBox =
      mainSearchSectionModal.getElementsByClassName("searched-user-box")[0]
    if (searchedUserBox) {
      let searchedUser = document.createElement("div")
      searchedUser.classList.add("searched-user")
      searchedUser.dataset.userId = user._id
      searchedUser.dataset.username = user.username
      let searchedUserHtml = `
                   <div class="searched-user__pic">
                       ${svg_userDefaultProfileIcon}
                        <img src='' alt="user Pic">
                   </div>
                   <div class="searched-user__column searched-user__column--data">
                       <div class="searched-user__fullname"></div>
                      <div class="searched-user__username"></div>
                   </div>
      `

      searchedUser.insertAdjacentHTML("beforeend", searchedUserHtml)

      let searchedUserPic =
        searchedUser.getElementsByClassName("searched-user__pic")[0]
      if (user.hasOwnProperty("profile") && user.profile !== "") {
        searchedUserPic.classList.add("searched-user__pic--img")
        searchedUserPic.querySelector("img").src = user.profile
      } else {
        searchedUserPic.classList.add("searched-user__pic--svg")
      }
      searchedUser.getElementsByClassName(
        "searched-user__fullname"
      )[0].textContent = user.firstName + " " + user.lastName

      searchedUser.getElementsByClassName(
        "searched-user__username"
      )[0].textContent = "@" + user.username

      searchedUserBox.insertAdjacentElement("afterbegin", searchedUser)
    }
  }
}
// async function fetchSearchedUserInAddUserModal(
//   addUserModal,
//   userInput,
//   userCount
// ) {
//   fetch(
//     `/user/fetch-following-users?userInput=${userInput}&userCount=${userCount}`
//   )
//     .then(response => {
//       if (response.ok) {
//         return response.json()
//       }
//       return Promise.reject(response)
//     })
//     .then(async data => {
//       if (data.isSuccess) {
//         updateSearchedUserContainer(addUserModal, data.users)
//       } else {
//         let { createMainNotification } = await import(
//           "../../common/mainNotification.dev"
//         )
//         createMainNotification(data.error, "error")
//       }
//     })
//     .catch(async err => {
//       console.log(err)
//       let { createMainNotification } = await import(
//         "../../common/mainNotification.dev"
//       )
//       createMainNotification(
//         "Server Error,Please Check Your Search Input",
//         "error"
//       )
//     })
// }

// function updateSearchedUserContainer(addUserModal, users) {
//   let addedUserContainer = addUserModal.getElementsByClassName(
//     "added-user-container"
//   )[0]
//   let searchedUserContainer = addUserModal.getElementsByClassName(
//     "add-user-searched-user-container__user"
//   )[0]

//   searchedUserContainer.innerHTML = ""

//   users.forEach(user => {
//     createSearchedUser(searchedUserContainer, addedUserContainer, user)
//   })
// }

// function createSearchedUser(searchedUserContainer, addedUserContainer, user) {
//   if (!allAddedUser.find(addedUser => addedUser._id === user._id)) {
//     let searchedUser = document.createElement("div")
//     addUserSearchedUser.classList.add("add-user-searched-user")
//     addUserSearchedUser.dataset.userId = user._id
//     let addUserSearchedUserHtml = `

//                   <div class="add-user-searched-user__pic">
//                       <img src="${user.profile}"
//                           alt="">

//                   </div>
//                   <div class="chat-modal-content--column chat-modal-content-column--user-data">
//                       <div class="add-user-searched-user__fullname"></div>
//                       <div class="add-user-searched-user__username"></div>
//                   </div>
//                   <div class="add-user-searched-user__btn">
//                       ${svg_addNew}
//                   </div>`

//     addUserSearchedUser.insertAdjacentHTML("beforeend", addUserSearchedUserHtml)

//     addUserSearchedUser.getElementsByClassName(
//       "add-user-searched-user__fullname"
//     )[0].textContent = user.firstName + " " + user.lastName

//     addUserSearchedUser.getElementsByClassName(
//       "add-user-searched-user__username"
//     )[0].textContent = "@" + user.username

//     searchedUserContainer.insertAdjacentElement(
//       "afterbegin",
//       addUserSearchedUser
//     )

//     addUserSearchedUser
//       .getElementsByClassName("add-user-searched-user__btn")[0]
//       .addEventListener("click", () => {
//         addUserSearchedUser.parentNode.removeChild(addUserSearchedUser)

//         allAddedUser.push(user)

//         createAddedUser(addedUserContainer, searchedUserContainer, user)
//       })
//   }
// }

// function updateAddedUserContainer(addUserModal, users) {
//   let addedUserContainer = addUserModal.getElementsByClassName(
//     "added-user-container"
//   )[0]
//   let searchedUserContainer = addUserModal.getElementsByClassName(
//     "add-user-searched-user-container__user"
//   )[0]
//   addedUserContainer.innerHTML = ""
//   users.forEach(user => {
//     createAddedUser(addedUserContainer, searchedUserContainer, user)
//   })
// }

// function createAddedUser(addedUserContainer, searchedUserContainer, user) {
//   let addedUser = document.createElement("div")
//   addedUser.classList.add("added-user")
//   addedUser.dataset.userId = user._id
//   let addedUserHtml = `<div class="added-user__pic">
//   <img src="${user.profile}"
//       alt="user image">
// </div>
// <div class="added-user__username"></div>
// <span class="added-user__remove">X</span>`
//   addedUser.insertAdjacentHTML("beforeend", addedUserHtml)
//   addedUser.getElementsByClassName("added-user__username")[0].textContent =
//     "@" + user.username

//   addedUser
//     .getElementsByClassName("added-user__remove")[0]
//     .addEventListener("click", () => {
//       allAddedUser = allAddedUser.filter(user => {
//         if (addedUser.dataset.userId !== user._id) {
//           return true
//         }
//       })

//       addedUser.parentElement.removeChild(addedUser)

//       createSearchedUser(searchedUserContainer, addedUserContainer, user)
//     })
//   addedUserContainer.insertAdjacentElement("beforeend", addedUser)
// }
