let svg_callDefaultRoomPicIcon = `
<svg width="100" height="100" viewBox="0 0 100 100"  xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_1_4)">
<path d="M89.3125 0.25H33.0625C31.6496 0.241762 30.2491 0.51293 28.9414 1.04791C27.6337 1.58289 26.4447 2.37112 25.4428 3.36727C24.4408 4.36342 23.6457 5.54783 23.1031 6.85237C22.5605 8.15692 22.2812 9.55587 22.2812 10.9687V67.2188C22.2521 68.6406 22.5071 70.0539 23.0311 71.3759C23.5552 72.6979 24.3378 73.9021 25.3331 74.9178C26.3285 75.9335 27.5165 76.7403 28.8277 77.2911C30.1388 77.8418 31.5466 78.1253 32.9687 78.125H90.0937C92.8097 77.9187 95.3452 76.6862 97.1852 74.6779C99.0252 72.6696 100.032 70.0361 100 67.3125V11.0625C100.012 9.64965 99.7453 8.2483 99.2141 6.93904C98.6829 5.62978 97.8981 4.43846 96.9049 3.4336C95.9116 2.42873 94.7295 1.63015 93.4265 1.08379C92.1236 0.537428 90.7254 0.254065 89.3125 0.25ZM90.1875 58.5313C90.1103 59.0091 89.8542 59.4397 89.4712 59.7357C89.0882 60.0317 88.6069 60.1709 88.125 60.125H80.3125C79.88 55.339 77.6731 50.8879 74.1254 47.6464C70.5778 44.4049 65.9461 42.6075 61.1406 42.6075C56.3351 42.6075 51.7034 44.4049 48.1558 47.6464C44.6082 50.8879 42.4013 55.339 41.9688 60.125H34.1563C33.6744 60.1709 33.1931 60.0317 32.81 59.7357C32.427 59.4397 32.1709 59.0091 32.0938 58.5313V11.6562C32.1637 11.175 32.418 10.7397 32.8028 10.4424C33.1876 10.145 33.6729 10.0088 34.1563 10.0625H88.125C88.6084 10.0088 89.0937 10.145 89.4785 10.4424C89.8633 10.7397 90.1175 11.175 90.1875 11.6562V58.5313Z" />
<path d="M19.0625 67.3125V21.25L8.28125 23.75C5.52227 24.3898 3.13004 26.0985 1.63004 28.5009C0.130032 30.9032 -0.355083 33.8027 0.28125 36.5625L12.9688 91.4688C13.6085 94.2277 15.3173 96.62 17.7196 98.12C20.122 99.62 23.0215 100.105 25.7813 99.4687L80.6875 86.7813C82.2073 86.4364 83.633 85.7623 84.8641 84.8067C86.0952 83.851 87.1016 82.6369 87.8125 81.25H32.9688C31.1399 81.25 29.3291 80.8893 27.6398 80.1885C25.9506 79.4877 24.4162 78.4605 23.1245 77.1659C21.8328 75.8713 20.8091 74.3346 20.1121 72.6438C19.4151 70.953 19.0584 69.1413 19.0625 67.3125ZM61.1563 22.5312C59.3502 22.5251 57.5829 23.055 56.0782 24.0539C54.5735 25.0528 53.399 26.4757 52.7036 28.1426C52.0082 29.8094 51.823 31.6451 52.1715 33.4172C52.5201 35.1893 53.3867 36.8182 54.6616 38.0975C55.9365 39.3767 57.5624 40.2489 59.3333 40.6036C61.1042 40.9582 62.9405 40.7793 64.6097 40.0896C66.2789 39.3999 67.7059 38.2303 68.71 36.7291C69.714 35.2278 70.25 33.4623 70.25 31.6562C70.25 29.2416 69.2929 26.9253 67.5884 25.2149C65.8839 23.5046 63.5709 22.5395 61.1563 22.5312Z" />
</g>
<defs>
<clipPath id="clip0_1_4">
<rect width="100" height="100" />
</clipPath>
</defs>
</svg>
`

let svg_callSecureInfoIcon = `
<svg width="90" height="100" viewBox="0 0 90 100"  xmlns="http://www.w3.org/2000/svg">
<path d="M45 99.9988C43.2528 100.027 41.5289 99.5894 40 98.7309L38.5001 97.8687C26.8165 91.1641 17.0966 81.4344 10.3327 69.6734C3.5688 57.9124 0.00335021 44.5413 0.000400756 30.9255V30.2155C-0.0154488 28.4196 0.439089 26.6517 1.31756 25.0924C2.19603 23.5331 3.46692 22.2383 5.00036 21.3404L40 1.35889C41.5202 0.468667 43.2447 0 45 0C46.7554 0 48.4798 0.468667 50 1.35889L84.9996 21.3404C86.5331 22.2383 87.804 23.5331 88.6824 25.0924C89.5609 26.6517 90.0155 28.4196 89.9996 30.2155V30.9255C89.9866 44.5513 86.4061 57.9292 79.6241 69.6912C72.8422 81.4531 63.1021 91.1771 51.3999 97.8687L49.9 98.7309C48.4007 99.5723 46.7134 100.009 45 99.9988Z" />
</svg>
`

import "../css/onCallRoomInfoModal.dev.css"

export function createOnCallRoomInfoModal(callRoom) {
  let onCallSection = document.getElementById("onCallSection")
  if (onCallSection) {
    let onCallRoomInfoModal = document.getElementById("onCallRoomInfoModal")

    if (!onCallRoomInfoModal) {
      onCallRoomInfoModal = document.createElement("div")
      onCallRoomInfoModal.classList.add(
        "inner-modal",
        "inner-modal--call-room-info"
      )
      onCallRoomInfoModal.setAttribute("id", "onCallRoomInfoModal")

      onCallRoomInfoModal.innerHTML = `
        <div class="inner-modal-content inner-modal-content--call-room-info">
            <div class="on-call-room-info__close-btn">X</div>

             <div class="on-call-room-info__pic">
             ${svg_callDefaultRoomPicIcon}
                <img src=""
                     alt="">
             </div>

              <div class="on-call-room-info__name"> </div>

              <div class="on-call-room-info__desc"> </div>
        
              <div class="on-call-room-info__secure-info">
              
              
                  <div class="on-call-room-info__secure-title"> 
                  <div class="on-call-room-info__secure-icon">
                  ${svg_callSecureInfoIcon}
                   </div>
                   How OwlFeet protects your privacy in rooms
                  </div>

                
                 <div class="on-call-room-info__secure-desc">   
                 

                     <ul class="on-call-room-info__secure-list">

                        <li class="on-call-room-info__secure-list-item"><span>Room link privacy:</span> A unique room link is generated when you create your room. </li>

                       <li class="on-call-room-info__secure-list-item"><span>Room link privacy:</span> A unique room link is generated when you create your room. </li>

                    </ul>
                      
                 </div>
              </div>
        </div>`

      onCallSection.insertAdjacentElement("afterbegin", onCallRoomInfoModal)
      initialiseEventForOnCallRoomInfoModal()
    } else {
      onCallRoomInfoModal.classList.remove("inner-modal--hide")
    }
    let onCallRoomInfoName = onCallRoomInfoModal.getElementsByClassName(
      "on-call-room-info__name"
    )[0]
    onCallRoomInfoName.textContent = callRoom.roomName

    let onCallRoomInfoDesc = onCallRoomInfoModal.getElementsByClassName(
      "on-call-room-info__desc"
    )[0]
    onCallRoomInfoDesc.textContent = callRoom.roomDescription

    let onCallRoomInfoPic = onCallRoomInfoModal.getElementsByClassName(
      "on-call-room-info__pic"
    )[0]
    if (callRoom.hasOwnProperty("roomPic") && callRoom.roomPic !== "") {
      onCallRoomInfoPic.querySelector("img").src = callRoom.roomPic
      onCallRoomInfoPic.classList.add("on-call-room-info__pic--img")
    } else {
      onCallRoomInfoPic.classList.add("on-call-room-info__pic--svg")
    }
  }
}

async function initialiseEventForOnCallRoomInfoModal() {
  let onCallRoomInfoModal = document.getElementById("onCallRoomInfoModal")
  if (onCallRoomInfoModal) {
    onCallRoomInfoModal
      .getElementsByClassName("on-call-room-info__close-btn")[0]
      .addEventListener("click", () => {
        onCallRoomInfoModal.classList.add("inner-modal--hide")
        let onCallRoomInfoBtn = document.querySelector(
          `.on-call-btn[data-btn-type="call-room-info"]`
        )
        onCallRoomInfoBtn.classList.add("on-call-btn--unselected")
        onCallRoomInfoBtn.classList.remove("on-call-btn--selected")
        onCallRoomInfoBtn.dataset.btnWorkingState = "open-modal"
      })
  }

  window.addEventListener("click", e => {
    if (e.target === onCallRoomInfoModal) {
      onCallRoomInfoModal.classList.add("inner-modal--hide")

      let onCallRoomInfoBtn = document.querySelector(
        `.on-call-btn[data-btn-type="call-room-info"]`
      )
      onCallRoomInfoBtn.classList.add("on-call-btn--unselected")
      onCallRoomInfoBtn.classList.remove("on-call-btn--selected")
      onCallRoomInfoBtn.dataset.btnWorkingState = "open-modal"
    }
  })
}
