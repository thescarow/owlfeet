"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_socket_event-handler_chat-socket_index_js"],{

/***/ "./dev-javascripts/socket/event-handler/chat-socket/index.js":
/*!*******************************************************************!*\
  !*** ./dev-javascripts/socket/event-handler/chat-socket/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createChatSocket\": () => (/* binding */ createChatSocket)\n/* harmony export */ });\nasync function createChatSocket(socket) {\n  try {\n    console.log(\"insideChatSocket\");\n    let activeChatSection = document.getElementById(\"activeChatSection\");\n    let activeChatMessageContainer = document.getElementById(\"activeChatMessageContainer\");\n    let activeChatHeaderStatus = document.getElementById(\"activeChatHeaderStatus\");\n    socket.on(\"chat:message-start-typing\", async data => {\n      if (activeChatSection.dataset.chatId.toString() === data.chatId.toString()) {\n        activeChatHeaderStatus.innerHTML = `${data.isGroupChat ? data.user.firstName : \"\"} typing<span class=\"active-chat-header__typing-effect\">.</span><span class=\"active-chat-header__typing-effect\">.</span><span class=\"active-chat-header__typing-effect\">.</span>`;\n        activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n      }\n    });\n    socket.on(\"chat:message-stop-typing\", async data => {\n      if (activeChatSection.dataset.chatId.toString() === data.chatId.toString()) {\n        if (data.isGroupChat) {\n          activeChatHeaderStatus.textContent = \"\";\n        } else {\n          activeChatHeaderStatus.textContent = \"Active\";\n        }\n\n        activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n      }\n    });\n    socket.on(\"chat:new-message\", async message => {\n      let chatId = activeChatSection.dataset.chatId;\n      let {\n        updateAllChatSection\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      updateAllChatSection(message);\n      let {\n        increaseUnseenMessagesCountInChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      increaseUnseenMessagesCountInChatBox(message.chat);\n\n      if (chatId.toString() !== \"\" && chatId.toString() === message.chat.toString()) {\n        let {\n          checkTimeAndCreateNewMessage\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        checkTimeAndCreateNewMessage(message, activeChatMessageContainer, true);\n      }\n    }); ////////////////////////////////////////////\n\n    socket.on(\"chat:new-info-message\", async message => {\n      let chatId = activeChatSection.dataset.chatId;\n      let {\n        updateAllChatSection\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      updateAllChatSection(message);\n      let {\n        increaseUnseenMessagesCountInChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      increaseUnseenMessagesCountInChatBox(message.chat._id);\n\n      if (chatId !== \"\" && chatId === message.chat._id) {\n        let {\n          createInfoMessage\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        createInfoMessage(message, activeChatMessageContainer, \"beforeend\", true);\n      }\n    }); //////////////////////////////////////////\n\n    socket.on(\"chat:create-new-group-chat\", async chat => {\n      console.log(\"created-new-group-chat\");\n      let {\n        createChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      createChatBox(chat);\n    });\n    socket.on(\"chat:edit-group-chat\", async chat => {\n      console.log(\"edit-group-chat\");\n      activeChatData = { ...chat\n      };\n      let {\n        updateActiveChatInfoModal\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_chat_js_createActiveChatInfoModal_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de2\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/createActiveChatInfoModal.dev */ \"./dev-javascripts/chat/js/createActiveChatInfoModal.dev.js\"));\n      let {\n        updateActiveChatSection\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_showActiveChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/showActiveChatSection.dev */ \"./dev-javascripts/chat/js/showActiveChatSection.dev.js\"));\n      let {\n        updateChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      updateActiveChatInfoModal();\n      updateActiveChatSection(activeChatData);\n      updateChatBox(activeChatData);\n    });\n    socket.on(\"chat:clear-chat-all-messages\", async chatId => {\n      let {\n        clearActiveChatMessageContainer\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_showActiveChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/showActiveChatSection.dev */ \"./dev-javascripts/chat/js/showActiveChatSection.dev.js\"));\n      let {\n        clearChatBoxLatestMessage\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      clearActiveChatMessageContainer();\n      clearChatBoxLatestMessage(chatId);\n    });\n    socket.on(\"chat:delete-chat\", async chatId => {\n      let {\n        clearActiveChatMessageContainer\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_showActiveChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/showActiveChatSection.dev */ \"./dev-javascripts/chat/js/showActiveChatSection.dev.js\"));\n      let {\n        showAllChatSection,\n        deleteChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      showAllChatSection();\n      deleteChatBox(chatId);\n      clearActiveChatMessageContainer();\n    });\n    socket.on(\"chat:user-left-group-chat\", async (chatId, userId) => {\n      let {\n        removeChatInfoMember\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_chat_js_createActiveChatInfoModal_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de2\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/createActiveChatInfoModal.dev */ \"./dev-javascripts/chat/js/createActiveChatInfoModal.dev.js\"));\n      removeChatInfoMember(chatId, userId);\n    });\n    socket.on(\"chat:delete-message-for-all\", async data => {\n      let {\n        convertUserMessageToDeletedForAllMessage\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n      convertUserMessageToDeletedForAllMessage(data.deletedForAllMessage);\n\n      if (data.isLatestMessageChanged) {\n        let {\n          updateChatBoxLatestMessage\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n        updateChatBoxLatestMessage(data.latestMessage);\n      }\n    });\n    socket.on(\"chat:message-delivered\", async data => {\n      if (data.chatId.toString() === activeChatSection.dataset.chatId.toString()) {\n        let {\n          changeUserMessageStatusToDelivered\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        changeUserMessageStatusToDelivered(data.messageId);\n        let {\n          updateMessageInfoDeliveryStatus\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_userMessageOptionModal_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/userMessageOptionModal.dev */ \"./dev-javascripts/chat/js/userMessageOptionModal.dev.js\"));\n        updateMessageInfoDeliveryStatus(data.messageId, data.deliveredTime);\n      }\n    });\n    socket.on(\"chat:update-message-seen-status\", async data => {\n      if (data.chatId.toString() === activeChatSection.dataset.chatId.toString()) {\n        let {\n          changeUserMessageStatusWithMessageSeenStatusCount\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        changeUserMessageStatusWithMessageSeenStatusCount(data.messageId, data.messageSeenStatusCount, data.messageReaderCount);\n        let {\n          addUserToMessageInfoSeenStatus\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_userMessageOptionModal_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/userMessageOptionModal.dev */ \"./dev-javascripts/chat/js/userMessageOptionModal.dev.js\"));\n        addUserToMessageInfoSeenStatus(data.messageId, data.pushedUser, data.pushedUserTime);\n      }\n    });\n    socket.on(\"chat:message-seen-by-self\", async data => {\n      let {\n        decreaseUnseenMessagesCountInChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      decreaseUnseenMessagesCountInChatBox(data.chatId);\n    });\n    socket.on(\"call:created-chat-call-room\", async data => {\n      let {\n        showChatCallRoomBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      showChatCallRoomBox(data.chatId, data.callRoomId);\n    });\n    socket.on(\"call:end-chat-call-room\", async data => {\n      let {\n        hideChatCallRoomBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      hideChatCallRoomBox(data.chatId);\n    });\n  } catch (e) {\n    console.log(\"socket problem\", e.message);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYtamF2YXNjcmlwdHMvc29ja2V0L2V2ZW50LWhhbmRsZXIvY2hhdC1zb2NrZXQvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLGVBQWVBLGdCQUFmLENBQWdDQyxNQUFoQyxFQUF3QztFQUM3QyxJQUFJO0lBQ0ZDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGtCQUFaO0lBRUEsSUFBSUMsaUJBQWlCLEdBQUdDLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixtQkFBeEIsQ0FBeEI7SUFFQSxJQUFJQywwQkFBMEIsR0FBR0YsUUFBUSxDQUFDQyxjQUFULENBQy9CLDRCQUQrQixDQUFqQztJQUlBLElBQUlFLHNCQUFzQixHQUFHSCxRQUFRLENBQUNDLGNBQVQsQ0FDM0Isd0JBRDJCLENBQTdCO0lBSUFMLE1BQU0sQ0FBQ1EsRUFBUCxDQUFVLDJCQUFWLEVBQXVDLE1BQU1DLElBQU4sSUFBYztNQUNuRCxJQUNFTixpQkFBaUIsQ0FBQ08sT0FBbEIsQ0FBMEJDLE1BQTFCLENBQWlDQyxRQUFqQyxPQUFnREgsSUFBSSxDQUFDRSxNQUFMLENBQVlDLFFBQVosRUFEbEQsRUFFRTtRQUNBTCxzQkFBc0IsQ0FBQ00sU0FBdkIsR0FBb0MsR0FDbENKLElBQUksQ0FBQ0ssV0FBTCxHQUFtQkwsSUFBSSxDQUFDTSxJQUFMLENBQVVDLFNBQTdCLEdBQXlDLEVBQzFDLGlMQUZEO1FBSUFULHNCQUFzQixDQUFDVSxTQUF2QixDQUFpQ0MsTUFBakMsQ0FDRSx1Q0FERjtNQUdEO0lBQ0YsQ0FaRDtJQWFBbEIsTUFBTSxDQUFDUSxFQUFQLENBQVUsMEJBQVYsRUFBc0MsTUFBTUMsSUFBTixJQUFjO01BQ2xELElBQ0VOLGlCQUFpQixDQUFDTyxPQUFsQixDQUEwQkMsTUFBMUIsQ0FBaUNDLFFBQWpDLE9BQWdESCxJQUFJLENBQUNFLE1BQUwsQ0FBWUMsUUFBWixFQURsRCxFQUVFO1FBQ0EsSUFBSUgsSUFBSSxDQUFDSyxXQUFULEVBQXNCO1VBQ3BCUCxzQkFBc0IsQ0FBQ1ksV0FB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Q1EsRUFBUCxDQUFVLHlCQUFWLEVBQXFDLE1BQU1DLElBQU4sSUFBYztNQUNqRCxJQUFJO1FBQUUrQztNQUFGLElBQTBCLE1BQU0sMFBBQXBDO01BR0FBLG1CQUFtQixDQUFDL0MsSUFBSSxDQUFDRSxNQUFOLENBQW5CO0lBQ0QsQ0FMRDtFQU1ELENBM01ELENBMk1FLE9BQU84QyxDQUFQLEVBQVU7SUFDVnhELE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGdCQUFaLEVBQThCdUQsQ0FBQyxDQUFDckMsT0FBaEM7RUFDRDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9kZXYtamF2YXNjcmlwdHMvc29ja2V0L2V2ZW50LWhhbmRsZXIvY2hhdC1zb2NrZXQvaW5kZXguanM/YjgyNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2hhdFNvY2tldChzb2NrZXQpIHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coXCJpbnNpZGVDaGF0U29ja2V0XCIpXHJcblxyXG4gICAgbGV0IGFjdGl2ZUNoYXRTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0U2VjdGlvblwiKVxyXG5cclxuICAgIGxldCBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICBcImFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyXCJcclxuICAgIClcclxuXHJcbiAgICBsZXQgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICBcImFjdGl2ZUNoYXRIZWFkZXJTdGF0dXNcIlxyXG4gICAgKVxyXG5cclxuICAgIHNvY2tldC5vbihcImNoYXQ6bWVzc2FnZS1zdGFydC10eXBpbmdcIiwgYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZC50b1N0cmluZygpID09PSBkYXRhLmNoYXRJZC50b1N0cmluZygpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMuaW5uZXJIVE1MID0gYCR7XHJcbiAgICAgICAgICBkYXRhLmlzR3JvdXBDaGF0ID8gZGF0YS51c2VyLmZpcnN0TmFtZSA6IFwiXCJcclxuICAgICAgICB9IHR5cGluZzxzcGFuIGNsYXNzPVwiYWN0aXZlLWNoYXQtaGVhZGVyX190eXBpbmctZWZmZWN0XCI+Ljwvc3Bhbj48c3BhbiBjbGFzcz1cImFjdGl2ZS1jaGF0LWhlYWRlcl9fdHlwaW5nLWVmZmVjdFwiPi48L3NwYW4+PHNwYW4gY2xhc3M9XCJhY3RpdmUtY2hhdC1oZWFkZXJfX3R5cGluZy1lZmZlY3RcIj4uPC9zcGFuPmBcclxuXHJcbiAgICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgICAgXCJhY3RpdmUtY2hhdC1oZWFkZXJfX2NoYXQtc3RhdHVzLS1oaWRlXCJcclxuICAgICAgICApXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBzb2NrZXQub24oXCJjaGF0Om1lc3NhZ2Utc3RvcC10eXBpbmdcIiwgYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZC50b1N0cmluZygpID09PSBkYXRhLmNoYXRJZC50b1N0cmluZygpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGlmIChkYXRhLmlzR3JvdXBDaGF0KSB7XHJcbiAgICAgICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLnRleHRDb250ZW50ID0gXCJcIlxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLnRleHRDb250ZW50ID0gXCJBY3RpdmVcIlxyXG4gICAgICAgIH1cclxuICAgICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgICAgICBcImFjdGl2ZS1jaGF0LWhlYWRlcl9fY2hhdC1zdGF0dXMtLWhpZGVcIlxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBzb2NrZXQub24oXCJjaGF0Om5ldy1tZXNzYWdlXCIsIGFzeW5jIG1lc3NhZ2UgPT4ge1xyXG4gICAgICBsZXQgY2hhdElkID0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWRcclxuICAgICAgbGV0IHsgdXBkYXRlQWxsQ2hhdFNlY3Rpb24gfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgKVxyXG4gICAgICB1cGRhdGVBbGxDaGF0U2VjdGlvbihtZXNzYWdlKVxyXG4gICAgICBsZXQgeyBpbmNyZWFzZVVuc2Vlbk1lc3NhZ2VzQ291bnRJbkNoYXRCb3ggfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBpbmNyZWFzZVVuc2Vlbk1lc3NhZ2VzQ291bnRJbkNoYXRCb3gobWVzc2FnZS5jaGF0KVxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgY2hhdElkLnRvU3RyaW5nKCkgIT09IFwiXCIgJiZcclxuICAgICAgICBjaGF0SWQudG9TdHJpbmcoKSA9PT0gbWVzc2FnZS5jaGF0LnRvU3RyaW5nKClcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHsgY2hlY2tUaW1lQW5kQ3JlYXRlTmV3TWVzc2FnZSB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL21lc3NhZ2UuZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgY2hlY2tUaW1lQW5kQ3JlYXRlTmV3TWVzc2FnZShtZXNzYWdlLCBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciwgdHJ1ZSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICBzb2NrZXQub24oXCJjaGF0Om5ldy1pbmZvLW1lc3NhZ2VcIiwgYXN5bmMgbWVzc2FnZSA9PiB7XHJcbiAgICAgIGxldCBjaGF0SWQgPSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZFxyXG4gICAgICBsZXQgeyB1cGRhdGVBbGxDaGF0U2VjdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIHVwZGF0ZUFsbENoYXRTZWN0aW9uKG1lc3NhZ2UpXHJcbiAgICAgIGxldCB7IGluY3JlYXNlVW5zZWVuTWVzc2FnZXNDb3VudEluQ2hhdEJveCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIGluY3JlYXNlVW5zZWVuTWVzc2FnZXNDb3VudEluQ2hhdEJveChtZXNzYWdlLmNoYXQuX2lkKVxyXG4gICAgICBpZiAoY2hhdElkICE9PSBcIlwiICYmIGNoYXRJZCA9PT0gbWVzc2FnZS5jaGF0Ll9pZCkge1xyXG4gICAgICAgIGxldCB7IGNyZWF0ZUluZm9NZXNzYWdlIH0gPSBhd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi9jaGF0L2pzL21lc3NhZ2UuZGV2XCIpXHJcbiAgICAgICAgY3JlYXRlSW5mb01lc3NhZ2UoXHJcbiAgICAgICAgICBtZXNzYWdlLFxyXG4gICAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIsXHJcbiAgICAgICAgICBcImJlZm9yZWVuZFwiLFxyXG4gICAgICAgICAgdHJ1ZVxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIHNvY2tldC5vbihcImNoYXQ6Y3JlYXRlLW5ldy1ncm91cC1jaGF0XCIsIGFzeW5jIGNoYXQgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImNyZWF0ZWQtbmV3LWdyb3VwLWNoYXRcIilcclxuICAgICAgbGV0IHsgY3JlYXRlQ2hhdEJveCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIGNyZWF0ZUNoYXRCb3goY2hhdClcclxuICAgIH0pXHJcbiAgICBzb2NrZXQub24oXCJjaGF0OmVkaXQtZ3JvdXAtY2hhdFwiLCBhc3luYyBjaGF0ID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJlZGl0LWdyb3VwLWNoYXRcIilcclxuICAgICAgYWN0aXZlQ2hhdERhdGEgPSB7IC4uLmNoYXQgfVxyXG4gICAgICBsZXQgeyB1cGRhdGVBY3RpdmVDaGF0SW5mb01vZGFsIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL2NyZWF0ZUFjdGl2ZUNoYXRJbmZvTW9kYWwuZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBsZXQgeyB1cGRhdGVBY3RpdmVDaGF0U2VjdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy9zaG93QWN0aXZlQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBsZXQgeyB1cGRhdGVDaGF0Qm94IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuXHJcbiAgICAgIHVwZGF0ZUFjdGl2ZUNoYXRJbmZvTW9kYWwoKVxyXG4gICAgICB1cGRhdGVBY3RpdmVDaGF0U2VjdGlvbihhY3RpdmVDaGF0RGF0YSlcclxuICAgICAgdXBkYXRlQ2hhdEJveChhY3RpdmVDaGF0RGF0YSlcclxuICAgIH0pXHJcbiAgICBzb2NrZXQub24oXCJjaGF0OmNsZWFyLWNoYXQtYWxsLW1lc3NhZ2VzXCIsIGFzeW5jIGNoYXRJZCA9PiB7XHJcbiAgICAgIGxldCB7IGNsZWFyQWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvc2hvd0FjdGl2ZUNoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgbGV0IHsgY2xlYXJDaGF0Qm94TGF0ZXN0TWVzc2FnZSB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIGNsZWFyQWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIoKVxyXG4gICAgICBjbGVhckNoYXRCb3hMYXRlc3RNZXNzYWdlKGNoYXRJZClcclxuICAgIH0pXHJcbiAgICBzb2NrZXQub24oXCJjaGF0OmRlbGV0ZS1jaGF0XCIsIGFzeW5jIGNoYXRJZCA9PiB7XHJcbiAgICAgIGxldCB7IGNsZWFyQWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvc2hvd0FjdGl2ZUNoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgbGV0IHsgc2hvd0FsbENoYXRTZWN0aW9uLCBkZWxldGVDaGF0Qm94IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuXHJcbiAgICAgIHNob3dBbGxDaGF0U2VjdGlvbigpXHJcbiAgICAgIGRlbGV0ZUNoYXRCb3goY2hhdElkKVxyXG4gICAgICBjbGVhckFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyKClcclxuICAgIH0pXHJcblxyXG4gICAgc29ja2V0Lm9uKFwiY2hhdDp1c2VyLWxlZnQtZ3JvdXAtY2hhdFwiLCBhc3luYyAoY2hhdElkLCB1c2VySWQpID0+IHtcclxuICAgICAgbGV0IHsgcmVtb3ZlQ2hhdEluZm9NZW1iZXIgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvY3JlYXRlQWN0aXZlQ2hhdEluZm9Nb2RhbC5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIHJlbW92ZUNoYXRJbmZvTWVtYmVyKGNoYXRJZCwgdXNlcklkKVxyXG4gICAgfSlcclxuICAgIHNvY2tldC5vbihcImNoYXQ6ZGVsZXRlLW1lc3NhZ2UtZm9yLWFsbFwiLCBhc3luYyBkYXRhID0+IHtcclxuICAgICAgbGV0IHsgY29udmVydFVzZXJNZXNzYWdlVG9EZWxldGVkRm9yQWxsTWVzc2FnZSB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy9tZXNzYWdlLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgY29udmVydFVzZXJNZXNzYWdlVG9EZWxldGVkRm9yQWxsTWVzc2FnZShkYXRhLmRlbGV0ZWRGb3JBbGxNZXNzYWdlKVxyXG4gICAgICBpZiAoZGF0YS5pc0xhdGVzdE1lc3NhZ2VDaGFuZ2VkKSB7XHJcbiAgICAgICAgbGV0IHsgdXBkYXRlQ2hhdEJveExhdGVzdE1lc3NhZ2UgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICAgIClcclxuICAgICAgICB1cGRhdGVDaGF0Qm94TGF0ZXN0TWVzc2FnZShkYXRhLmxhdGVzdE1lc3NhZ2UpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBzb2NrZXQub24oXCJjaGF0Om1lc3NhZ2UtZGVsaXZlcmVkXCIsIGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZGF0YS5jaGF0SWQudG9TdHJpbmcoKSA9PT0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWQudG9TdHJpbmcoKVxyXG4gICAgICApIHtcclxuICAgICAgICBsZXQgeyBjaGFuZ2VVc2VyTWVzc2FnZVN0YXR1c1RvRGVsaXZlcmVkIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvbWVzc2FnZS5kZXZcIlxyXG4gICAgICAgIClcclxuICAgICAgICBjaGFuZ2VVc2VyTWVzc2FnZVN0YXR1c1RvRGVsaXZlcmVkKGRhdGEubWVzc2FnZUlkKVxyXG4gICAgICAgIGxldCB7IHVwZGF0ZU1lc3NhZ2VJbmZvRGVsaXZlcnlTdGF0dXMgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91c2VyTWVzc2FnZU9wdGlvbk1vZGFsLmRldlwiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHVwZGF0ZU1lc3NhZ2VJbmZvRGVsaXZlcnlTdGF0dXMoZGF0YS5tZXNzYWdlSWQsIGRhdGEuZGVsaXZlcmVkVGltZSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHNvY2tldC5vbihcImNoYXQ6dXBkYXRlLW1lc3NhZ2Utc2Vlbi1zdGF0dXNcIiwgYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBkYXRhLmNoYXRJZC50b1N0cmluZygpID09PSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZC50b1N0cmluZygpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGxldCB7IGNoYW5nZVVzZXJNZXNzYWdlU3RhdHVzV2l0aE1lc3NhZ2VTZWVuU3RhdHVzQ291bnQgfSA9XHJcbiAgICAgICAgICBhd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi9jaGF0L2pzL21lc3NhZ2UuZGV2XCIpXHJcbiAgICAgICAgY2hhbmdlVXNlck1lc3NhZ2VTdGF0dXNXaXRoTWVzc2FnZVNlZW5TdGF0dXNDb3VudChcclxuICAgICAgICAgIGRhdGEubWVzc2FnZUlkLFxyXG4gICAgICAgICAgZGF0YS5tZXNzYWdlU2VlblN0YXR1c0NvdW50LFxyXG4gICAgICAgICAgZGF0YS5tZXNzYWdlUmVhZGVyQ291bnRcclxuICAgICAgICApXHJcbiAgICAgICAgbGV0IHsgYWRkVXNlclRvTWVzc2FnZUluZm9TZWVuU3RhdHVzIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXNlck1lc3NhZ2VPcHRpb25Nb2RhbC5kZXZcIlxyXG4gICAgICAgIClcclxuICAgICAgICBhZGRVc2VyVG9NZXNzYWdlSW5mb1NlZW5TdGF0dXMoXHJcbiAgICAgICAgICBkYXRhLm1lc3NhZ2VJZCxcclxuICAgICAgICAgIGRhdGEucHVzaGVkVXNlcixcclxuICAgICAgICAgIGRhdGEucHVzaGVkVXNlclRpbWVcclxuICAgICAgICApXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBzb2NrZXQub24oXCJjaGF0Om1lc3NhZ2Utc2Vlbi1ieS1zZWxmXCIsIGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBsZXQgeyBkZWNyZWFzZVVuc2Vlbk1lc3NhZ2VzQ291bnRJbkNoYXRCb3ggfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBkZWNyZWFzZVVuc2Vlbk1lc3NhZ2VzQ291bnRJbkNoYXRCb3goZGF0YS5jaGF0SWQpXHJcbiAgICB9KVxyXG4gICAgc29ja2V0Lm9uKFwiY2FsbDpjcmVhdGVkLWNoYXQtY2FsbC1yb29tXCIsIGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBsZXQgeyBzaG93Q2hhdENhbGxSb29tQm94IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuXHJcbiAgICAgIHNob3dDaGF0Q2FsbFJvb21Cb3goZGF0YS5jaGF0SWQsIGRhdGEuY2FsbFJvb21JZClcclxuICAgIH0pXHJcbiAgICBzb2NrZXQub24oXCJjYWxsOmVuZC1jaGF0LWNhbGwtcm9vbVwiLCBhc3luYyBkYXRhID0+IHtcclxuICAgICAgbGV0IHsgaGlkZUNoYXRDYWxsUm9vbUJveCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIGhpZGVDaGF0Q2FsbFJvb21Cb3goZGF0YS5jaGF0SWQpXHJcbiAgICB9KVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKFwic29ja2V0IHByb2JsZW1cIiwgZS5tZXNzYWdlKVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2hhdFNvY2tldCIsInNvY2tldCIsImNvbnNvbGUiLCJsb2ciLCJhY3RpdmVDaGF0U2VjdGlvbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciIsImFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMiLCJvbiIsImRhdGEiLCJkYXRhc2V0IiwiY2hhdElkIiwidG9TdHJpbmciLCJpbm5lckhUTUwiLCJpc0dyb3VwQ2hhdCIsInVzZXIiLCJmaXJzdE5hbWUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0ZXh0Q29udGVudCIsIm1lc3NhZ2UiLCJ1cGRhdGVBbGxDaGF0U2VjdGlvbiIsImluY3JlYXNlVW5zZWVuTWVzc2FnZXNDb3VudEluQ2hhdEJveCIsImNoYXQiLCJjaGVja1RpbWVBbmRDcmVhdGVOZXdNZXNzYWdlIiwiX2lkIiwiY3JlYXRlSW5mb01lc3NhZ2UiLCJjcmVhdGVDaGF0Qm94IiwiYWN0aXZlQ2hhdERhdGEiLCJ1cGRhdGVBY3RpdmVDaGF0SW5mb01vZGFsIiwidXBkYXRlQWN0aXZlQ2hhdFNlY3Rpb24iLCJ1cGRhdGVDaGF0Qm94IiwiY2xlYXJBY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciIsImNsZWFyQ2hhdEJveExhdGVzdE1lc3NhZ2UiLCJzaG93QWxsQ2hhdFNlY3Rpb24iLCJkZWxldGVDaGF0Qm94IiwidXNlcklkIiwicmVtb3ZlQ2hhdEluZm9NZW1iZXIiLCJjb252ZXJ0VXNlck1lc3NhZ2VUb0RlbGV0ZWRGb3JBbGxNZXNzYWdlIiwiZGVsZXRlZEZvckFsbE1lc3NhZ2UiLCJpc0xhdGVzdE1lc3NhZ2VDaGFuZ2VkIiwidXBkYXRlQ2hhdEJveExhdGVzdE1lc3NhZ2UiLCJsYXRlc3RNZXNzYWdlIiwiY2hhbmdlVXNlck1lc3NhZ2VTdGF0dXNUb0RlbGl2ZXJlZCIsIm1lc3NhZ2VJZCIsInVwZGF0ZU1lc3NhZ2VJbmZvRGVsaXZlcnlTdGF0dXMiLCJkZWxpdmVyZWRUaW1lIiwiY2hhbmdlVXNlck1lc3NhZ2VTdGF0dXNXaXRoTWVzc2FnZVNlZW5TdGF0dXNDb3VudCIsIm1lc3NhZ2VTZWVuU3RhdHVzQ291bnQiLCJtZXNzYWdlUmVhZGVyQ291bnQiLCJhZGRVc2VyVG9NZXNzYWdlSW5mb1NlZW5TdGF0dXMiLCJwdXNoZWRVc2VyIiwicHVzaGVkVXNlclRpbWUiLCJkZWNyZWFzZVVuc2Vlbk1lc3NhZ2VzQ291bnRJbkNoYXRCb3giLCJzaG93Q2hhdENhbGxSb29tQm94IiwiY2FsbFJvb21JZCIsImhpZGVDaGF0Q2FsbFJvb21Cb3giLCJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./dev-javascripts/socket/event-handler/chat-socket/index.js\n");

/***/ })

}]);