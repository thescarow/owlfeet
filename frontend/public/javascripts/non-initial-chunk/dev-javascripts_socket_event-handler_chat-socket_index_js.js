"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_socket_event-handler_chat-socket_index_js"],{

/***/ "./dev-javascripts/socket/event-handler/chat-socket/index.js":
/*!*******************************************************************!*\
  !*** ./dev-javascripts/socket/event-handler/chat-socket/index.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createChatSocket\": () => (/* binding */ createChatSocket)\n/* harmony export */ });\nasync function createChatSocket(socket) {\n  try {\n    console.log(\"insideChatSocket\");\n    let activeChatSection = document.getElementById(\"activeChatSection\");\n    let activeChatMessageContainer = document.getElementById(\"activeChatMessageContainer\");\n    let activeChatHeaderStatus = document.getElementById(\"activeChatHeaderStatus\");\n    socket.on(\"chat:message-start-typing\", async data => {\n      if (activeChatSection.dataset.chatId.toString() === data.chatId.toString()) {\n        activeChatHeaderStatus.innerHTML = `${data.isGroupChat ? data.user.firstName : \"\"} typing<span class=\"active-chat-header__typing-effect\">.</span><span class=\"active-chat-header__typing-effect\">.</span><span class=\"active-chat-header__typing-effect\">.</span>`;\n        activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n      }\n    });\n    socket.on(\"chat:message-stop-typing\", async data => {\n      if (activeChatSection.dataset.chatId.toString() === data.chatId.toString()) {\n        if (data.isGroupChat) {\n          activeChatHeaderStatus.textContent = \"\";\n        } else {\n          activeChatHeaderStatus.textContent = \"Active\";\n        }\n\n        activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n      }\n    });\n    socket.on(\"chat:new-message\", async data => {\n      console.log(\"new-message data:\", data);\n      let message = data.message;\n      let chatId = activeChatSection.dataset.chatId;\n      let {\n        updateAllChatSection\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      updateAllChatSection(message);\n      let {\n        increaseUnseenMessagesCountInChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      increaseUnseenMessagesCountInChatBox(message.chat._id);\n\n      if (chatId.toString() !== \"\" && chatId.toString() === message.chat._id.toString()) {\n        let {\n          checkTimeAndCreateNewMessage\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        checkTimeAndCreateNewMessage(message, activeChatMessageContainer, true);\n      }\n    }); ////////////////////////////////////////////\n\n    socket.on(\"chat:new-info-message\", async data => {\n      let message = data.message;\n      let chatId = activeChatSection.dataset.chatId;\n      let {\n        updateAllChatSection\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      updateAllChatSection(message);\n      let {\n        increaseUnseenMessagesCountInChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      increaseUnseenMessagesCountInChatBox(message.chat._id);\n\n      if (chatId !== \"\" && chatId === message.chat._id) {\n        let {\n          createInfoMessage\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        let infoMessageBox = createInfoMessage(message);\n        activeChatMessageContainer.insertAdjacentElement(\"beforeend\", infoMessageBox);\n        activeChatMessageContainer.scrollTop = activeChatMessageContainer.scrollHeight + 1000;\n      }\n    }); //////////////////////////////////////////\n\n    socket.on(\"chat:create-new-group-chat\", async chat => {\n      console.log(\"created-new-group-chat\");\n      let {\n        createChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      createChatBox(chat);\n    });\n    socket.on(\"chat:edit-group-chat\", async chat => {\n      console.log(\"edit-group-chat\");\n      activeChatData = { ...chat\n      };\n      let {\n        updateActiveChatInfoModal\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_chat_js_createActiveChatInfoModal_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de2\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/createActiveChatInfoModal.dev */ \"./dev-javascripts/chat/js/createActiveChatInfoModal.dev.js\"));\n      let {\n        updateActiveChatSection\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_showActiveChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/showActiveChatSection.dev */ \"./dev-javascripts/chat/js/showActiveChatSection.dev.js\"));\n      let {\n        updateChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      updateActiveChatInfoModal();\n      updateActiveChatSection(activeChatData);\n      updateChatBox(activeChatData);\n    });\n    socket.on(\"chat:clear-chat-all-messages\", async chatId => {\n      let {\n        clearActiveChatMessageContainer\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_showActiveChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/showActiveChatSection.dev */ \"./dev-javascripts/chat/js/showActiveChatSection.dev.js\"));\n      let {\n        clearChatBoxLatestMessage\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      clearActiveChatMessageContainer();\n      clearChatBoxLatestMessage(chatId);\n    });\n    socket.on(\"chat:delete-chat\", async chatId => {\n      let {\n        clearActiveChatMessageContainer\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_showActiveChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/showActiveChatSection.dev */ \"./dev-javascripts/chat/js/showActiveChatSection.dev.js\"));\n      let {\n        showAllChatSection,\n        deleteChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      showAllChatSection();\n      deleteChatBox(chatId);\n      clearActiveChatMessageContainer();\n    });\n    socket.on(\"chat:user-left-group-chat\", async (chatId, userId) => {\n      let {\n        removeChatInfoMember\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_chat_js_createActiveChatInfoModal_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de2\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/createActiveChatInfoModal.dev */ \"./dev-javascripts/chat/js/createActiveChatInfoModal.dev.js\"));\n      removeChatInfoMember(chatId, userId);\n    });\n    socket.on(\"chat:delete-message-for-all\", async data => {\n      let {\n        convertUserMessageToDeletedForAllMessage\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n      convertUserMessageToDeletedForAllMessage(data.deletedForAllMessage);\n\n      if (data.isLatestMessageChanged) {\n        let {\n          updateChatBoxLatestMessage\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n        updateChatBoxLatestMessage(data.latestMessage);\n      }\n    });\n    socket.on(\"chat:message-delivered\", async data => {\n      if (data.chatId.toString() === activeChatSection.dataset.chatId.toString()) {\n        let {\n          changeUserMessageStatusToDelivered\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        changeUserMessageStatusToDelivered(data.messageId);\n        let {\n          updateMessageInfoDeliveryStatus\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_userMessageOptionModal_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/userMessageOptionModal.dev */ \"./dev-javascripts/chat/js/userMessageOptionModal.dev.js\"));\n        updateMessageInfoDeliveryStatus(data.messageId, data.deliveredTime);\n      }\n    });\n    socket.on(\"chat:update-message-seen-status\", async data => {\n      if (data.chatId.toString() === activeChatSection.dataset.chatId.toString()) {\n        let {\n          changeUserMessageStatusWithMessageSeenStatusCount\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        changeUserMessageStatusWithMessageSeenStatusCount(data.messageId, data.messageSeenStatusCount, data.messageReaderCount);\n        let {\n          addUserToMessageInfoSeenStatus\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_userMessageOptionModal_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/userMessageOptionModal.dev */ \"./dev-javascripts/chat/js/userMessageOptionModal.dev.js\"));\n        addUserToMessageInfoSeenStatus(data.messageId, data.pushedUser, data.pushedUserTime);\n      }\n    });\n    socket.on(\"chat:message-seen-by-self\", async data => {\n      let {\n        decreaseUnseenMessagesCountInChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      decreaseUnseenMessagesCountInChatBox(data.chatId);\n    });\n    socket.on(\"chat:created-chat-call-room\", async data => {\n      let {\n        showChatBoxCallRoomBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      showChatBoxCallRoomBox(data.chatId, data.callRoom._id);\n\n      if (activeChatSection.dataset.chatId.toString() === data.chatId.toString()) {\n        let {\n          openActiveChatCallRoomBox\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_showActiveChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/showActiveChatSection.dev */ \"./dev-javascripts/chat/js/showActiveChatSection.dev.js\"));\n        openActiveChatCallRoomBox(data.callRoom._id);\n      }\n    });\n    socket.on(\"chat:end-chat-call-room\", async data => {\n      let {\n        hideChatBoxCallRoomBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      hideChatBoxCallRoomBox(data.chatId);\n\n      if (activeChatSection.dataset.chatId.toString() === data.chatId.toString()) {\n        let {\n          closeActiveChatCallRoomBox\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_showActiveChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/showActiveChatSection.dev */ \"./dev-javascripts/chat/js/showActiveChatSection.dev.js\"));\n        closeActiveChatCallRoomBox();\n      }\n    });\n  } catch (e) {\n    console.log(\"socket problem\", e.message);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYtamF2YXNjcmlwdHMvc29ja2V0L2V2ZW50LWhhbmRsZXIvY2hhdC1zb2NrZXQvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLGVBQWVBLGdCQUFmLENBQWdDQyxNQUFoQyxFQUF3QztFQUM3QyxJQUFJO0lBQ0ZDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGtCQUFaO0lBRUEsSUFBSUMsaUJBQWlCLEdBQUdDLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixtQkFBeEIsQ0FBeEI7SUFFQSxJQUFJQywwQkFBMEIsR0FBR0YsUUFBUSxDQUFDQyxjQUFULENBQy9CLDRCQUQrQixDQUFqQztJQUlBLElBQUlFLHNCQUFzQixHQUFHSCxRQUFRLENBQUNDLGNBQVQsQ0FDM0Isd0JBRDJCLENBQTdCO0lBSUFMLE1BQU0sQ0FBQ1EsRUFBUCxDQUFVLDJCQUFWLEVBQXVDLE1BQU1DLElBQU4sSUFBYztNQUNuRCxJQUNFTixpQkFBaUIsQ0FBQ08sT0FBbEIsQ0FBMEJDLE1BQTFCLENBQWlDQyxRQUFqQyxPQUFnREgsSUFBSSxDQUFDRSxNQUFMLENBQVlDLFFBQVosRUFEbEQsRUFFRTtRQUNBTCxzQkFBc0IsQ0FBQ00sU0FBdkIsR0FBb0MsR0FDbENKLElBQUksQ0FBQ0ssV0FBTCxHQUFtQkwsSUFBSSxDQUFDTSxJQUFMLENBQVVDLFNBQTdCLEdBQXlDLEVBQzFDLGlMQUZEO1FBSUFULHNCQUFzQixDQUFDVSxTQUF2QixDQUFpQ0MsTUFBakMsQ0FDRSx1Q0FERjtNQUdEO0lBQ0YsQ0FaRDtJQWFBbEIsTUFBTSxDQUFDUSxFQUFQLENBQVUsMEJBQVYsRUFBc0MsTUFBTUMsSUFBTixJQUFjO01BQ2xELElBQ0VOLGlCQUFpQixDQUFDTyxPQUFsQixDQUEwQkMsTUFBMUIsQ0FBaUNDLFFBQWpDLE9BQWdESCxJQUFJLENBQUNFLE1BQUwsQ0FBWUMsUUFBWixFQURsRCxFQUVFO1FBQ0EsSUFBSUgsSUFBSSxDQUFDSyxXQUFULEVBQXNCO1VBQ3BCUCxzQkFBc0IsQ0FBQ1ksV0FB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c2NyaXB0cy9zb2NrZXQvZXZlbnQtaGFuZGxlci9jaGF0LXNvY2tldC9pbmRleC5qcz9iODI1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVDaGF0U29ja2V0KHNvY2tldCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZyhcImluc2lkZUNoYXRTb2NrZXRcIilcclxuXHJcbiAgICBsZXQgYWN0aXZlQ2hhdFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRTZWN0aW9uXCIpXHJcblxyXG4gICAgbGV0IGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICAgIFwiYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXJcIlxyXG4gICAgKVxyXG5cclxuICAgIGxldCBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICAgIFwiYWN0aXZlQ2hhdEhlYWRlclN0YXR1c1wiXHJcbiAgICApXHJcblxyXG4gICAgc29ja2V0Lm9uKFwiY2hhdDptZXNzYWdlLXN0YXJ0LXR5cGluZ1wiLCBhc3luYyBkYXRhID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkLnRvU3RyaW5nKCkgPT09IGRhdGEuY2hhdElkLnRvU3RyaW5nKClcclxuICAgICAgKSB7XHJcbiAgICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy5pbm5lckhUTUwgPSBgJHtcclxuICAgICAgICAgIGRhdGEuaXNHcm91cENoYXQgPyBkYXRhLnVzZXIuZmlyc3ROYW1lIDogXCJcIlxyXG4gICAgICAgIH0gdHlwaW5nPHNwYW4gY2xhc3M9XCJhY3RpdmUtY2hhdC1oZWFkZXJfX3R5cGluZy1lZmZlY3RcIj4uPC9zcGFuPjxzcGFuIGNsYXNzPVwiYWN0aXZlLWNoYXQtaGVhZGVyX190eXBpbmctZWZmZWN0XCI+Ljwvc3Bhbj48c3BhbiBjbGFzcz1cImFjdGl2ZS1jaGF0LWhlYWRlcl9fdHlwaW5nLWVmZmVjdFwiPi48L3NwYW4+YFxyXG5cclxuICAgICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgICAgICBcImFjdGl2ZS1jaGF0LWhlYWRlcl9fY2hhdC1zdGF0dXMtLWhpZGVcIlxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHNvY2tldC5vbihcImNoYXQ6bWVzc2FnZS1zdG9wLXR5cGluZ1wiLCBhc3luYyBkYXRhID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkLnRvU3RyaW5nKCkgPT09IGRhdGEuY2hhdElkLnRvU3RyaW5nKClcclxuICAgICAgKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuaXNHcm91cENoYXQpIHtcclxuICAgICAgICAgIGFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMudGV4dENvbnRlbnQgPSBcIlwiXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMudGV4dENvbnRlbnQgPSBcIkFjdGl2ZVwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZShcclxuICAgICAgICAgIFwiYWN0aXZlLWNoYXQtaGVhZGVyX19jaGF0LXN0YXR1cy0taGlkZVwiXHJcbiAgICAgICAgKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIHNvY2tldC5vbihcImNoYXQ6bmV3LW1lc3NhZ2VcIiwgYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwibmV3LW1lc3NhZ2UgZGF0YTpcIiwgZGF0YSlcclxuICAgICAgbGV0IG1lc3NhZ2UgPSBkYXRhLm1lc3NhZ2VcclxuICAgICAgbGV0IGNoYXRJZCA9IGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkXHJcbiAgICAgIGxldCB7IHVwZGF0ZUFsbENoYXRTZWN0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgdXBkYXRlQWxsQ2hhdFNlY3Rpb24obWVzc2FnZSlcclxuICAgICAgbGV0IHsgaW5jcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgaW5jcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94KG1lc3NhZ2UuY2hhdC5faWQpXHJcbiAgICAgIGlmIChcclxuICAgICAgICBjaGF0SWQudG9TdHJpbmcoKSAhPT0gXCJcIiAmJlxyXG4gICAgICAgIGNoYXRJZC50b1N0cmluZygpID09PSBtZXNzYWdlLmNoYXQuX2lkLnRvU3RyaW5nKClcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHsgY2hlY2tUaW1lQW5kQ3JlYXRlTmV3TWVzc2FnZSB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL21lc3NhZ2UuZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgY2hlY2tUaW1lQW5kQ3JlYXRlTmV3TWVzc2FnZShtZXNzYWdlLCBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciwgdHJ1ZSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICBzb2NrZXQub24oXCJjaGF0Om5ldy1pbmZvLW1lc3NhZ2VcIiwgYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAgIGxldCBtZXNzYWdlID0gZGF0YS5tZXNzYWdlXHJcbiAgICAgIGxldCBjaGF0SWQgPSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZFxyXG4gICAgICBsZXQgeyB1cGRhdGVBbGxDaGF0U2VjdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIHVwZGF0ZUFsbENoYXRTZWN0aW9uKG1lc3NhZ2UpXHJcbiAgICAgIGxldCB7IGluY3JlYXNlVW5zZWVuTWVzc2FnZXNDb3VudEluQ2hhdEJveCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIGluY3JlYXNlVW5zZWVuTWVzc2FnZXNDb3VudEluQ2hhdEJveChtZXNzYWdlLmNoYXQuX2lkKVxyXG4gICAgICBpZiAoY2hhdElkICE9PSBcIlwiICYmIGNoYXRJZCA9PT0gbWVzc2FnZS5jaGF0Ll9pZCkge1xyXG4gICAgICAgIGxldCB7IGNyZWF0ZUluZm9NZXNzYWdlIH0gPSBhd2FpdCBpbXBvcnQoXCIuLi8uLi8uLi9jaGF0L2pzL21lc3NhZ2UuZGV2XCIpXHJcblxyXG4gICAgICAgIGxldCBpbmZvTWVzc2FnZUJveCA9IGNyZWF0ZUluZm9NZXNzYWdlKG1lc3NhZ2UpXHJcbiAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFxyXG4gICAgICAgICAgXCJiZWZvcmVlbmRcIixcclxuICAgICAgICAgIGluZm9NZXNzYWdlQm94XHJcbiAgICAgICAgKVxyXG4gICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLnNjcm9sbFRvcCA9XHJcbiAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5zY3JvbGxIZWlnaHQgKyAxMDAwXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICBzb2NrZXQub24oXCJjaGF0OmNyZWF0ZS1uZXctZ3JvdXAtY2hhdFwiLCBhc3luYyBjaGF0ID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJjcmVhdGVkLW5ldy1ncm91cC1jaGF0XCIpXHJcbiAgICAgIGxldCB7IGNyZWF0ZUNoYXRCb3ggfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBjcmVhdGVDaGF0Qm94KGNoYXQpXHJcbiAgICB9KVxyXG4gICAgc29ja2V0Lm9uKFwiY2hhdDplZGl0LWdyb3VwLWNoYXRcIiwgYXN5bmMgY2hhdCA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiZWRpdC1ncm91cC1jaGF0XCIpXHJcbiAgICAgIGFjdGl2ZUNoYXREYXRhID0geyAuLi5jaGF0IH1cclxuICAgICAgbGV0IHsgdXBkYXRlQWN0aXZlQ2hhdEluZm9Nb2RhbCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy9jcmVhdGVBY3RpdmVDaGF0SW5mb01vZGFsLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgbGV0IHsgdXBkYXRlQWN0aXZlQ2hhdFNlY3Rpb24gfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvc2hvd0FjdGl2ZUNoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgbGV0IHsgdXBkYXRlQ2hhdEJveCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcblxyXG4gICAgICB1cGRhdGVBY3RpdmVDaGF0SW5mb01vZGFsKClcclxuICAgICAgdXBkYXRlQWN0aXZlQ2hhdFNlY3Rpb24oYWN0aXZlQ2hhdERhdGEpXHJcbiAgICAgIHVwZGF0ZUNoYXRCb3goYWN0aXZlQ2hhdERhdGEpXHJcbiAgICB9KVxyXG4gICAgc29ja2V0Lm9uKFwiY2hhdDpjbGVhci1jaGF0LWFsbC1tZXNzYWdlc1wiLCBhc3luYyBjaGF0SWQgPT4ge1xyXG4gICAgICBsZXQgeyBjbGVhckFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3Nob3dBY3RpdmVDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIGxldCB7IGNsZWFyQ2hhdEJveExhdGVzdE1lc3NhZ2UgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBjbGVhckFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyKClcclxuICAgICAgY2xlYXJDaGF0Qm94TGF0ZXN0TWVzc2FnZShjaGF0SWQpXHJcbiAgICB9KVxyXG4gICAgc29ja2V0Lm9uKFwiY2hhdDpkZWxldGUtY2hhdFwiLCBhc3luYyBjaGF0SWQgPT4ge1xyXG4gICAgICBsZXQgeyBjbGVhckFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3Nob3dBY3RpdmVDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIGxldCB7IHNob3dBbGxDaGF0U2VjdGlvbiwgZGVsZXRlQ2hhdEJveCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcblxyXG4gICAgICBzaG93QWxsQ2hhdFNlY3Rpb24oKVxyXG4gICAgICBkZWxldGVDaGF0Qm94KGNoYXRJZClcclxuICAgICAgY2xlYXJBY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lcigpXHJcbiAgICB9KVxyXG5cclxuICAgIHNvY2tldC5vbihcImNoYXQ6dXNlci1sZWZ0LWdyb3VwLWNoYXRcIiwgYXN5bmMgKGNoYXRJZCwgdXNlcklkKSA9PiB7XHJcbiAgICAgIGxldCB7IHJlbW92ZUNoYXRJbmZvTWVtYmVyIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL2NyZWF0ZUFjdGl2ZUNoYXRJbmZvTW9kYWwuZGV2XCJcclxuICAgICAgKVxyXG4gICAgICByZW1vdmVDaGF0SW5mb01lbWJlcihjaGF0SWQsIHVzZXJJZClcclxuICAgIH0pXHJcbiAgICBzb2NrZXQub24oXCJjaGF0OmRlbGV0ZS1tZXNzYWdlLWZvci1hbGxcIiwgYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAgIGxldCB7IGNvbnZlcnRVc2VyTWVzc2FnZVRvRGVsZXRlZEZvckFsbE1lc3NhZ2UgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvbWVzc2FnZS5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIGNvbnZlcnRVc2VyTWVzc2FnZVRvRGVsZXRlZEZvckFsbE1lc3NhZ2UoZGF0YS5kZWxldGVkRm9yQWxsTWVzc2FnZSlcclxuICAgICAgaWYgKGRhdGEuaXNMYXRlc3RNZXNzYWdlQ2hhbmdlZCkge1xyXG4gICAgICAgIGxldCB7IHVwZGF0ZUNoYXRCb3hMYXRlc3RNZXNzYWdlIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgdXBkYXRlQ2hhdEJveExhdGVzdE1lc3NhZ2UoZGF0YS5sYXRlc3RNZXNzYWdlKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgc29ja2V0Lm9uKFwiY2hhdDptZXNzYWdlLWRlbGl2ZXJlZFwiLCBhc3luYyBkYXRhID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGRhdGEuY2hhdElkLnRvU3RyaW5nKCkgPT09IGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkLnRvU3RyaW5nKClcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHsgY2hhbmdlVXNlck1lc3NhZ2VTdGF0dXNUb0RlbGl2ZXJlZCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL21lc3NhZ2UuZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgY2hhbmdlVXNlck1lc3NhZ2VTdGF0dXNUb0RlbGl2ZXJlZChkYXRhLm1lc3NhZ2VJZClcclxuICAgICAgICBsZXQgeyB1cGRhdGVNZXNzYWdlSW5mb0RlbGl2ZXJ5U3RhdHVzIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXNlck1lc3NhZ2VPcHRpb25Nb2RhbC5kZXZcIlxyXG4gICAgICAgIClcclxuICAgICAgICB1cGRhdGVNZXNzYWdlSW5mb0RlbGl2ZXJ5U3RhdHVzKGRhdGEubWVzc2FnZUlkLCBkYXRhLmRlbGl2ZXJlZFRpbWUpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBzb2NrZXQub24oXCJjaGF0OnVwZGF0ZS1tZXNzYWdlLXNlZW4tc3RhdHVzXCIsIGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZGF0YS5jaGF0SWQudG9TdHJpbmcoKSA9PT0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWQudG9TdHJpbmcoKVxyXG4gICAgICApIHtcclxuICAgICAgICBsZXQgeyBjaGFuZ2VVc2VyTWVzc2FnZVN0YXR1c1dpdGhNZXNzYWdlU2VlblN0YXR1c0NvdW50IH0gPVxyXG4gICAgICAgICAgYXdhaXQgaW1wb3J0KFwiLi4vLi4vLi4vY2hhdC9qcy9tZXNzYWdlLmRldlwiKVxyXG4gICAgICAgIGNoYW5nZVVzZXJNZXNzYWdlU3RhdHVzV2l0aE1lc3NhZ2VTZWVuU3RhdHVzQ291bnQoXHJcbiAgICAgICAgICBkYXRhLm1lc3NhZ2VJZCxcclxuICAgICAgICAgIGRhdGEubWVzc2FnZVNlZW5TdGF0dXNDb3VudCxcclxuICAgICAgICAgIGRhdGEubWVzc2FnZVJlYWRlckNvdW50XHJcbiAgICAgICAgKVxyXG4gICAgICAgIGxldCB7IGFkZFVzZXJUb01lc3NhZ2VJbmZvU2VlblN0YXR1cyB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VzZXJNZXNzYWdlT3B0aW9uTW9kYWwuZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgYWRkVXNlclRvTWVzc2FnZUluZm9TZWVuU3RhdHVzKFxyXG4gICAgICAgICAgZGF0YS5tZXNzYWdlSWQsXHJcbiAgICAgICAgICBkYXRhLnB1c2hlZFVzZXIsXHJcbiAgICAgICAgICBkYXRhLnB1c2hlZFVzZXJUaW1lXHJcbiAgICAgICAgKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgc29ja2V0Lm9uKFwiY2hhdDptZXNzYWdlLXNlZW4tYnktc2VsZlwiLCBhc3luYyBkYXRhID0+IHtcclxuICAgICAgbGV0IHsgZGVjcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgZGVjcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94KGRhdGEuY2hhdElkKVxyXG4gICAgfSlcclxuICAgIHNvY2tldC5vbihcImNoYXQ6Y3JlYXRlZC1jaGF0LWNhbGwtcm9vbVwiLCBhc3luYyBkYXRhID0+IHtcclxuICAgICAgbGV0IHsgc2hvd0NoYXRCb3hDYWxsUm9vbUJveCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcblxyXG4gICAgICBzaG93Q2hhdEJveENhbGxSb29tQm94KGRhdGEuY2hhdElkLCBkYXRhLmNhbGxSb29tLl9pZClcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkLnRvU3RyaW5nKCkgPT09IGRhdGEuY2hhdElkLnRvU3RyaW5nKClcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHsgb3BlbkFjdGl2ZUNoYXRDYWxsUm9vbUJveCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3Nob3dBY3RpdmVDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICAgIClcclxuICAgICAgICBvcGVuQWN0aXZlQ2hhdENhbGxSb29tQm94KGRhdGEuY2FsbFJvb20uX2lkKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgc29ja2V0Lm9uKFwiY2hhdDplbmQtY2hhdC1jYWxsLXJvb21cIiwgYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAgIGxldCB7IGhpZGVDaGF0Qm94Q2FsbFJvb21Cb3ggfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBoaWRlQ2hhdEJveENhbGxSb29tQm94KGRhdGEuY2hhdElkKVxyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgIGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkLnRvU3RyaW5nKCkgPT09IGRhdGEuY2hhdElkLnRvU3RyaW5nKClcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHsgY2xvc2VBY3RpdmVDaGF0Q2FsbFJvb21Cb3ggfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy9zaG93QWN0aXZlQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgY2xvc2VBY3RpdmVDaGF0Q2FsbFJvb21Cb3goKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKFwic29ja2V0IHByb2JsZW1cIiwgZS5tZXNzYWdlKVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2hhdFNvY2tldCIsInNvY2tldCIsImNvbnNvbGUiLCJsb2ciLCJhY3RpdmVDaGF0U2VjdGlvbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciIsImFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMiLCJvbiIsImRhdGEiLCJkYXRhc2V0IiwiY2hhdElkIiwidG9TdHJpbmciLCJpbm5lckhUTUwiLCJpc0dyb3VwQ2hhdCIsInVzZXIiLCJmaXJzdE5hbWUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJ0ZXh0Q29udGVudCIsIm1lc3NhZ2UiLCJ1cGRhdGVBbGxDaGF0U2VjdGlvbiIsImluY3JlYXNlVW5zZWVuTWVzc2FnZXNDb3VudEluQ2hhdEJveCIsImNoYXQiLCJfaWQiLCJjaGVja1RpbWVBbmRDcmVhdGVOZXdNZXNzYWdlIiwiY3JlYXRlSW5mb01lc3NhZ2UiLCJpbmZvTWVzc2FnZUJveCIsImluc2VydEFkamFjZW50RWxlbWVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImNyZWF0ZUNoYXRCb3giLCJhY3RpdmVDaGF0RGF0YSIsInVwZGF0ZUFjdGl2ZUNoYXRJbmZvTW9kYWwiLCJ1cGRhdGVBY3RpdmVDaGF0U2VjdGlvbiIsInVwZGF0ZUNoYXRCb3giLCJjbGVhckFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyIiwiY2xlYXJDaGF0Qm94TGF0ZXN0TWVzc2FnZSIsInNob3dBbGxDaGF0U2VjdGlvbiIsImRlbGV0ZUNoYXRCb3giLCJ1c2VySWQiLCJyZW1vdmVDaGF0SW5mb01lbWJlciIsImNvbnZlcnRVc2VyTWVzc2FnZVRvRGVsZXRlZEZvckFsbE1lc3NhZ2UiLCJkZWxldGVkRm9yQWxsTWVzc2FnZSIsImlzTGF0ZXN0TWVzc2FnZUNoYW5nZWQiLCJ1cGRhdGVDaGF0Qm94TGF0ZXN0TWVzc2FnZSIsImxhdGVzdE1lc3NhZ2UiLCJjaGFuZ2VVc2VyTWVzc2FnZVN0YXR1c1RvRGVsaXZlcmVkIiwibWVzc2FnZUlkIiwidXBkYXRlTWVzc2FnZUluZm9EZWxpdmVyeVN0YXR1cyIsImRlbGl2ZXJlZFRpbWUiLCJjaGFuZ2VVc2VyTWVzc2FnZVN0YXR1c1dpdGhNZXNzYWdlU2VlblN0YXR1c0NvdW50IiwibWVzc2FnZVNlZW5TdGF0dXNDb3VudCIsIm1lc3NhZ2VSZWFkZXJDb3VudCIsImFkZFVzZXJUb01lc3NhZ2VJbmZvU2VlblN0YXR1cyIsInB1c2hlZFVzZXIiLCJwdXNoZWRVc2VyVGltZSIsImRlY3JlYXNlVW5zZWVuTWVzc2FnZXNDb3VudEluQ2hhdEJveCIsInNob3dDaGF0Qm94Q2FsbFJvb21Cb3giLCJjYWxsUm9vbSIsIm9wZW5BY3RpdmVDaGF0Q2FsbFJvb21Cb3giLCJoaWRlQ2hhdEJveENhbGxSb29tQm94IiwiY2xvc2VBY3RpdmVDaGF0Q2FsbFJvb21Cb3giLCJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./dev-javascripts/socket/event-handler/chat-socket/index.js\n");

/***/ })

}]);