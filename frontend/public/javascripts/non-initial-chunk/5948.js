(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[5948,5967,4698,4932,6201,1626],{5967:(e,t,o)=>{"use strict";function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";"error"!=t&&"success"!=t&&(t="info");const o=document.createElement("div");let n;o.classList.add("main-notification",t),o.innerHTML=`\n     <div class="main-notification-message"> ${t.charAt(0).toUpperCase()+t.slice(1)}:\n     ${e}    \n     </div>\n    <div class="main-notification-timer-and-close">\n                <svg viewBox="0 0 70 70" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <g id="timerAndClose">\n                <path id="timerPath" d="M35 10C39.5356 10 43.7185 11.1176 47.5488 13.3529C51.3791 15.5881 54.4119 18.6209 56.6471 22.4512C58.8824 26.2815 60 30.4644 60 35C60 39.5356 58.8824 43.7185 56.6471 47.5488C54.4119 51.3791 51.3791 54.4119 47.5488 56.6471C43.7185 58.8824 39.5356 60 35 60C30.4644 60 26.2815 58.8824 22.4512 56.6471C18.6209 54.4119 15.5881 51.3791 13.3529 47.5488C11.1176 43.7185 10 39.5356 10 35C10 30.4644 11.1176 26.2815 13.3529 22.4512C15.5881 18.6209 18.6209 15.5881 22.4512 13.3529C26.2815 11.1176 30.4644 10 35 10Z" stroke="#5CEB2A" stroke-width="20"/>\n                <path id="closePath" d="M35 10C21.25 10 10 21.25 10 35C10 48.75 21.25 60 35 60C48.75 60 60 48.75 60 35C60 21.25 48.75 10 35 10ZM44.25 40.75C45.25 41.75 45.25 43.25 44.25 44.25C43.25 45.25 41.75 45.25 40.75 44.25L35 38.5L29.25 44.25C28.25 45.25 26.75 45.25 25.75 44.25C24.75 43.25 24.75 41.75 25.75 40.75L31.5 35L25.75 29.25C24.75 28.25 24.75 26.75 25.75 25.75C26.75 24.75 28.25 24.75 29.25 25.75L35 31.5L40.75 25.75C41.75 24.75 43.25 24.75 44.25 25.75C45.25 26.75 45.25 28.25 44.25 29.25L38.5 35L44.25 40.75Z" fill="black"/>\n                </g>\n                </svg>\n       </div> `,o.getElementsByClassName("main-notification-timer-and-close")[0].addEventListener("click",(()=>{o.parentNode.removeChild(o),clearTimeout(n)})),n=setTimeout((()=>{o.parentNode.removeChild(o)}),1e4),document.body.appendChild(o)}o.r(t),o.d(t,{createMainNotification:()=>n}),o.e(8961).then(o.bind(o,8961))},5948:(e,t,o)=>{const{createMainNotification:n}=o(5967);function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"follower",t="follower"===e,o="following"===e;f.classList.toggle("other-user-modal-content__switch-btn--active",t),u.classList.toggle("other-user-container--active",t),c.classList.toggle("other-user-modal-content__switch-btn--active",o),a.classList.toggle("other-user-container--active",o)}const s=document.getElementById("profileFollowerBtn"),r=document.getElementById("profileFollowingBtn"),i=document.getElementById("profileOtherUserModal"),c=(document.getElementById("profileOtherUserModalContent"),document.getElementById("followingOtherUserSwitchBtn")),a=document.getElementById("followingOtherUserContainer"),d=document.getElementById("followingUserBoxContainer"),f=document.getElementById("followerOtherUserSwitchBtn"),u=document.getElementById("followerOtherUserContainer"),m=document.getElementById("followerUserBoxContainer"),w=document.getElementById("otherUserModalCloseBtn"),h=document.getElementById("otherUserSwitchBtnContainer");if(s.onclick=async function(){i.style.display="block";let e=document.getElementById("sentFollowRequestOtherUserContainer");e&&e.classList.remove("other-user-container--active"),h.classList.contains("other-user-modal-content__switch-btn-container--active")||h.classList.add("other-user-modal-content__switch-btn-container--active"),l("follower");let{fetchUserAndCreateUserBox:t}=await o.e(3683).then(o.bind(o,3683));t(m,"follower");let n=document.getElementById("receivedFollowRequestUserBoxContainer");n&&t(n,"received-follow-request")},r.onclick=async function(){i.style.display="block";let e=document.getElementById("sentFollowRequestOtherUserContainer");e&&e.classList.remove("other-user-container--active"),h.classList.contains("other-user-modal-content__switch-btn-container--active")||h.classList.add("other-user-modal-content__switch-btn-container--active"),l("following");let{fetchUserAndCreateUserBox:t}=await o.e(3683).then(o.bind(o,3683));t(d,"following")},f.addEventListener("click",(async()=>{l("follower");let{fetchUserAndCreateUserBox:e}=await o.e(3683).then(o.bind(o,3683));e(m,"follower");let t=document.getElementById("receivedFollowRequestUserBoxContainer");t&&e(t,"received-follow-request")})),c.addEventListener("click",(async()=>{l("following");let{fetchUserAndCreateUserBox:e}=await o.e(3683).then(o.bind(o,3683));e(d,"following")})),w.onclick=function(){i.style.display="none"},document.getElementById("profileUserReceivedFollowRequestCount"),document.getElementById("profileUserFollowerCount"),document.getElementById("profileUserFollowingCount"),!1===isOwner){const e=document.getElementById("profileFollowActionBtn");e.addEventListener("click",(()=>{let t=e.dataset.userFollowStatus;fetch(`/follow/${t}/${profileUser._id}`,{method:"PATCH",headers:{"Content-Type":"application/json"}}).then((e=>e.ok?e.json():Promise.reject(e))).then((t=>{console.log(t),t.isSuccess?(e.setAttribute("data-user-follow-status",t.userFollowStatus),"send-follow-request"===t.userFollowStatus&&(e.textContent="FOLLOW",e.classList.remove("profile-btn--cancel-sent-follow-request","profile-btn--unfollow"),e.classList.add("profile-btn--follow")),"cancel-sent-follow-request"===t.userFollowStatus&&(e.textContent="CANCEL REQUEST",e.classList.remove("profile-btn--follow","profile-btn--unfollow"),e.classList.add("profile-btn--cancel-sent-follow-request")),"unfollow"===t.userFollowStatus&&(e.textContent="UNFOLLOW",e.classList.remove("profile-btn--follow","profile-btn--cancel-sent-follow-request"),e.classList.add("profile-btn--unfollow"))):n(t.error,"error")})).catch((e=>{console.log(e),n("Server Error","error")}))}))}if(!1===isOwner){const e=document.getElementById("profileMessageBtn");console.log(e),e.addEventListener("click",(()=>{fetch("/chat/get-user-chat-id",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:profileUser._id})}).then((e=>e.ok?e.json():Promise.reject(e))).then((e=>{e.isSuccess?location.assign(`/chat/#${e.chatId}`):n(e.error,"error")})).catch((e=>{console.log(e),n("Server Error","error")}))}))}window.onclick=function(e){e.target==i&&(i.style.display="none")}}}]);