"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_chat_js_downloadUserMedia_dev_js"],{

/***/ "./dev-javascripts/chat/js/downloadUserMedia.dev.js":
/*!**********************************************************!*\
  !*** ./dev-javascripts/chat/js/downloadUserMedia.dev.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"downloadUserMedia\": () => (/* binding */ downloadUserMedia)\n/* harmony export */ });\nasync function downloadUserMedia(messageId) {\n  let userMessageBox = document.querySelector(`.active-chat-user-message-box[data-message-id=\"${messageId}\"]`);\n  let source;\n\n  if (userMessageBox.classList.contains(\"active-chat-user-message-box--image\") || userMessageBox.classList.contains(\"active-chat-user-message-box--video\") || userMessageBox.classList.contains(\"active-chat-user-message-box--audio\")) {\n    if (userMessageBox.classList.contains(\"active-chat-user-message-box--image\")) {\n      source = userMessageBox.getElementsByClassName(\"active-chat-user-message-box__content--image\")[0].src;\n      downloadLargeFile(source);\n    }\n\n    if (userMessageBox.classList.contains(\"active-chat-user-message-box--audio\")) {\n      source = userMessageBox.querySelector(\".active-chat-user-message-box__content--audio source\").src;\n      downloadLargeFile(source);\n    }\n\n    if (userMessageBox.classList.contains(\"active-chat-user-message-box--video\")) {\n      source = userMessageBox.querySelector(\".active-chat-user-message-box__content--video source\").src;\n      downloadLargeFile(source);\n    }\n  } else {\n    let {\n      createMainNotification\n    } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_common_mainNotification_dev_js-_81c90\").then(__webpack_require__.bind(__webpack_require__, /*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n    createMainNotification(\"You Can Not Download This Message\", \"info\");\n  }\n}\n\nfunction downloadLargeFile(source) {\n  fetch(source).then(response => response.blob()).then(blob => {\n    // Create a URL object with the Blob data\n    const url = URL.createObjectURL(blob); // Create a download link\n\n    const link = document.createElement(\"a\");\n    link.download = Date.now();\n    link.href = url; // Click the link to download the video\n\n    link.click(); // Revoke the URL object to free up memory\n\n    URL.revokeObjectURL(url);\n  });\n}\n\nfunction downloadSmallFile(source) {\n  // Create a download link\n  const link = document.createElement(\"a\");\n  link.download = Date.now();\n  link.href = source; // Click the link to download the video\n\n  link.click();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYtamF2YXNjcmlwdHMvY2hhdC9qcy9kb3dubG9hZFVzZXJNZWRpYS5kZXYuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLGVBQWVBLGlCQUFmLENBQWlDQyxTQUFqQyxFQUE0QztFQUNqRCxJQUFJQyxjQUFjLEdBQUdDLFFBQVEsQ0FBQ0MsYUFBVCxDQUNsQixrREFBaURILFNBQVUsSUFEekMsQ0FBckI7RUFHQSxJQUFJSSxNQUFKOztFQUNBLElBQ0VILGNBQWMsQ0FBQ0ksU0FBZixDQUF5QkMsUUFBekIsQ0FBa0MscUNBQWxDLEtBQ0FMLGNBQWMsQ0FBQ0ksU0FBZixDQUF5QkMsUUFBekIsQ0FBa0MscUNBQWxDLENBREEsSUFFQUwsY0FBYyxDQUFDSSxTQUFmLENBQXlCQyxRQUF6QixDQUFrQyxxQ0FBbEMsQ0FIRixFQUlFO0lBQ0EsSUFDRUwsY0FBYyxDQUFDSSxTQUFmLENBQXlCQyxRQUF6QixDQUFrQyxxQ0FBbEMsQ0FERixFQUVFO01BQ0FGLE1BQU0sR0FBR0gsY0FBYyxDQUFDTSxzQkFBZixDQUNQLDhDQURPLEVBRVAsQ0FGTyxFQUVKQyxHQUZMO01BR0FDLGlCQUFpQixDQUFDTCxNQUFELENBQWpCO0lBQ0Q7O0lBRUQsSUFDRUgsY0FBYyxDQUFDSSxTQUFmLENBQXlCQyxRQUF6QixDQUFrQyxxQ0FBbEMsQ0FERixFQUVFO01BQ0FGLE1BQU0sR0FBR0gsY0FBYyxDQUFDRSxhQUFmLENBQ1Asc0RBRE8sRUFFUEssR0FGRjtNQUdBQyxpQkFBaUIsQ0FBQ0wsTUFBRCxDQUFqQjtJQUNEOztJQUNELElBQ0VILGNBQWMsQ0FBQ0ksU0FBZixDQUF5QkMsUUFBekIsQ0FBa0MscUNBQWxDLENBREYsRUFFRTtNQUNBRixNQUFNLEdBQUdILGNBQWMsQ0FBQ0UsYUFBZixDQUNQLHNEQURPLEVBRVBLLEdBRkY7TUFHQUMsaUJBQWlCLENBQUNMLE1BQUQsQ0FBakI7SUFDRDtFQUNGLENBOUJELE1BOEJPO0lBQ0wsSUFBSTtNQUFFTTtJQUFGLElBQTZCLE1BQU0sK09BQXZDO0lBR0FBLHNCQUFzQixDQUFDLG1DQUFELEVBQXNDLE1BQXRDLENBQXRCO0VBQ0Q7QUFDRjs7QUFDRCxTQUFTRCxpQkFBVCxDQUEyQkwsTUFBM0IsRUFBbUM7RUFDakNPLEtBQUssQ0FBQ1AsTUFBRCxDQUFMLENBQ0dRLElBREgsQ0FDUUMsUUFBUSxJQUFJQSxRQUFRLENBQUNDLElBQVQsRUFEcEIsRUFFR0YsSUFGSCxDQUVRRSxJQUFJLElBQUk7SUFDWjtJQUNBLE1BQU1DLEdBQUcsR0FBR0MsR0FBRyxDQUFDQyxlQUFKLENBQW9CSCxJQUFwQixDQUFaLENBRlksQ0FJWjs7SUFDQSxNQUFNSSxJQUFJLEdBQUdoQixRQUFRLENBQUNpQixhQUFULENBQXVCLEdBQXZCLENBQWI7SUFFQUQsSUFBSSxDQUFDRSxRQUFMLEdBQWdCQyxJQUFJLENBQUNDLEdBQUwsRUFBaEI7SUFDQUosSUFBSSxDQUFDSyxJQUFMLEdBQVlSLEdBQVosQ0FSWSxDQVVaOztJQUNBRyxJQUFJLENBQUNNLEtBQUwsR0FYWSxDQWFaOztJQUNBUixHQUFHLENBQUNTLGVBQUosQ0FBb0JWLEdBQXBCO0VBQ0QsQ0FqQkg7QUFrQkQ7O0FBQ0QsU0FBU1csaUJBQVQsQ0FBMkJ0QixNQUEzQixFQUFtQztFQUNqQztFQUNBLE1BQU1jLElBQUksR0FBR2hCLFFBQVEsQ0FBQ2lCLGFBQVQsQ0FBdUIsR0FBdkIsQ0FBYjtFQUNBRCxJQUFJLENBQUNFLFFBQUwsR0FBZ0JDLElBQUksQ0FBQ0MsR0FBTCxFQUFoQjtFQUNBSixJQUFJLENBQUNLLElBQUwsR0FBWW5CLE1BQVosQ0FKaUMsQ0FNakM7O0VBQ0FjLElBQUksQ0FBQ00sS0FBTDtBQUNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9kZXYtamF2YXNjcmlwdHMvY2hhdC9qcy9kb3dubG9hZFVzZXJNZWRpYS5kZXYuanM/YWI2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRVc2VyTWVkaWEobWVzc2FnZUlkKSB7XHJcbiAgbGV0IHVzZXJNZXNzYWdlQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgIGAuYWN0aXZlLWNoYXQtdXNlci1tZXNzYWdlLWJveFtkYXRhLW1lc3NhZ2UtaWQ9XCIke21lc3NhZ2VJZH1cIl1gXHJcbiAgKVxyXG4gIGxldCBzb3VyY2VcclxuICBpZiAoXHJcbiAgICB1c2VyTWVzc2FnZUJveC5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtY2hhdC11c2VyLW1lc3NhZ2UtYm94LS1pbWFnZVwiKSB8fFxyXG4gICAgdXNlck1lc3NhZ2VCb3guY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlLWNoYXQtdXNlci1tZXNzYWdlLWJveC0tdmlkZW9cIikgfHxcclxuICAgIHVzZXJNZXNzYWdlQm94LmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1jaGF0LXVzZXItbWVzc2FnZS1ib3gtLWF1ZGlvXCIpXHJcbiAgKSB7XHJcbiAgICBpZiAoXHJcbiAgICAgIHVzZXJNZXNzYWdlQm94LmNsYXNzTGlzdC5jb250YWlucyhcImFjdGl2ZS1jaGF0LXVzZXItbWVzc2FnZS1ib3gtLWltYWdlXCIpXHJcbiAgICApIHtcclxuICAgICAgc291cmNlID0gdXNlck1lc3NhZ2VCb3guZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcclxuICAgICAgICBcImFjdGl2ZS1jaGF0LXVzZXItbWVzc2FnZS1ib3hfX2NvbnRlbnQtLWltYWdlXCJcclxuICAgICAgKVswXS5zcmNcclxuICAgICAgZG93bmxvYWRMYXJnZUZpbGUoc291cmNlKVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChcclxuICAgICAgdXNlck1lc3NhZ2VCb3guY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlLWNoYXQtdXNlci1tZXNzYWdlLWJveC0tYXVkaW9cIilcclxuICAgICkge1xyXG4gICAgICBzb3VyY2UgPSB1c2VyTWVzc2FnZUJveC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLmFjdGl2ZS1jaGF0LXVzZXItbWVzc2FnZS1ib3hfX2NvbnRlbnQtLWF1ZGlvIHNvdXJjZVwiXHJcbiAgICAgICkuc3JjXHJcbiAgICAgIGRvd25sb2FkTGFyZ2VGaWxlKHNvdXJjZSlcclxuICAgIH1cclxuICAgIGlmIChcclxuICAgICAgdXNlck1lc3NhZ2VCb3guY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlLWNoYXQtdXNlci1tZXNzYWdlLWJveC0tdmlkZW9cIilcclxuICAgICkge1xyXG4gICAgICBzb3VyY2UgPSB1c2VyTWVzc2FnZUJveC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICAgIFwiLmFjdGl2ZS1jaGF0LXVzZXItbWVzc2FnZS1ib3hfX2NvbnRlbnQtLXZpZGVvIHNvdXJjZVwiXHJcbiAgICAgICkuc3JjXHJcbiAgICAgIGRvd25sb2FkTGFyZ2VGaWxlKHNvdXJjZSlcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgbGV0IHsgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICBcIi4uLy4uL2NvbW1vbi9tYWluTm90aWZpY2F0aW9uLmRldlwiXHJcbiAgICApXHJcbiAgICBjcmVhdGVNYWluTm90aWZpY2F0aW9uKFwiWW91IENhbiBOb3QgRG93bmxvYWQgVGhpcyBNZXNzYWdlXCIsIFwiaW5mb1wiKVxyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBkb3dubG9hZExhcmdlRmlsZShzb3VyY2UpIHtcclxuICBmZXRjaChzb3VyY2UpXHJcbiAgICAudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5ibG9iKCkpXHJcbiAgICAudGhlbihibG9iID0+IHtcclxuICAgICAgLy8gQ3JlYXRlIGEgVVJMIG9iamVjdCB3aXRoIHRoZSBCbG9iIGRhdGFcclxuICAgICAgY29uc3QgdXJsID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKVxyXG5cclxuICAgICAgLy8gQ3JlYXRlIGEgZG93bmxvYWQgbGlua1xyXG4gICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIilcclxuXHJcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBEYXRlLm5vdygpXHJcbiAgICAgIGxpbmsuaHJlZiA9IHVybFxyXG5cclxuICAgICAgLy8gQ2xpY2sgdGhlIGxpbmsgdG8gZG93bmxvYWQgdGhlIHZpZGVvXHJcbiAgICAgIGxpbmsuY2xpY2soKVxyXG5cclxuICAgICAgLy8gUmV2b2tlIHRoZSBVUkwgb2JqZWN0IHRvIGZyZWUgdXAgbWVtb3J5XHJcbiAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKVxyXG4gICAgfSlcclxufVxyXG5mdW5jdGlvbiBkb3dubG9hZFNtYWxsRmlsZShzb3VyY2UpIHtcclxuICAvLyBDcmVhdGUgYSBkb3dubG9hZCBsaW5rXHJcbiAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpXHJcbiAgbGluay5kb3dubG9hZCA9IERhdGUubm93KClcclxuICBsaW5rLmhyZWYgPSBzb3VyY2VcclxuXHJcbiAgLy8gQ2xpY2sgdGhlIGxpbmsgdG8gZG93bmxvYWQgdGhlIHZpZGVvXHJcbiAgbGluay5jbGljaygpXHJcbn1cclxuIl0sIm5hbWVzIjpbImRvd25sb2FkVXNlck1lZGlhIiwibWVzc2FnZUlkIiwidXNlck1lc3NhZ2VCb3giLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzb3VyY2UiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzcmMiLCJkb3dubG9hZExhcmdlRmlsZSIsImNyZWF0ZU1haW5Ob3RpZmljYXRpb24iLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImJsb2IiLCJ1cmwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJsaW5rIiwiY3JlYXRlRWxlbWVudCIsImRvd25sb2FkIiwiRGF0ZSIsIm5vdyIsImhyZWYiLCJjbGljayIsInJldm9rZU9iamVjdFVSTCIsImRvd25sb2FkU21hbGxGaWxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./dev-javascripts/chat/js/downloadUserMedia.dev.js\n");

/***/ })

}]);