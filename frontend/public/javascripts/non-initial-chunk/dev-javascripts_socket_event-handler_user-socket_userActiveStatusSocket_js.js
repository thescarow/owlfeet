"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_socket_event-handler_user-socket_userActiveStatusSocket_js"],{

/***/ "./dev-javascripts/socket/event-handler/user-socket/userActiveStatusSocket.js":
/*!************************************************************************************!*\
  !*** ./dev-javascripts/socket/event-handler/user-socket/userActiveStatusSocket.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createUserActiveStatusSocket\": () => (/* binding */ createUserActiveStatusSocket)\n/* harmony export */ });\nfunction createUserActiveStatusSocket(socket) {\n  let activeChatSection = document.getElementById(\"activeChatSection\");\n  let activeChatHeaderStatus = document.getElementById(\"activeChatHeaderStatus\"); ////////////////////////////////////////////\n\n  socket.on(\"user:online\", async data => {\n    console.log(\"user online:\", data.userId);\n    let chatBox = document.querySelector(`.chat-box[data-chat-id=\"${data.chatId}\"]`);\n    if (chatBox) chatBox.classList.add(\"chat-box--active-user\");\n\n    if (activeChatSection.dataset.chatId.toString() === data.chatId.toString()) {\n      activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n      activeChatHeaderStatus.textContent = \"Active\";\n    }\n  });\n  socket.on(\"user:offline\", async data => {\n    console.log(\"user offline:\", data.userId);\n    let chatBox = document.querySelector(`.chat-box[data-chat-id=\"${data.chatId}\"]`);\n    if (chatBox) chatBox.classList.remove(\"chat-box--active-user\");\n\n    if (activeChatSection.dataset.chatId.toString() === data.chatId.toString()) {\n      activeChatHeaderStatus.classList.add(\"active-chat-header__chat-status--hide\");\n      activeChatHeaderStatus.textContent = \"last active 1sec ago\";\n      setTimeout(() => {\n        activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n      }, 4000);\n    }\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYtamF2YXNjcmlwdHMvc29ja2V0L2V2ZW50LWhhbmRsZXIvdXNlci1zb2NrZXQvdXNlckFjdGl2ZVN0YXR1c1NvY2tldC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sU0FBU0EsNEJBQVQsQ0FBc0NDLE1BQXRDLEVBQThDO0VBQ25ELElBQUlDLGlCQUFpQixHQUFHQyxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsbUJBQXhCLENBQXhCO0VBQ0EsSUFBSUMsc0JBQXNCLEdBQUdGLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3Qix3QkFBeEIsQ0FBN0IsQ0FGbUQsQ0FHbkQ7O0VBQ0FILE1BQU0sQ0FBQ0ssRUFBUCxDQUFVLGFBQVYsRUFBeUIsTUFBTUMsSUFBTixJQUFjO0lBQ3JDQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaLEVBQTRCRixJQUFJLENBQUNHLE1BQWpDO0lBRUEsSUFBSUMsT0FBTyxHQUFHUixRQUFRLENBQUNTLGFBQVQsQ0FDWCwyQkFBMEJMLElBQUksQ0FBQ00sTUFBTyxJQUQzQixDQUFkO0lBR0EsSUFBSUYsT0FBSixFQUFhQSxPQUFPLENBQUNHLFNBQVIsQ0FBa0JDLEdBQWxCLENBQXNCLHVCQUF0Qjs7SUFFYixJQUNFYixpQkFBaUIsQ0FBQ2MsT0FBbEIsQ0FBMEJILE1BQTFCLENBQWlDSSxRQUFqQyxPQUFnRFYsSUFBSSxDQUFDTSxNQUFMLENBQVlJLFFBQVosRUFEbEQsRUFFRTtNQUNBWixzQkFBc0IsQ0FBQ1MsU0FBdkIsQ0FBaUNJLE1BQWpDLENBQ0UsdUNBREY7TUFHQWIsc0JBQXNCLENBQUNjLFdBQXZCLEdBQXFDLFFBQXJDO0lBQ0Q7RUFDRixDQWhCRDtFQWlCQWxCLE1BQU0sQ0FBQ0ssRUFBUCxDQUFVLGNBQVYsRUFBMEIsTUFBTUMsSUFBTixJQUFjO0lBQ3RDQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaLEVBQTZCRixJQUFJLENBQUNHLE1BQWxDO0lBQ0EsSUFBSUMsT0FBTyxHQUFHUixRQUFRLENBQUNTLGFBQVQsQ0FDWCwyQkFBMEJMLElBQUksQ0FBQ00sTUFBTyxJQUQzQixDQUFkO0lBR0EsSUFBSUYsT0FBSixFQUFhQSxPQUFPLENBQUNHLFNBQVIsQ0FBa0JJLE1BQWxCLENBQXlCLHVCQUF6Qjs7SUFFYixJQUNFaEIsaUJBQWlCLENBQUNjLE9BQWxCLENBQTBCSCxNQUExQixDQUFpQ0ksUUFBakMsT0FBZ0RWLElBQUksQ0FBQ00sTUFBTCxDQUFZSSxRQUFaLEVBRGxELEVBRUU7TUFDQVosc0JBQXNCLENBQUNTLFNBQXZCLENBQWlDQyxHQUFqQyxDQUNFLHVDQURGO01BR0FWLHNCQUFzQixDQUFDYyxXQUF2QixHQUFxQyxzQkFBckM7TUFDQUMsVUFBVSxDQUFDLE1BQU07UUFDZmYsc0JBQXNCLENBQUNTLFNBQXZCLENBQWlDSSxNQUFqQyxDQUNFLHVDQURGO01BR0QsQ0FKUyxFQUlQLElBSk8sQ0FBVjtJQUtEO0VBQ0YsQ0FwQkQ7QUFxQkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL2Rldi1qYXZhc2NyaXB0cy9zb2NrZXQvZXZlbnQtaGFuZGxlci91c2VyLXNvY2tldC91c2VyQWN0aXZlU3RhdHVzU29ja2V0LmpzP2E2NjciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVzZXJBY3RpdmVTdGF0dXNTb2NrZXQoc29ja2V0KSB7XHJcbiAgbGV0IGFjdGl2ZUNoYXRTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0U2VjdGlvblwiKVxyXG4gIGxldCBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0SGVhZGVyU3RhdHVzXCIpXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICBzb2NrZXQub24oXCJ1c2VyOm9ubGluZVwiLCBhc3luYyBkYXRhID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwidXNlciBvbmxpbmU6XCIsIGRhdGEudXNlcklkKVxyXG5cclxuICAgIGxldCBjaGF0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC5jaGF0LWJveFtkYXRhLWNoYXQtaWQ9XCIke2RhdGEuY2hhdElkfVwiXWBcclxuICAgIClcclxuICAgIGlmIChjaGF0Qm94KSBjaGF0Qm94LmNsYXNzTGlzdC5hZGQoXCJjaGF0LWJveC0tYWN0aXZlLXVzZXJcIilcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkLnRvU3RyaW5nKCkgPT09IGRhdGEuY2hhdElkLnRvU3RyaW5nKClcclxuICAgICkge1xyXG4gICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgICAgXCJhY3RpdmUtY2hhdC1oZWFkZXJfX2NoYXQtc3RhdHVzLS1oaWRlXCJcclxuICAgICAgKVxyXG4gICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLnRleHRDb250ZW50ID0gXCJBY3RpdmVcIlxyXG4gICAgfVxyXG4gIH0pXHJcbiAgc29ja2V0Lm9uKFwidXNlcjpvZmZsaW5lXCIsIGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgY29uc29sZS5sb2coXCJ1c2VyIG9mZmxpbmU6XCIsIGRhdGEudXNlcklkKVxyXG4gICAgbGV0IGNoYXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICBgLmNoYXQtYm94W2RhdGEtY2hhdC1pZD1cIiR7ZGF0YS5jaGF0SWR9XCJdYFxyXG4gICAgKVxyXG4gICAgaWYgKGNoYXRCb3gpIGNoYXRCb3guY2xhc3NMaXN0LnJlbW92ZShcImNoYXQtYm94LS1hY3RpdmUtdXNlclwiKVxyXG5cclxuICAgIGlmIChcclxuICAgICAgYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWQudG9TdHJpbmcoKSA9PT0gZGF0YS5jaGF0SWQudG9TdHJpbmcoKVxyXG4gICAgKSB7XHJcbiAgICAgIGFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMuY2xhc3NMaXN0LmFkZChcclxuICAgICAgICBcImFjdGl2ZS1jaGF0LWhlYWRlcl9fY2hhdC1zdGF0dXMtLWhpZGVcIlxyXG4gICAgICApXHJcbiAgICAgIGFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMudGV4dENvbnRlbnQgPSBcImxhc3QgYWN0aXZlIDFzZWMgYWdvXCJcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgICAgXCJhY3RpdmUtY2hhdC1oZWFkZXJfX2NoYXQtc3RhdHVzLS1oaWRlXCJcclxuICAgICAgICApXHJcbiAgICAgIH0sIDQwMDApXHJcbiAgICB9XHJcbiAgfSlcclxufVxyXG4iXSwibmFtZXMiOlsiY3JlYXRlVXNlckFjdGl2ZVN0YXR1c1NvY2tldCIsInNvY2tldCIsImFjdGl2ZUNoYXRTZWN0aW9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMiLCJvbiIsImRhdGEiLCJjb25zb2xlIiwibG9nIiwidXNlcklkIiwiY2hhdEJveCIsInF1ZXJ5U2VsZWN0b3IiLCJjaGF0SWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJkYXRhc2V0IiwidG9TdHJpbmciLCJyZW1vdmUiLCJ0ZXh0Q29udGVudCIsInNldFRpbWVvdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./dev-javascripts/socket/event-handler/user-socket/userActiveStatusSocket.js\n");

/***/ })

}]);