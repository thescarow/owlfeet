"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_socket_user-socket_userActiveStatusSocket_js"],{

/***/ "./dev-javascripts/socket/user-socket/userActiveStatusSocket.js":
/*!**********************************************************************!*\
  !*** ./dev-javascripts/socket/user-socket/userActiveStatusSocket.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createUserActiveStatusSocket\": () => (/* binding */ createUserActiveStatusSocket)\n/* harmony export */ });\n// import { timeDifferenceFromNow } from \"../../common/calculateTimeDifference.dev\"\nfunction createUserActiveStatusSocket(socket) {\n  let activeChatSection = document.getElementById(\"activeChatSection\");\n  let activeChatHeaderStatus = document.getElementById(\"activeChatHeaderStatus\"); ////////////////////////////////////////////\n\n  socket.on(\"user:online\", async data => {\n    console.log(\"user online:\", data.userId);\n    let chatBox = document.querySelector(`.chat-box[data-chat-id=\"${data.chatId}\"]`);\n    if (chatBox) chatBox.classList.add(\"chat-box--active-user\");\n\n    if (activeChatSection.dataset.chatId.toString() === data.chatId.toString()) {\n      activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n      activeChatHeaderStatus.textContent = \"Active\";\n    }\n  });\n  socket.on(\"user:offline\", async data => {\n    console.log(\"user offline:\", data.userId);\n    let chatBox = document.querySelector(`.chat-box[data-chat-id=\"${data.chatId}\"]`);\n    if (chatBox) chatBox.classList.remove(\"chat-box--active-user\");\n\n    if (activeChatSection.dataset.chatId.toString() === data.chatId.toString()) {\n      activeChatHeaderStatus.classList.add(\"active-chat-header__chat-status--hide\");\n      activeChatHeaderStatus.textContent = \"last active 1sec ago\";\n      setTimeout(() => {\n        activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n      }, 4000);\n    }\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYtamF2YXNjcmlwdHMvc29ja2V0L3VzZXItc29ja2V0L3VzZXJBY3RpdmVTdGF0dXNTb2NrZXQuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBRU8sU0FBU0EsNEJBQVQsQ0FBc0NDLE1BQXRDLEVBQThDO0VBQ25ELElBQUlDLGlCQUFpQixHQUFHQyxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsbUJBQXhCLENBQXhCO0VBQ0EsSUFBSUMsc0JBQXNCLEdBQUdGLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3Qix3QkFBeEIsQ0FBN0IsQ0FGbUQsQ0FHbkQ7O0VBQ0FILE1BQU0sQ0FBQ0ssRUFBUCxDQUFVLGFBQVYsRUFBeUIsTUFBTUMsSUFBTixJQUFjO0lBQ3JDQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaLEVBQTRCRixJQUFJLENBQUNHLE1BQWpDO0lBRUEsSUFBSUMsT0FBTyxHQUFHUixRQUFRLENBQUNTLGFBQVQsQ0FDWCwyQkFBMEJMLElBQUksQ0FBQ00sTUFBTyxJQUQzQixDQUFkO0lBR0EsSUFBSUYsT0FBSixFQUFhQSxPQUFPLENBQUNHLFNBQVIsQ0FBa0JDLEdBQWxCLENBQXNCLHVCQUF0Qjs7SUFFYixJQUNFYixpQkFBaUIsQ0FBQ2MsT0FBbEIsQ0FBMEJILE1BQTFCLENBQWlDSSxRQUFqQyxPQUFnRFYsSUFBSSxDQUFDTSxNQUFMLENBQVlJLFFBQVosRUFEbEQsRUFFRTtNQUNBWixzQkFBc0IsQ0FBQ1MsU0FBdkIsQ0FBaUNJLE1BQWpDLENBQ0UsdUNBREY7TUFHQWIsc0JBQXNCLENBQUNjLFdBQXZCLEdBQXFDLFFBQXJDO0lBQ0Q7RUFDRixDQWhCRDtFQWlCQWxCLE1BQU0sQ0FBQ0ssRUFBUCxDQUFVLGNBQVYsRUFBMEIsTUFBTUMsSUFBTixJQUFjO0lBQ3RDQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxlQUFaLEVBQTZCRixJQUFJLENBQUNHLE1BQWxDO0lBQ0EsSUFBSUMsT0FBTyxHQUFHUixRQUFRLENBQUNTLGFBQVQsQ0FDWCwyQkFBMEJMLElBQUksQ0FBQ00sTUFBTyxJQUQzQixDQUFkO0lBR0EsSUFBSUYsT0FBSixFQUFhQSxPQUFPLENBQUNHLFNBQVIsQ0FBa0JJLE1BQWxCLENBQXlCLHVCQUF6Qjs7SUFFYixJQUNFaEIsaUJBQWlCLENBQUNjLE9BQWxCLENBQTBCSCxNQUExQixDQUFpQ0ksUUFBakMsT0FBZ0RWLElBQUksQ0FBQ00sTUFBTCxDQUFZSSxRQUFaLEVBRGxELEVBRUU7TUFDQVosc0JBQXNCLENBQUNTLFNBQXZCLENBQWlDQyxHQUFqQyxDQUNFLHVDQURGO01BR0FWLHNCQUFzQixDQUFDYyxXQUF2QixHQUFxQyxzQkFBckM7TUFDQUMsVUFBVSxDQUFDLE1BQU07UUFDZmYsc0JBQXNCLENBQUNTLFNBQXZCLENBQWlDSSxNQUFqQyxDQUNFLHVDQURGO01BR0QsQ0FKUyxFQUlQLElBSk8sQ0FBVjtJQUtEO0VBQ0YsQ0FwQkQ7QUFxQkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL2Rldi1qYXZhc2NyaXB0cy9zb2NrZXQvdXNlci1zb2NrZXQvdXNlckFjdGl2ZVN0YXR1c1NvY2tldC5qcz9jMzk4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCB7IHRpbWVEaWZmZXJlbmNlRnJvbU5vdyB9IGZyb20gXCIuLi8uLi9jb21tb24vY2FsY3VsYXRlVGltZURpZmZlcmVuY2UuZGV2XCJcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVc2VyQWN0aXZlU3RhdHVzU29ja2V0KHNvY2tldCkge1xyXG4gIGxldCBhY3RpdmVDaGF0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdFNlY3Rpb25cIilcclxuICBsZXQgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdEhlYWRlclN0YXR1c1wiKVxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgc29ja2V0Lm9uKFwidXNlcjpvbmxpbmVcIiwgYXN5bmMgZGF0YSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcInVzZXIgb25saW5lOlwiLCBkYXRhLnVzZXJJZClcclxuXHJcbiAgICBsZXQgY2hhdEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIGAuY2hhdC1ib3hbZGF0YS1jaGF0LWlkPVwiJHtkYXRhLmNoYXRJZH1cIl1gXHJcbiAgICApXHJcbiAgICBpZiAoY2hhdEJveCkgY2hhdEJveC5jbGFzc0xpc3QuYWRkKFwiY2hhdC1ib3gtLWFjdGl2ZS11c2VyXCIpXHJcblxyXG4gICAgaWYgKFxyXG4gICAgICBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZC50b1N0cmluZygpID09PSBkYXRhLmNoYXRJZC50b1N0cmluZygpXHJcbiAgICApIHtcclxuICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgIFwiYWN0aXZlLWNoYXQtaGVhZGVyX19jaGF0LXN0YXR1cy0taGlkZVwiXHJcbiAgICAgIClcclxuICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy50ZXh0Q29udGVudCA9IFwiQWN0aXZlXCJcclxuICAgIH1cclxuICB9KVxyXG4gIHNvY2tldC5vbihcInVzZXI6b2ZmbGluZVwiLCBhc3luYyBkYXRhID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwidXNlciBvZmZsaW5lOlwiLCBkYXRhLnVzZXJJZClcclxuICAgIGxldCBjaGF0Qm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgYC5jaGF0LWJveFtkYXRhLWNoYXQtaWQ9XCIke2RhdGEuY2hhdElkfVwiXWBcclxuICAgIClcclxuICAgIGlmIChjaGF0Qm94KSBjaGF0Qm94LmNsYXNzTGlzdC5yZW1vdmUoXCJjaGF0LWJveC0tYWN0aXZlLXVzZXJcIilcclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkLnRvU3RyaW5nKCkgPT09IGRhdGEuY2hhdElkLnRvU3RyaW5nKClcclxuICAgICkge1xyXG4gICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLmNsYXNzTGlzdC5hZGQoXHJcbiAgICAgICAgXCJhY3RpdmUtY2hhdC1oZWFkZXJfX2NoYXQtc3RhdHVzLS1oaWRlXCJcclxuICAgICAgKVxyXG4gICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLnRleHRDb250ZW50ID0gXCJsYXN0IGFjdGl2ZSAxc2VjIGFnb1wiXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZShcclxuICAgICAgICAgIFwiYWN0aXZlLWNoYXQtaGVhZGVyX19jaGF0LXN0YXR1cy0taGlkZVwiXHJcbiAgICAgICAgKVxyXG4gICAgICB9LCA0MDAwKVxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuIl0sIm5hbWVzIjpbImNyZWF0ZVVzZXJBY3RpdmVTdGF0dXNTb2NrZXQiLCJzb2NrZXQiLCJhY3RpdmVDaGF0U2VjdGlvbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhY3RpdmVDaGF0SGVhZGVyU3RhdHVzIiwib24iLCJkYXRhIiwiY29uc29sZSIsImxvZyIsInVzZXJJZCIsImNoYXRCb3giLCJxdWVyeVNlbGVjdG9yIiwiY2hhdElkIiwiY2xhc3NMaXN0IiwiYWRkIiwiZGF0YXNldCIsInRvU3RyaW5nIiwicmVtb3ZlIiwidGV4dENvbnRlbnQiLCJzZXRUaW1lb3V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./dev-javascripts/socket/user-socket/userActiveStatusSocket.js\n");

/***/ })

}]);