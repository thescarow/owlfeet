"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_chat_js_showActiveChatSection_dev_js"],{

/***/ "./dev-javascripts/chat/js/showActiveChatSection.dev.js":
/*!**************************************************************!*\
  !*** ./dev-javascripts/chat/js/showActiveChatSection.dev.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"clearActiveChatMessageContainer\": () => (/* binding */ clearActiveChatMessageContainer),\n/* harmony export */   \"onOffActiveChatInputContainer\": () => (/* binding */ onOffActiveChatInputContainer),\n/* harmony export */   \"showActiveChatSection\": () => (/* binding */ showActiveChatSection),\n/* harmony export */   \"updateActiveChatSection\": () => (/* binding */ updateActiveChatSection)\n/* harmony export */ });\nlet allChatSection = document.getElementById(\"allChatSection\");\nlet activeChatSection = document.getElementById(\"activeChatSection\");\nconst activeChatMessageContainer = document.getElementById(\"activeChatMessageContainer\");\nasync function showActiveChatSection(chat) {\n  let activeChatInputTextContent = document.getElementById(\"activeChatInputTextContent\");\n  activeChatInputTextContent.value = \"\";\n  activeChatMessageContainer.innerHTML = \"\";\n  let {\n    openActiveChatInputBox\n  } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_chat_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../chat.dev.js */ \"./dev-javascripts/chat/chat.dev.js\"));\n  openActiveChatInputBox();\n  updateActiveChatSection(chat);\n\n  if (USER_MESSAGE_BOX_OBSERVER !== undefined) {\n    USER_MESSAGE_BOX_OBSERVER.disconnect();\n  }\n\n  initializeUserMessageBoxObserver(); /////////////////////\n\n  const {\n    checkTimeAndCreateOldMessage\n  } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n  fetch(`/message/fetch-messages/${chat._id}`).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(response);\n  }).then(async data => {\n    if (data.isSuccess) {\n      activeChatMessageContainer.innerHTML = \"\";\n      console.log(data);\n      let unseenMessages = data.allMessages.slice(0, data.unseenMessagesCount);\n      let seenMessages = data.allMessages.slice(data.unseenMessagesCount);\n      console.log(\"unseenMessages:\", unseenMessages, \"seenMessages:\", seenMessages);\n      await checkTimeAndCreateOldMessage(seenMessages, activeChatMessageContainer, true);\n\n      if (unseenMessages.length > 0) {\n        const {\n          checkTimeAndCreateNewMessage\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        const {\n          createUnseenMessageTagBox\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        createUnseenMessageTagBox(unseenMessages.length, activeChatMessageContainer, \"beforeend\", false);\n\n        for (let i = unseenMessages.length - 1; i >= 0; i--) {\n          await checkTimeAndCreateNewMessage(unseenMessages[i], activeChatMessageContainer, false);\n        }\n\n        let unseenMessageTagBox = activeChatMessageContainer.getElementsByClassName(\"active-chat-unseen-message-tag-box\")[0];\n\n        if (unseenMessageTagBox) {\n          activeChatMessageContainer.scrollTop = unseenMessageTagBox.offsetTop; // unseenMessageTagBox.scrollIntoView({\n          //   behavior: \"smooth\",\n          //   block: \"end\",\n          //   inline: \"nearest\"\n          // })\n        }\n      }\n\n      let {\n        adjustMessageContainerBottomPadding\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_chat_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../chat.dev */ \"./dev-javascripts/chat/chat.dev.js\"));\n      adjustMessageContainerBottomPadding();\n    } else {\n      let {\n        createMainNotification\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_common_mainNotification_dev_js-_81c90\").then(__webpack_require__.bind(__webpack_require__, /*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n      createMainNotification(data.error, \"error\");\n    }\n  }).catch(async err => {\n    console.log(err);\n    let {\n      createMainNotification\n    } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_common_mainNotification_dev_js-_81c90\").then(__webpack_require__.bind(__webpack_require__, /*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n    createMainNotification(\"Server Error In Accessing Messages, Please Refresh Your Page\", \"error\");\n  });\n  allChatSection.classList.add(\"all-chat-section--hide\");\n  activeChatSection.classList.remove(\"active-chat-section--hide\");\n}\nasync function updateActiveChatSection(chat) {\n  let {\n    closeReplyMessageBox\n  } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_replyMessageBox_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./replyMessageBox.dev.js */ \"./dev-javascripts/chat/js/replyMessageBox.dev.js\"));\n  closeReplyMessageBox();\n  activeChatSection.dataset.chatId = chat._id;\n  const activeChatHeader = document.getElementById(\"activeChatHeader\");\n  const activeChatHeaderPic = document.getElementById(\"activeChatHeaderPic\");\n  const activeChatImg = document.getElementById(\"activeChatImg\");\n  const activeChatHeaderName = document.getElementById(\"activeChatHeaderName\");\n  const activeChatHeaderStatus = document.getElementById(\"activeChatHeaderStatus\");\n  const activeChatInputContainer = document.getElementById(\"activeChatInputContainer\");\n  activeChatHeader.dataset.chatId = chat._id;\n\n  if (chat.hasOwnProperty(\"chatPic\") && chat.chatPic !== \"\") {\n    activeChatImg.src = chat.chatPic;\n    activeChatHeaderPic.classList.add(\"active-chat-header__pic--hide-svg\");\n    activeChatHeaderPic.classList.remove(\"active-chat-header__pic--hide-img\");\n  } else {\n    activeChatHeaderPic.classList.add(\"active-chat-header__pic--hide-img\");\n    activeChatHeaderPic.classList.remove(\"active-chat-header__pic--hide-svg\");\n  }\n\n  activeChatHeaderName.textContent = chat.chatName;\n\n  if (!chat.isGroupChat) {\n    if (chat.isUserActive) {\n      activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n      activeChatHeaderStatus.textContent = \"Active\";\n    } else {\n      let {\n        timeDifferenceFromNow\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_common_calculateTimeDifference_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../common/calculateTimeDifference.dev */ \"./dev-javascripts/common/calculateTimeDifference.dev.js\"));\n      activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n\n      if (chat.hasOwnProperty(\"userLastActive\")) {\n        activeChatHeaderStatus.textContent = `last active ${timeDifferenceFromNow(chat.userLastActive)} ago`;\n      } else {\n        activeChatHeaderStatus.textContent = \"\";\n      }\n    }\n  } else {\n    activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n    activeChatHeaderStatus.textContent = \"\";\n  }\n\n  onOffActiveChatInputContainer(chat);\n}\nasync function clearActiveChatMessageContainer() {\n  let activeChatMessageContainer = document.getElementById(\"activeChatMessageContainer\");\n  activeChatMessageContainer.innerHTML = \"\";\n}\nasync function onOffActiveChatInputContainer(chat) {\n  const activeChatInputContainer = document.getElementById(\"activeChatInputContainer\");\n\n  if (chat.hasOwnProperty(\"canSendMessageToThisChat\") && chat.canSendMessageToThisChat === false) {\n    activeChatInputContainer.classList.add(\"active-chat-input-container--disable\");\n    activeChatInputContainer.classList.remove(\"active-chat-input-container--enable\");\n  } else {\n    activeChatInputContainer.classList.add(\"active-chat-input-container--enable\");\n    activeChatInputContainer.classList.remove(\"active-chat-input-container--disable\");\n  }\n}\n\nfunction initializeUserMessageBoxObserver() {\n  USER_MESSAGE_BOX_OBSERVER = new IntersectionObserver(async (entries, observer) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting === true) {\n        let messageId = entry.target.dataset.messageId;\n        socket.emit(\"chat:update-message-seen-status\", {\n          messageId: messageId\n        });\n        observer.unobserve(entry.target);\n      }\n    });\n  }, {\n    threshold: 0.5,\n    root: activeChatMessageContainer\n  });\n} // function initializeTopUserMessageBoxObserver() {\n//   TOP_USER_MESSAGE_BOX_OBSERVER = new IntersectionObserver(\n//     async (entries, observer) => {\n//       entries.forEach(entry => {\n//         if (entry.isIntersecting === true) {\n//           fetch(`/message/fetch-messages/${chat._id}?skipMessagesCount=${}`)\n//     .then(response => {\n//       if (response.ok) {\n//         return response.json()\n//       }\n//       return Promise.reject(response)\n//     })\n//     .then(async data => {\n//       if (data.isSuccess) {\n//         activeChatMessageContainer.innerHTML = \"\"\n//         console.log(data)\n//         skipskipMessagesCount = data.allMessages.length\n//         let unseenMessages = data.allMessages.slice(0, data.unseenMessagesCount)\n//         let seenMessages = data.allMessages.slice(data.unseenMessagesCount)\n//         console.log(\n//           \"unseenMessages:\",\n//           unseenMessages,\n//           \"seenMessages:\",\n//           seenMessages\n//         )\n//         await checkTimeAndCreateOldMessage(\n//           seenMessages,\n//           activeChatMessageContainer,\n//           true\n//         )\n//         if (unseenMessages.length > 0) {\n//           const { checkTimeAndCreateNewMessage } = await import(\"./message.dev\")\n//           const { createUnseenMessageTagBox } = await import(\"./message.dev\")\n//           createUnseenMessageTagBox(\n//             unseenMessages.length,\n//             activeChatMessageContainer,\n//             \"beforeend\",\n//             false\n//           )\n//           for (let i = unseenMessages.length - 1; i >= 0; i--) {\n//             await checkTimeAndCreateNewMessage(\n//               unseenMessages[i],\n//               activeChatMessageContainer,\n//               false\n//             )\n//           }\n//           let unseenMessageTagBox =\n//             activeChatMessageContainer.getElementsByClassName(\n//               \"active-chat-unseen-message-tag-box\"\n//             )[0]\n//           if (unseenMessageTagBox) {\n//             activeChatMessageContainer.scrollTop = unseenMessageTagBox.offsetTop\n//             // unseenMessageTagBox.scrollIntoView({\n//             //   behavior: \"smooth\",\n//             //   block: \"end\",\n//             //   inline: \"nearest\"\n//             // })\n//           }\n//         }\n//         let { adjustMessageContainerBottomPadding } = await import(\n//           \"../chat.dev\"\n//         )\n//         adjustMessageContainerBottomPadding()\n//       } else {\n//         let { createMainNotification } = await import(\n//           \"../../common/mainNotification.dev\"\n//         )\n//         createMainNotification(data.error, \"error\")\n//       }\n//     })\n//     .catch(async err => {\n//       console.log(err)\n//       let { createMainNotification } = await import(\n//         \"../../common/mainNotification.dev\"\n//       )\n//       createMainNotification(\n//         \"Server Error In Accessing Messages, Please Refresh Your Page\",\n//         \"error\"\n//       )\n//     })\n//           observer.unobserve(entry.target)\n//         }\n//       })\n//     },\n//     { threshold: 0.5, root: activeChatMessageContainer }\n//   )\n// }\n// async function fetchMessageAndCreateUserMessageBox(chatId){\n//   fetch(`/message/fetch-messages/${chatId}?skipMessagesCount=${SKIP_MESSAGES_COUNT}`)\n//     .then(response => {\n//       if (response.ok) {\n//         return response.json()\n//       }\n//       return Promise.reject(response)\n//     })\n//     .then(async data => {\n//       if (data.isSuccess) {\n//         SKIP_MESSAGES_COUNT = data.allMessages.length\n//         let unseenMessages = data.allMessages.slice(0, data.unseenMessagesCount)\n//         let seenMessages = data.allMessages.slice(data.unseenMessagesCount)\n//         console.log(\n//           \"unseenMessages:\",\n//           unseenMessages,\n//           \"seenMessages:\",\n//           seenMessages\n//         )\n//         await checkTimeAndCreateOldMessage(\n//           seenMessages,\n//           activeChatMessageContainer,\n//           true\n//         )\n//         if (unseenMessages.length > 0) {\n//           const { checkTimeAndCreateNewMessage } = await import(\"./message.dev\")\n//           const { createUnseenMessageTagBox } = await import(\"./message.dev\")\n//           createUnseenMessageTagBox(\n//             unseenMessages.length,\n//             activeChatMessageContainer,\n//             \"beforeend\",\n//             false\n//           )\n//           for (let i = unseenMessages.length - 1; i >= 0; i--) {\n//             await checkTimeAndCreateNewMessage(\n//               unseenMessages[i],\n//               activeChatMessageContainer,\n//               false\n//             )\n//           }\n//           let unseenMessageTagBox =\n//             activeChatMessageContainer.getElementsByClassName(\n//               \"active-chat-unseen-message-tag-box\"\n//             )[0]\n//           if (unseenMessageTagBox) {\n//             activeChatMessageContainer.scrollTop = unseenMessageTagBox.offsetTop\n//             // unseenMessageTagBox.scrollIntoView({\n//             //   behavior: \"smooth\",\n//             //   block: \"end\",\n//             //   inline: \"nearest\"\n//             // })\n//           }\n//         }\n//         let { adjustMessageContainerBottomPadding } = await import(\n//           \"../chat.dev\"\n//         )\n//         adjustMessageContainerBottomPadding()\n//       } else {\n//         let { createMainNotification } = await import(\n//           \"../../common/mainNotification.dev\"\n//         )\n//         createMainNotification(data.error, \"error\")\n//       }\n//     })\n//     .catch(async err => {\n//       console.log(err)\n//       let { createMainNotification } = await import(\n//         \"../../common/mainNotification.dev\"\n//       )\n//       createMainNotification(\n//         \"Server Error In Accessing Messages, Please Refresh Your Page\",\n//         \"error\"\n//       )\n//     })\n// }//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYtamF2YXNjcmlwdHMvY2hhdC9qcy9zaG93QWN0aXZlQ2hhdFNlY3Rpb24uZGV2LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFJQSxjQUFjLEdBQUdDLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixnQkFBeEIsQ0FBckI7QUFDQSxJQUFJQyxpQkFBaUIsR0FBR0YsUUFBUSxDQUFDQyxjQUFULENBQXdCLG1CQUF4QixDQUF4QjtBQUNBLE1BQU1FLDBCQUEwQixHQUFHSCxRQUFRLENBQUNDLGNBQVQsQ0FDakMsNEJBRGlDLENBQW5DO0FBR08sZUFBZUcscUJBQWYsQ0FBcUNDLElBQXJDLEVBQTJDO0VBQ2hELElBQUlDLDBCQUEwQixHQUFHTixRQUFRLENBQUNDLGNBQVQsQ0FDL0IsNEJBRCtCLENBQWpDO0VBSUFLLDBCQUEwQixDQUFDQyxLQUEzQixHQUFtQyxFQUFuQztFQUNBSiwwQkFBMEIsQ0FBQ0ssU0FBM0IsR0FBdUMsRUFBdkM7RUFDQSxJQUFJO0lBQUVDO0VBQUYsSUFBNkIsTUFBTSx5TEFBdkM7RUFDQUEsc0JBQXNCO0VBQ3RCQyx1QkFBdUIsQ0FBQ0wsSUFBRCxDQUF2Qjs7RUFDQSxJQUFJTSx5QkFBeUIsS0FBS0MsU0FBbEMsRUFBNkM7SUFDM0NELHlCQUF5QixDQUFDRSxVQUExQjtFQUNEOztFQUNEQyxnQ0FBZ0MsR0FiZ0IsQ0FlaEQ7O0VBQ0EsTUFBTTtJQUFFQztFQUFGLElBQW1DLE1BQU0sdVJBQS9DO0VBRUFDLEtBQUssQ0FBRSwyQkFBMEJYLElBQUksQ0FBQ1ksR0FBSSxFQUFyQyxDQUFMLENBQ0dDLElBREgsQ0FDUUMsUUFBUSxJQUFJO0lBQ2hCLElBQUlBLFFBQVEsQ0FBQ0MsRUFBYixFQUFpQjtNQUNmLE9BQU9ELFFBQVEsQ0FBQ0UsSUFBVCxFQUFQO0lBQ0Q7O0lBQ0QsT0FBT0MsT0FBTyxDQUFDQyxNQUFSLENBQWVKLFFBQWYsQ0FBUDtFQUNELENBTkgsRUFPR0QsSUFQSCxDQU9RLE1BQU1NLElBQU4sSUFBYztJQUNsQixJQUFJQSxJQUFJLENBQUNDLFNBQVQsRUFBb0I7TUFDbEJ0QiwwQkFBMEIsQ0FBQ0ssU0FBM0IsR0FBdUMsRUFBdkM7TUFDQWtCLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSCxJQUFaO01BRUEsSUFBSUksY0FBYyxHQUFHSixJQUFJLENBQUNLLFdBQUwsQ0FBaUJDLEtBQWpCLENBQXVCLENBQXZCLEVBQTBCTixJQUFJLENBQUNPLG1CQUEvQixDQUFyQjtNQUNBLElBQUlDLFlBQVksR0FBR1IsSUFBSSxDQUFDSyxXQUFMLENBQWlCQyxLQUFqQixDQUF1Qk4sSUFBSSxDQUFDTyxtQkFBNUIsQ0FBbkI7TUFDQUwsT0FBTyxDQUFDQyxHQUFSLENBQ0UsaUJBREYsRUFFRUMsY0FGRixFQUdFLGVBSEYsRUFJRUksWUFKRjtNQU1BLE1BQU1qQiw0QkFBNEIsQ0FDaENpQixZQURnQyxFQUVoQzdCLDBCQUZnQyxFQUdoQyxJQUhnQyxDQUFsQzs7TUFNQSxJQUFJeUIsY0FBYyxDQUFDSyxNQUFmLEdBQXdCLENBQTVCLEVBQStCO1FBQzdCLE1BQU07VUFBRUM7UUFBRixJQUFtQyxNQUFNLHVSQUEvQztRQUNBLE1BQU07VUFBRUM7UUFBRixJQUFnQyxNQUFNLHVSQUE1QztRQUNBQSx5QkFBeUIsQ0FDdkJQLGNBQWMsQ0FBQ0ssTUFEUSxFQUV2QjlCLDBCQUZ1QixFQUd2QixXQUh1QixFQUl2QixLQUp1QixDQUF6Qjs7UUFPQSxLQUFLLElBQUlpQyxDQUFDLEdBQUdSLGNBQWMsQ0FBQ0ssTUFBZixHQUF3QixDQUFyQyxFQUF3Q0csQ0FBQyxJQUFJLENBQTdDLEVBQWdEQSxDQUFDLEVBQWpELEVBQXFEO1VBQ25ELE1BQU1GLDRCQUE0QixDQUNoQ04sY0FBYyxDQUFDUSxDQUFELENBRGtCLEVBRWhDakMsMEJBRmdDLEVBR2hDLEtBSGdDLENBQWxDO1FBS0Q7O1FBRUQsSUFBSWtDLG1CQUFtQixHQUNyQmxDLDBCQUEwQixDQUFDbUMsc0JBQTNCLENBQ0Usb0NBREYsRUFFRSxDQUZGLENBREY7O1FBSUEsSUFBSUQsbUJBQUosRUFBeUI7VUFDdkJsQywwQkFBMEIsQ0FBQ29DLFNBQTNCLEdBQXVDRixtQkFBbUIsQ0FBQ0csU0FBM0QsQ0FEdUIsQ0FFdkI7VUFDQTtVQUNBO1VBQ0E7VUFDQTtRQUNEO01BQ0Y7O01BRUQsSUFBSTtRQUFFQztNQUFGLElBQTBDLE1BQU0sc0xBQXBEO01BR0FBLG1DQUFtQztJQUNwQyxDQXRERCxNQXNETztNQUNMLElBQUk7UUFBRUM7TUFBRixJQUE2QixNQUFNLCtPQUF2QztNQUdBQSxzQkFBc0IsQ0FBQ2xCLElBQUksQ0FBQ21CLEtBQU4sRUFBYSxPQUFiLENBQXRCO0lBQ0Q7RUFDRixDQXBFSCxFQXFFR0MsS0FyRUgsQ0FxRVMsTUFBTUMsR0FBTixJQUFhO0lBQ2xCbkIsT0FBTyxDQUFDQyxHQUFSLENBQVlrQixHQUFaO0lBQ0EsSUFBSTtNQUFFSDtJQUFGLElBQTZCLE1BQU0sK09BQXZDO0lBR0FBLHNCQUFzQixDQUNwQiw4REFEb0IsRUFFcEIsT0FGb0IsQ0FBdEI7RUFJRCxDQTlFSDtFQWdGQTNDLGNBQWMsQ0FBQytDLFNBQWYsQ0FBeUJDLEdBQXpCLENBQTZCLHdCQUE3QjtFQUNBN0MsaUJBQWlCLENBQUM0QyxTQUFsQixDQUE0QkUsTUFBNUIsQ0FBbUMsMkJBQW5DO0FBQ0Q7QUFFTSxlQUFldEMsdUJBQWYsQ0FBdUNMLElBQXZDLEVBQTZDO0VBQ2xELElBQUk7SUFBRTRDO0VBQUYsSUFBMkIsTUFBTSwrTkFBckM7RUFDQUEsb0JBQW9CO0VBQ3BCL0MsaUJBQWlCLENBQUNnRCxPQUFsQixDQUEwQkMsTUFBMUIsR0FBbUM5QyxJQUFJLENBQUNZLEdBQXhDO0VBQ0EsTUFBTW1DLGdCQUFnQixHQUFHcEQsUUFBUSxDQUFDQyxjQUFULENBQXdCLGtCQUF4QixDQUF6QjtFQUNBLE1BQU1vRCxtQkFBbUIsR0FBR3JELFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixxQkFBeEIsQ0FBNUI7RUFDQSxNQUFNcUQsYUFBYSxHQUFHdEQsUUFBUSxDQUFDQyxjQUFULENBQXdCLGVBQXhCLENBQXRCO0VBQ0EsTUFBTXNELG9CQUFvQixHQUFHdkQsUUFBUSxDQUFDQyxjQUFULENBQXdCLHNCQUF4QixDQUE3QjtFQUNBLE1BQU11RCxzQkFBc0IsR0FBR3hELFFBQVEsQ0FBQ0MsY0FBVCxDQUM3Qix3QkFENkIsQ0FBL0I7RUFHQSxNQUFNd0Qsd0JBQXdCLEdBQUd6RCxRQUFRLENBQUNDLGNBQVQsQ0FDL0IsMEJBRCtCLENBQWpDO0VBSUFtRCxnQkFBZ0IsQ0FBQ0YsT0FBakIsQ0FBeUJDLE1BQXpCLEdBQWtDOUMsSUFBSSxDQUFDWSxHQUF2Qzs7RUFFQSxJQUFJWixJQUFJLENBQUNxRCxjQUFMLENBQW9CLFNBQXBCLEtBQWtDckQsSUFBSSxDQUFDc0QsT0FBTCxLQUFpQixFQUF2RCxFQUEyRDtJQUN6REwsYUFBYSxDQUFDTSxHQUFkLEdBQW9CdkQsSUFBSSxDQUFDc0QsT0FBekI7SUFFQU4sbUJBQW1CLENBQUNQLFNBQXBCLENBQThCQyxHQUE5QixDQUFrQyxtQ0FBbEM7SUFDQU0sbUJBQW1CLENBQUNQLFNBQXBCLENBQThCRSxNQUE5QixDQUFxQyxtQ0FBckM7RUFDRCxDQUxELE1BS087SUFDTEssbUJBQW1CLENBQUNQLFNBQXBCLENBQThCQyxHQUE5QixDQUFrQyxtQ0FBbEM7SUFDQU0sbUJBQW1CLENBQUNQLFNBQXBCLENBQThCRSxNQUE5QixDQUFxQyxtQ0FBckM7RUFDRDs7RUFDRE8sb0JBQW9CLENBQUNNLFdBQXJCLEdBQW1DeEQsSUFBSSxDQUFDeUQsUUFBeEM7O0VBQ0EsSUFBSSxDQUFDekQsSUFBSSxDQUFDMEQsV0FBVixFQUF1QjtJQUNyQixJQUFJMUQsSUFBSSxDQUFDMkQsWUFBVCxFQUF1QjtNQUNyQlIsc0JBQXNCLENBQUNWLFNBQXZCLENBQWlDRSxNQUFqQyxDQUNFLHVDQURGO01BR0FRLHNCQUFzQixDQUFDSyxXQUF2QixHQUFxQyxRQUFyQztJQUNELENBTEQsTUFLTztNQUNMLElBQUk7UUFBRUk7TUFBRixJQUE0QixNQUFNLDZQQUF0QztNQUdBVCxzQkFBc0IsQ0FBQ1YsU0FBdkIsQ0FBaUNFLE1BQWpDLENBQ0UsdUNBREY7O01BR0EsSUFBSTNDLElBQUksQ0FBQ3FELGNBQUwsQ0FBb0IsZ0JBQXBCLENBQUosRUFBMkM7UUFDekNGLHNCQUFzQixDQUFDSyxXQUF2QixHQUFzQyxlQUFjSSxxQkFBcUIsQ0FDdkU1RCxJQUFJLENBQUM2RCxjQURrRSxDQUV2RSxNQUZGO01BR0QsQ0FKRCxNQUlPO1FBQ0xWLHNCQUFzQixDQUFDSyxXQUF2QixHQUFxQyxFQUFyQztNQUNEO0lBQ0Y7RUFDRixDQXJCRCxNQXFCTztJQUNMTCxzQkFBc0IsQ0FBQ1YsU0FBdkIsQ0FBaUNFLE1BQWpDLENBQ0UsdUNBREY7SUFHQVEsc0JBQXNCLENBQUNLLFdBQXZCLEdBQXFDLEVBQXJDO0VBQ0Q7O0VBRURNLDZCQUE2QixDQUFDOUQsSUFBRCxDQUE3QjtBQUNEO0FBRU0sZUFBZStELCtCQUFmLEdBQWlEO0VBQ3RELElBQUlqRSwwQkFBMEIsR0FBR0gsUUFBUSxDQUFDQyxjQUFULENBQy9CLDRCQUQrQixDQUFqQztFQUdBRSwwQkFBMEIsQ0FBQ0ssU0FBM0IsR0FBdUMsRUFBdkM7QUFDRDtBQUVNLGVBQWUyRCw2QkFBZixDQUE2QzlELElBQTdDLEVBQW1EO0VBQ3hELE1BQU1vRCx3QkFBd0IsR0FBR3pELFFBQVEsQ0FBQ0MsY0FBVCxDQUMvQiwwQkFEK0IsQ0FBakM7O0VBR0EsSUFDRUksSUFBSSxDQUFDcUQsY0FBTCxDQUFvQiwwQkFBcEIsS0FDQXJELElBQUksQ0FBQ2dFLHdCQUFMLEtBQWtDLEtBRnBDLEVBR0U7SUFDQVosd0JBQXdCLENBQUNYLFNBQXpCLENBQW1DQyxHQUFuQyxDQUNFLHNDQURGO0lBR0FVLHdCQUF3QixDQUFDWCxTQUF6QixDQUFtQ0UsTUFBbkMsQ0FDRSxxQ0FERjtFQUdELENBVkQsTUFVTztJQUNMUyx3QkFBd0IsQ0FBQ1gsU0FBekIsQ0FBbUNDLEdBQW5DLENBQ0UscUNBREY7SUFHQVUsd0JBQXdCLENBQUNYLFNBQXpCLENBQW1DRSxNQUFuQyxDQUNFLHNDQURGO0VBR0Q7QUFDRjs7QUFFRCxTQUFTbEMsZ0NBQVQsR0FBNEM7RUFDMUNILHlCQUF5QixHQUFHLElBQUkyRCxvQkFBSixDQUMxQixPQUFPQyxPQUFQLEVBQWdCQyxRQUFoQixLQUE2QjtJQUMzQkQsT0FBTyxDQUFDRSxPQUFSLENBQWdCQyxLQUFLLElBQUk7TUFDdkIsSUFBSUEsS0FBSyxDQUFDQyxjQUFOLEtBQXlCLElBQTdCLEVBQW1DO1FBQ2pDLElBQUlDLFNBQVMsR0FBR0YsS0FBSyxDQUFDRyxNQUFOLENBQWEzQixPQUFiLENBQXFCMEIsU0FBckM7UUFDQUUsTUFBTSxDQUFDQyxJQUFQLENBQVksaUNBQVosRUFBK0M7VUFDN0NILFNBQVMsRUFBRUE7UUFEa0MsQ0FBL0M7UUFHQUosUUFBUSxDQUFDUSxTQUFULENBQW1CTixLQUFLLENBQUNHLE1BQXpCO01BQ0Q7SUFDRixDQVJEO0VBU0QsQ0FYeUIsRUFZMUI7SUFBRUksU0FBUyxFQUFFLEdBQWI7SUFBa0JDLElBQUksRUFBRS9FO0VBQXhCLENBWjBCLENBQTVCO0FBY0QsRUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL2Rldi1qYXZhc2NyaXB0cy9jaGF0L2pzL3Nob3dBY3RpdmVDaGF0U2VjdGlvbi5kZXYuanM/YmI3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgYWxsQ2hhdFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFsbENoYXRTZWN0aW9uXCIpXHJcbmxldCBhY3RpdmVDaGF0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdFNlY3Rpb25cIilcclxuY29uc3QgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICBcImFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyXCJcclxuKVxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvd0FjdGl2ZUNoYXRTZWN0aW9uKGNoYXQpIHtcclxuICBsZXQgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnRcIlxyXG4gIClcclxuXHJcbiAgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQudmFsdWUgPSBcIlwiXHJcbiAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIlxyXG4gIGxldCB7IG9wZW5BY3RpdmVDaGF0SW5wdXRCb3ggfSA9IGF3YWl0IGltcG9ydChcIi4uL2NoYXQuZGV2LmpzXCIpXHJcbiAgb3BlbkFjdGl2ZUNoYXRJbnB1dEJveCgpXHJcbiAgdXBkYXRlQWN0aXZlQ2hhdFNlY3Rpb24oY2hhdClcclxuICBpZiAoVVNFUl9NRVNTQUdFX0JPWF9PQlNFUlZFUiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBVU0VSX01FU1NBR0VfQk9YX09CU0VSVkVSLmRpc2Nvbm5lY3QoKVxyXG4gIH1cclxuICBpbml0aWFsaXplVXNlck1lc3NhZ2VCb3hPYnNlcnZlcigpXHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIGNvbnN0IHsgY2hlY2tUaW1lQW5kQ3JlYXRlT2xkTWVzc2FnZSB9ID0gYXdhaXQgaW1wb3J0KFwiLi9tZXNzYWdlLmRldlwiKVxyXG5cclxuICBmZXRjaChgL21lc3NhZ2UvZmV0Y2gtbWVzc2FnZXMvJHtjaGF0Ll9pZH1gKVxyXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKVxyXG4gICAgfSlcclxuICAgIC50aGVuKGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBpZiAoZGF0YS5pc1N1Y2Nlc3MpIHtcclxuICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiXHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuXHJcbiAgICAgICAgbGV0IHVuc2Vlbk1lc3NhZ2VzID0gZGF0YS5hbGxNZXNzYWdlcy5zbGljZSgwLCBkYXRhLnVuc2Vlbk1lc3NhZ2VzQ291bnQpXHJcbiAgICAgICAgbGV0IHNlZW5NZXNzYWdlcyA9IGRhdGEuYWxsTWVzc2FnZXMuc2xpY2UoZGF0YS51bnNlZW5NZXNzYWdlc0NvdW50KVxyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgXCJ1bnNlZW5NZXNzYWdlczpcIixcclxuICAgICAgICAgIHVuc2Vlbk1lc3NhZ2VzLFxyXG4gICAgICAgICAgXCJzZWVuTWVzc2FnZXM6XCIsXHJcbiAgICAgICAgICBzZWVuTWVzc2FnZXNcclxuICAgICAgICApXHJcbiAgICAgICAgYXdhaXQgY2hlY2tUaW1lQW5kQ3JlYXRlT2xkTWVzc2FnZShcclxuICAgICAgICAgIHNlZW5NZXNzYWdlcyxcclxuICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLFxyXG4gICAgICAgICAgdHJ1ZVxyXG4gICAgICAgIClcclxuXHJcbiAgICAgICAgaWYgKHVuc2Vlbk1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGNvbnN0IHsgY2hlY2tUaW1lQW5kQ3JlYXRlTmV3TWVzc2FnZSB9ID0gYXdhaXQgaW1wb3J0KFwiLi9tZXNzYWdlLmRldlwiKVxyXG4gICAgICAgICAgY29uc3QgeyBjcmVhdGVVbnNlZW5NZXNzYWdlVGFnQm94IH0gPSBhd2FpdCBpbXBvcnQoXCIuL21lc3NhZ2UuZGV2XCIpXHJcbiAgICAgICAgICBjcmVhdGVVbnNlZW5NZXNzYWdlVGFnQm94KFxyXG4gICAgICAgICAgICB1bnNlZW5NZXNzYWdlcy5sZW5ndGgsXHJcbiAgICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLFxyXG4gICAgICAgICAgICBcImJlZm9yZWVuZFwiLFxyXG4gICAgICAgICAgICBmYWxzZVxyXG4gICAgICAgICAgKVxyXG5cclxuICAgICAgICAgIGZvciAobGV0IGkgPSB1bnNlZW5NZXNzYWdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICBhd2FpdCBjaGVja1RpbWVBbmRDcmVhdGVOZXdNZXNzYWdlKFxyXG4gICAgICAgICAgICAgIHVuc2Vlbk1lc3NhZ2VzW2ldLFxyXG4gICAgICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLFxyXG4gICAgICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBsZXQgdW5zZWVuTWVzc2FnZVRhZ0JveCA9XHJcbiAgICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXHJcbiAgICAgICAgICAgICAgXCJhY3RpdmUtY2hhdC11bnNlZW4tbWVzc2FnZS10YWctYm94XCJcclxuICAgICAgICAgICAgKVswXVxyXG4gICAgICAgICAgaWYgKHVuc2Vlbk1lc3NhZ2VUYWdCb3gpIHtcclxuICAgICAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuc2Nyb2xsVG9wID0gdW5zZWVuTWVzc2FnZVRhZ0JveC5vZmZzZXRUb3BcclxuICAgICAgICAgICAgLy8gdW5zZWVuTWVzc2FnZVRhZ0JveC5zY3JvbGxJbnRvVmlldyh7XHJcbiAgICAgICAgICAgIC8vICAgYmVoYXZpb3I6IFwic21vb3RoXCIsXHJcbiAgICAgICAgICAgIC8vICAgYmxvY2s6IFwiZW5kXCIsXHJcbiAgICAgICAgICAgIC8vICAgaW5saW5lOiBcIm5lYXJlc3RcIlxyXG4gICAgICAgICAgICAvLyB9KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHsgYWRqdXN0TWVzc2FnZUNvbnRhaW5lckJvdHRvbVBhZGRpbmcgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgIFwiLi4vY2hhdC5kZXZcIlxyXG4gICAgICAgIClcclxuICAgICAgICBhZGp1c3RNZXNzYWdlQ29udGFpbmVyQm90dG9tUGFkZGluZygpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IHsgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi9jb21tb24vbWFpbk5vdGlmaWNhdGlvbi5kZXZcIlxyXG4gICAgICAgIClcclxuICAgICAgICBjcmVhdGVNYWluTm90aWZpY2F0aW9uKGRhdGEuZXJyb3IsIFwiZXJyb3JcIilcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC5jYXRjaChhc3luYyBlcnIgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgIGxldCB7IGNyZWF0ZU1haW5Ob3RpZmljYXRpb24gfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uL2NvbW1vbi9tYWluTm90aWZpY2F0aW9uLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbihcclxuICAgICAgICBcIlNlcnZlciBFcnJvciBJbiBBY2Nlc3NpbmcgTWVzc2FnZXMsIFBsZWFzZSBSZWZyZXNoIFlvdXIgUGFnZVwiLFxyXG4gICAgICAgIFwiZXJyb3JcIlxyXG4gICAgICApXHJcbiAgICB9KVxyXG5cclxuICBhbGxDaGF0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKFwiYWxsLWNoYXQtc2VjdGlvbi0taGlkZVwiKVxyXG4gIGFjdGl2ZUNoYXRTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtY2hhdC1zZWN0aW9uLS1oaWRlXCIpXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVBY3RpdmVDaGF0U2VjdGlvbihjaGF0KSB7XHJcbiAgbGV0IHsgY2xvc2VSZXBseU1lc3NhZ2VCb3ggfSA9IGF3YWl0IGltcG9ydChcIi4vcmVwbHlNZXNzYWdlQm94LmRldi5qc1wiKVxyXG4gIGNsb3NlUmVwbHlNZXNzYWdlQm94KClcclxuICBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZCA9IGNoYXQuX2lkXHJcbiAgY29uc3QgYWN0aXZlQ2hhdEhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdEhlYWRlclwiKVxyXG4gIGNvbnN0IGFjdGl2ZUNoYXRIZWFkZXJQaWMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRIZWFkZXJQaWNcIilcclxuICBjb25zdCBhY3RpdmVDaGF0SW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0SW1nXCIpXHJcbiAgY29uc3QgYWN0aXZlQ2hhdEhlYWRlck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRIZWFkZXJOYW1lXCIpXHJcbiAgY29uc3QgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJhY3RpdmVDaGF0SGVhZGVyU3RhdHVzXCJcclxuICApXHJcbiAgY29uc3QgYWN0aXZlQ2hhdElucHV0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lclwiXHJcbiAgKVxyXG5cclxuICBhY3RpdmVDaGF0SGVhZGVyLmRhdGFzZXQuY2hhdElkID0gY2hhdC5faWRcclxuXHJcbiAgaWYgKGNoYXQuaGFzT3duUHJvcGVydHkoXCJjaGF0UGljXCIpICYmIGNoYXQuY2hhdFBpYyAhPT0gXCJcIikge1xyXG4gICAgYWN0aXZlQ2hhdEltZy5zcmMgPSBjaGF0LmNoYXRQaWNcclxuXHJcbiAgICBhY3RpdmVDaGF0SGVhZGVyUGljLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtY2hhdC1oZWFkZXJfX3BpYy0taGlkZS1zdmdcIilcclxuICAgIGFjdGl2ZUNoYXRIZWFkZXJQaWMuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1jaGF0LWhlYWRlcl9fcGljLS1oaWRlLWltZ1wiKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBhY3RpdmVDaGF0SGVhZGVyUGljLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtY2hhdC1oZWFkZXJfX3BpYy0taGlkZS1pbWdcIilcclxuICAgIGFjdGl2ZUNoYXRIZWFkZXJQaWMuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1jaGF0LWhlYWRlcl9fcGljLS1oaWRlLXN2Z1wiKVxyXG4gIH1cclxuICBhY3RpdmVDaGF0SGVhZGVyTmFtZS50ZXh0Q29udGVudCA9IGNoYXQuY2hhdE5hbWVcclxuICBpZiAoIWNoYXQuaXNHcm91cENoYXQpIHtcclxuICAgIGlmIChjaGF0LmlzVXNlckFjdGl2ZSkge1xyXG4gICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgICAgXCJhY3RpdmUtY2hhdC1oZWFkZXJfX2NoYXQtc3RhdHVzLS1oaWRlXCJcclxuICAgICAgKVxyXG4gICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLnRleHRDb250ZW50ID0gXCJBY3RpdmVcIlxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IHsgdGltZURpZmZlcmVuY2VGcm9tTm93IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi9jb21tb24vY2FsY3VsYXRlVGltZURpZmZlcmVuY2UuZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgICAgXCJhY3RpdmUtY2hhdC1oZWFkZXJfX2NoYXQtc3RhdHVzLS1oaWRlXCJcclxuICAgICAgKVxyXG4gICAgICBpZiAoY2hhdC5oYXNPd25Qcm9wZXJ0eShcInVzZXJMYXN0QWN0aXZlXCIpKSB7XHJcbiAgICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy50ZXh0Q29udGVudCA9IGBsYXN0IGFjdGl2ZSAke3RpbWVEaWZmZXJlbmNlRnJvbU5vdyhcclxuICAgICAgICAgIGNoYXQudXNlckxhc3RBY3RpdmVcclxuICAgICAgICApfSBhZ29gXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy50ZXh0Q29udGVudCA9IFwiXCJcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgIFwiYWN0aXZlLWNoYXQtaGVhZGVyX19jaGF0LXN0YXR1cy0taGlkZVwiXHJcbiAgICApXHJcbiAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLnRleHRDb250ZW50ID0gXCJcIlxyXG4gIH1cclxuXHJcbiAgb25PZmZBY3RpdmVDaGF0SW5wdXRDb250YWluZXIoY2hhdClcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFyQWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIoKSB7XHJcbiAgbGV0IGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyXCJcclxuICApXHJcbiAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIlxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb25PZmZBY3RpdmVDaGF0SW5wdXRDb250YWluZXIoY2hhdCkge1xyXG4gIGNvbnN0IGFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJhY3RpdmVDaGF0SW5wdXRDb250YWluZXJcIlxyXG4gIClcclxuICBpZiAoXHJcbiAgICBjaGF0Lmhhc093blByb3BlcnR5KFwiY2FuU2VuZE1lc3NhZ2VUb1RoaXNDaGF0XCIpICYmXHJcbiAgICBjaGF0LmNhblNlbmRNZXNzYWdlVG9UaGlzQ2hhdCA9PT0gZmFsc2VcclxuICApIHtcclxuICAgIGFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFxyXG4gICAgICBcImFjdGl2ZS1jaGF0LWlucHV0LWNvbnRhaW5lci0tZGlzYWJsZVwiXHJcbiAgICApXHJcbiAgICBhY3RpdmVDaGF0SW5wdXRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcclxuICAgICAgXCJhY3RpdmUtY2hhdC1pbnB1dC1jb250YWluZXItLWVuYWJsZVwiXHJcbiAgICApXHJcbiAgfSBlbHNlIHtcclxuICAgIGFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFxyXG4gICAgICBcImFjdGl2ZS1jaGF0LWlucHV0LWNvbnRhaW5lci0tZW5hYmxlXCJcclxuICAgIClcclxuICAgIGFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICBcImFjdGl2ZS1jaGF0LWlucHV0LWNvbnRhaW5lci0tZGlzYWJsZVwiXHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0aWFsaXplVXNlck1lc3NhZ2VCb3hPYnNlcnZlcigpIHtcclxuICBVU0VSX01FU1NBR0VfQk9YX09CU0VSVkVSID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxyXG4gICAgYXN5bmMgKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XHJcbiAgICAgIGVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XHJcbiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nID09PSB0cnVlKSB7XHJcbiAgICAgICAgICBsZXQgbWVzc2FnZUlkID0gZW50cnkudGFyZ2V0LmRhdGFzZXQubWVzc2FnZUlkXHJcbiAgICAgICAgICBzb2NrZXQuZW1pdChcImNoYXQ6dXBkYXRlLW1lc3NhZ2Utc2Vlbi1zdGF0dXNcIiwge1xyXG4gICAgICAgICAgICBtZXNzYWdlSWQ6IG1lc3NhZ2VJZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfSxcclxuICAgIHsgdGhyZXNob2xkOiAwLjUsIHJvb3Q6IGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyIH1cclxuICApXHJcbn1cclxuLy8gZnVuY3Rpb24gaW5pdGlhbGl6ZVRvcFVzZXJNZXNzYWdlQm94T2JzZXJ2ZXIoKSB7XHJcbi8vICAgVE9QX1VTRVJfTUVTU0FHRV9CT1hfT0JTRVJWRVIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXHJcbi8vICAgICBhc3luYyAoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcclxuLy8gICAgICAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcclxuLy8gICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcgPT09IHRydWUpIHtcclxuLy8gICAgICAgICAgIGZldGNoKGAvbWVzc2FnZS9mZXRjaC1tZXNzYWdlcy8ke2NoYXQuX2lkfT9za2lwTWVzc2FnZXNDb3VudD0ke31gKVxyXG4vLyAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4vLyAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuLy8gICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXHJcbi8vICAgICAgIH1cclxuLy8gICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKVxyXG4vLyAgICAgfSlcclxuLy8gICAgIC50aGVuKGFzeW5jIGRhdGEgPT4ge1xyXG4vLyAgICAgICBpZiAoZGF0YS5pc1N1Y2Nlc3MpIHtcclxuLy8gICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiXHJcbi8vICAgICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuXHJcbi8vICAgICAgICAgc2tpcHNraXBNZXNzYWdlc0NvdW50ID0gZGF0YS5hbGxNZXNzYWdlcy5sZW5ndGhcclxuXHJcbi8vICAgICAgICAgbGV0IHVuc2Vlbk1lc3NhZ2VzID0gZGF0YS5hbGxNZXNzYWdlcy5zbGljZSgwLCBkYXRhLnVuc2Vlbk1lc3NhZ2VzQ291bnQpXHJcbi8vICAgICAgICAgbGV0IHNlZW5NZXNzYWdlcyA9IGRhdGEuYWxsTWVzc2FnZXMuc2xpY2UoZGF0YS51bnNlZW5NZXNzYWdlc0NvdW50KVxyXG4vLyAgICAgICAgIGNvbnNvbGUubG9nKFxyXG4vLyAgICAgICAgICAgXCJ1bnNlZW5NZXNzYWdlczpcIixcclxuLy8gICAgICAgICAgIHVuc2Vlbk1lc3NhZ2VzLFxyXG4vLyAgICAgICAgICAgXCJzZWVuTWVzc2FnZXM6XCIsXHJcbi8vICAgICAgICAgICBzZWVuTWVzc2FnZXNcclxuLy8gICAgICAgICApXHJcbi8vICAgICAgICAgYXdhaXQgY2hlY2tUaW1lQW5kQ3JlYXRlT2xkTWVzc2FnZShcclxuLy8gICAgICAgICAgIHNlZW5NZXNzYWdlcyxcclxuLy8gICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLFxyXG4vLyAgICAgICAgICAgdHJ1ZVxyXG4vLyAgICAgICAgIClcclxuXHJcbi8vICAgICAgICAgaWYgKHVuc2Vlbk1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcclxuLy8gICAgICAgICAgIGNvbnN0IHsgY2hlY2tUaW1lQW5kQ3JlYXRlTmV3TWVzc2FnZSB9ID0gYXdhaXQgaW1wb3J0KFwiLi9tZXNzYWdlLmRldlwiKVxyXG4vLyAgICAgICAgICAgY29uc3QgeyBjcmVhdGVVbnNlZW5NZXNzYWdlVGFnQm94IH0gPSBhd2FpdCBpbXBvcnQoXCIuL21lc3NhZ2UuZGV2XCIpXHJcbi8vICAgICAgICAgICBjcmVhdGVVbnNlZW5NZXNzYWdlVGFnQm94KFxyXG4vLyAgICAgICAgICAgICB1bnNlZW5NZXNzYWdlcy5sZW5ndGgsXHJcbi8vICAgICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLFxyXG4vLyAgICAgICAgICAgICBcImJlZm9yZWVuZFwiLFxyXG4vLyAgICAgICAgICAgICBmYWxzZVxyXG4vLyAgICAgICAgICAgKVxyXG5cclxuLy8gICAgICAgICAgIGZvciAobGV0IGkgPSB1bnNlZW5NZXNzYWdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4vLyAgICAgICAgICAgICBhd2FpdCBjaGVja1RpbWVBbmRDcmVhdGVOZXdNZXNzYWdlKFxyXG4vLyAgICAgICAgICAgICAgIHVuc2Vlbk1lc3NhZ2VzW2ldLFxyXG4vLyAgICAgICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLFxyXG4vLyAgICAgICAgICAgICAgIGZhbHNlXHJcbi8vICAgICAgICAgICAgIClcclxuLy8gICAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgICBsZXQgdW5zZWVuTWVzc2FnZVRhZ0JveCA9XHJcbi8vICAgICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXHJcbi8vICAgICAgICAgICAgICAgXCJhY3RpdmUtY2hhdC11bnNlZW4tbWVzc2FnZS10YWctYm94XCJcclxuLy8gICAgICAgICAgICAgKVswXVxyXG4vLyAgICAgICAgICAgaWYgKHVuc2Vlbk1lc3NhZ2VUYWdCb3gpIHtcclxuLy8gICAgICAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuc2Nyb2xsVG9wID0gdW5zZWVuTWVzc2FnZVRhZ0JveC5vZmZzZXRUb3BcclxuLy8gICAgICAgICAgICAgLy8gdW5zZWVuTWVzc2FnZVRhZ0JveC5zY3JvbGxJbnRvVmlldyh7XHJcbi8vICAgICAgICAgICAgIC8vICAgYmVoYXZpb3I6IFwic21vb3RoXCIsXHJcbi8vICAgICAgICAgICAgIC8vICAgYmxvY2s6IFwiZW5kXCIsXHJcbi8vICAgICAgICAgICAgIC8vICAgaW5saW5lOiBcIm5lYXJlc3RcIlxyXG4vLyAgICAgICAgICAgICAvLyB9KVxyXG4vLyAgICAgICAgICAgfVxyXG4vLyAgICAgICAgIH1cclxuXHJcbi8vICAgICAgICAgbGV0IHsgYWRqdXN0TWVzc2FnZUNvbnRhaW5lckJvdHRvbVBhZGRpbmcgfSA9IGF3YWl0IGltcG9ydChcclxuLy8gICAgICAgICAgIFwiLi4vY2hhdC5kZXZcIlxyXG4vLyAgICAgICAgIClcclxuLy8gICAgICAgICBhZGp1c3RNZXNzYWdlQ29udGFpbmVyQm90dG9tUGFkZGluZygpXHJcbi8vICAgICAgIH0gZWxzZSB7XHJcbi8vICAgICAgICAgbGV0IHsgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4vLyAgICAgICAgICAgXCIuLi8uLi9jb21tb24vbWFpbk5vdGlmaWNhdGlvbi5kZXZcIlxyXG4vLyAgICAgICAgIClcclxuLy8gICAgICAgICBjcmVhdGVNYWluTm90aWZpY2F0aW9uKGRhdGEuZXJyb3IsIFwiZXJyb3JcIilcclxuLy8gICAgICAgfVxyXG4vLyAgICAgfSlcclxuLy8gICAgIC5jYXRjaChhc3luYyBlcnIgPT4ge1xyXG4vLyAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbi8vICAgICAgIGxldCB7IGNyZWF0ZU1haW5Ob3RpZmljYXRpb24gfSA9IGF3YWl0IGltcG9ydChcclxuLy8gICAgICAgICBcIi4uLy4uL2NvbW1vbi9tYWluTm90aWZpY2F0aW9uLmRldlwiXHJcbi8vICAgICAgIClcclxuLy8gICAgICAgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbihcclxuLy8gICAgICAgICBcIlNlcnZlciBFcnJvciBJbiBBY2Nlc3NpbmcgTWVzc2FnZXMsIFBsZWFzZSBSZWZyZXNoIFlvdXIgUGFnZVwiLFxyXG4vLyAgICAgICAgIFwiZXJyb3JcIlxyXG4vLyAgICAgICApXHJcbi8vICAgICB9KVxyXG4vLyAgICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGVudHJ5LnRhcmdldClcclxuLy8gICAgICAgICB9XHJcbi8vICAgICAgIH0pXHJcbi8vICAgICB9LFxyXG4vLyAgICAgeyB0aHJlc2hvbGQ6IDAuNSwgcm9vdDogYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIgfVxyXG4vLyAgIClcclxuLy8gfVxyXG5cclxuLy8gYXN5bmMgZnVuY3Rpb24gZmV0Y2hNZXNzYWdlQW5kQ3JlYXRlVXNlck1lc3NhZ2VCb3goY2hhdElkKXtcclxuLy8gICBmZXRjaChgL21lc3NhZ2UvZmV0Y2gtbWVzc2FnZXMvJHtjaGF0SWR9P3NraXBNZXNzYWdlc0NvdW50PSR7U0tJUF9NRVNTQUdFU19DT1VOVH1gKVxyXG4vLyAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4vLyAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuLy8gICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXHJcbi8vICAgICAgIH1cclxuLy8gICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKVxyXG4vLyAgICAgfSlcclxuLy8gICAgIC50aGVuKGFzeW5jIGRhdGEgPT4ge1xyXG4vLyAgICAgICBpZiAoZGF0YS5pc1N1Y2Nlc3MpIHtcclxuXHJcbi8vICAgICAgICAgU0tJUF9NRVNTQUdFU19DT1VOVCA9IGRhdGEuYWxsTWVzc2FnZXMubGVuZ3RoXHJcblxyXG4vLyAgICAgICAgIGxldCB1bnNlZW5NZXNzYWdlcyA9IGRhdGEuYWxsTWVzc2FnZXMuc2xpY2UoMCwgZGF0YS51bnNlZW5NZXNzYWdlc0NvdW50KVxyXG4vLyAgICAgICAgIGxldCBzZWVuTWVzc2FnZXMgPSBkYXRhLmFsbE1lc3NhZ2VzLnNsaWNlKGRhdGEudW5zZWVuTWVzc2FnZXNDb3VudClcclxuLy8gICAgICAgICBjb25zb2xlLmxvZyhcclxuLy8gICAgICAgICAgIFwidW5zZWVuTWVzc2FnZXM6XCIsXHJcbi8vICAgICAgICAgICB1bnNlZW5NZXNzYWdlcyxcclxuLy8gICAgICAgICAgIFwic2Vlbk1lc3NhZ2VzOlwiLFxyXG4vLyAgICAgICAgICAgc2Vlbk1lc3NhZ2VzXHJcbi8vICAgICAgICAgKVxyXG4vLyAgICAgICAgIGF3YWl0IGNoZWNrVGltZUFuZENyZWF0ZU9sZE1lc3NhZ2UoXHJcbi8vICAgICAgICAgICBzZWVuTWVzc2FnZXMsXHJcbi8vICAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lcixcclxuLy8gICAgICAgICAgIHRydWVcclxuLy8gICAgICAgICApXHJcblxyXG4vLyAgICAgICAgIGlmICh1bnNlZW5NZXNzYWdlcy5sZW5ndGggPiAwKSB7XHJcbi8vICAgICAgICAgICBjb25zdCB7IGNoZWNrVGltZUFuZENyZWF0ZU5ld01lc3NhZ2UgfSA9IGF3YWl0IGltcG9ydChcIi4vbWVzc2FnZS5kZXZcIilcclxuLy8gICAgICAgICAgIGNvbnN0IHsgY3JlYXRlVW5zZWVuTWVzc2FnZVRhZ0JveCB9ID0gYXdhaXQgaW1wb3J0KFwiLi9tZXNzYWdlLmRldlwiKVxyXG4vLyAgICAgICAgICAgY3JlYXRlVW5zZWVuTWVzc2FnZVRhZ0JveChcclxuLy8gICAgICAgICAgICAgdW5zZWVuTWVzc2FnZXMubGVuZ3RoLFxyXG4vLyAgICAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lcixcclxuLy8gICAgICAgICAgICAgXCJiZWZvcmVlbmRcIixcclxuLy8gICAgICAgICAgICAgZmFsc2VcclxuLy8gICAgICAgICAgIClcclxuXHJcbi8vICAgICAgICAgICBmb3IgKGxldCBpID0gdW5zZWVuTWVzc2FnZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuLy8gICAgICAgICAgICAgYXdhaXQgY2hlY2tUaW1lQW5kQ3JlYXRlTmV3TWVzc2FnZShcclxuLy8gICAgICAgICAgICAgICB1bnNlZW5NZXNzYWdlc1tpXSxcclxuLy8gICAgICAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lcixcclxuLy8gICAgICAgICAgICAgICBmYWxzZVxyXG4vLyAgICAgICAgICAgICApXHJcbi8vICAgICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgICAgbGV0IHVuc2Vlbk1lc3NhZ2VUYWdCb3ggPVxyXG4vLyAgICAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxyXG4vLyAgICAgICAgICAgICAgIFwiYWN0aXZlLWNoYXQtdW5zZWVuLW1lc3NhZ2UtdGFnLWJveFwiXHJcbi8vICAgICAgICAgICAgIClbMF1cclxuLy8gICAgICAgICAgIGlmICh1bnNlZW5NZXNzYWdlVGFnQm94KSB7XHJcbi8vICAgICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLnNjcm9sbFRvcCA9IHVuc2Vlbk1lc3NhZ2VUYWdCb3gub2Zmc2V0VG9wXHJcbi8vICAgICAgICAgICAgIC8vIHVuc2Vlbk1lc3NhZ2VUYWdCb3guc2Nyb2xsSW50b1ZpZXcoe1xyXG4vLyAgICAgICAgICAgICAvLyAgIGJlaGF2aW9yOiBcInNtb290aFwiLFxyXG4vLyAgICAgICAgICAgICAvLyAgIGJsb2NrOiBcImVuZFwiLFxyXG4vLyAgICAgICAgICAgICAvLyAgIGlubGluZTogXCJuZWFyZXN0XCJcclxuLy8gICAgICAgICAgICAgLy8gfSlcclxuLy8gICAgICAgICAgIH1cclxuLy8gICAgICAgICB9XHJcblxyXG4vLyAgICAgICAgIGxldCB7IGFkanVzdE1lc3NhZ2VDb250YWluZXJCb3R0b21QYWRkaW5nIH0gPSBhd2FpdCBpbXBvcnQoXHJcbi8vICAgICAgICAgICBcIi4uL2NoYXQuZGV2XCJcclxuLy8gICAgICAgICApXHJcbi8vICAgICAgICAgYWRqdXN0TWVzc2FnZUNvbnRhaW5lckJvdHRvbVBhZGRpbmcoKVxyXG4vLyAgICAgICB9IGVsc2Uge1xyXG4vLyAgICAgICAgIGxldCB7IGNyZWF0ZU1haW5Ob3RpZmljYXRpb24gfSA9IGF3YWl0IGltcG9ydChcclxuLy8gICAgICAgICAgIFwiLi4vLi4vY29tbW9uL21haW5Ob3RpZmljYXRpb24uZGV2XCJcclxuLy8gICAgICAgICApXHJcbi8vICAgICAgICAgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbihkYXRhLmVycm9yLCBcImVycm9yXCIpXHJcbi8vICAgICAgIH1cclxuLy8gICAgIH0pXHJcbi8vICAgICAuY2F0Y2goYXN5bmMgZXJyID0+IHtcclxuLy8gICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4vLyAgICAgICBsZXQgeyBjcmVhdGVNYWluTm90aWZpY2F0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbi8vICAgICAgICAgXCIuLi8uLi9jb21tb24vbWFpbk5vdGlmaWNhdGlvbi5kZXZcIlxyXG4vLyAgICAgICApXHJcbi8vICAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oXHJcbi8vICAgICAgICAgXCJTZXJ2ZXIgRXJyb3IgSW4gQWNjZXNzaW5nIE1lc3NhZ2VzLCBQbGVhc2UgUmVmcmVzaCBZb3VyIFBhZ2VcIixcclxuLy8gICAgICAgICBcImVycm9yXCJcclxuLy8gICAgICAgKVxyXG4vLyAgICAgfSlcclxuLy8gfVxyXG4iXSwibmFtZXMiOlsiYWxsQ2hhdFNlY3Rpb24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYWN0aXZlQ2hhdFNlY3Rpb24iLCJhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciIsInNob3dBY3RpdmVDaGF0U2VjdGlvbiIsImNoYXQiLCJhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudCIsInZhbHVlIiwiaW5uZXJIVE1MIiwib3BlbkFjdGl2ZUNoYXRJbnB1dEJveCIsInVwZGF0ZUFjdGl2ZUNoYXRTZWN0aW9uIiwiVVNFUl9NRVNTQUdFX0JPWF9PQlNFUlZFUiIsInVuZGVmaW5lZCIsImRpc2Nvbm5lY3QiLCJpbml0aWFsaXplVXNlck1lc3NhZ2VCb3hPYnNlcnZlciIsImNoZWNrVGltZUFuZENyZWF0ZU9sZE1lc3NhZ2UiLCJmZXRjaCIsIl9pZCIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJkYXRhIiwiaXNTdWNjZXNzIiwiY29uc29sZSIsImxvZyIsInVuc2Vlbk1lc3NhZ2VzIiwiYWxsTWVzc2FnZXMiLCJzbGljZSIsInVuc2Vlbk1lc3NhZ2VzQ291bnQiLCJzZWVuTWVzc2FnZXMiLCJsZW5ndGgiLCJjaGVja1RpbWVBbmRDcmVhdGVOZXdNZXNzYWdlIiwiY3JlYXRlVW5zZWVuTWVzc2FnZVRhZ0JveCIsImkiLCJ1bnNlZW5NZXNzYWdlVGFnQm94IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInNjcm9sbFRvcCIsIm9mZnNldFRvcCIsImFkanVzdE1lc3NhZ2VDb250YWluZXJCb3R0b21QYWRkaW5nIiwiY3JlYXRlTWFpbk5vdGlmaWNhdGlvbiIsImVycm9yIiwiY2F0Y2giLCJlcnIiLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJjbG9zZVJlcGx5TWVzc2FnZUJveCIsImRhdGFzZXQiLCJjaGF0SWQiLCJhY3RpdmVDaGF0SGVhZGVyIiwiYWN0aXZlQ2hhdEhlYWRlclBpYyIsImFjdGl2ZUNoYXRJbWciLCJhY3RpdmVDaGF0SGVhZGVyTmFtZSIsImFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMiLCJhY3RpdmVDaGF0SW5wdXRDb250YWluZXIiLCJoYXNPd25Qcm9wZXJ0eSIsImNoYXRQaWMiLCJzcmMiLCJ0ZXh0Q29udGVudCIsImNoYXROYW1lIiwiaXNHcm91cENoYXQiLCJpc1VzZXJBY3RpdmUiLCJ0aW1lRGlmZmVyZW5jZUZyb21Ob3ciLCJ1c2VyTGFzdEFjdGl2ZSIsIm9uT2ZmQWN0aXZlQ2hhdElucHV0Q29udGFpbmVyIiwiY2xlYXJBY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciIsImNhblNlbmRNZXNzYWdlVG9UaGlzQ2hhdCIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsIm9ic2VydmVyIiwiZm9yRWFjaCIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJtZXNzYWdlSWQiLCJ0YXJnZXQiLCJzb2NrZXQiLCJlbWl0IiwidW5vYnNlcnZlIiwidGhyZXNob2xkIiwicm9vdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./dev-javascripts/chat/js/showActiveChatSection.dev.js\n");

/***/ })

}]);