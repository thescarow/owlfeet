"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_chat_js_showActiveChatSection_dev_js"],{

/***/ "./dev-javascripts/chat/js/showActiveChatSection.dev.js":
/*!**************************************************************!*\
  !*** ./dev-javascripts/chat/js/showActiveChatSection.dev.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"changeActiveChatBackground\": () => (/* binding */ changeActiveChatBackground),\n/* harmony export */   \"clearActiveChatMessageContainer\": () => (/* binding */ clearActiveChatMessageContainer),\n/* harmony export */   \"closeActiveChatCallRoomBox\": () => (/* binding */ closeActiveChatCallRoomBox),\n/* harmony export */   \"increaseTotalReceivedMessagesCount\": () => (/* binding */ increaseTotalReceivedMessagesCount),\n/* harmony export */   \"onOffActiveChatInputContainer\": () => (/* binding */ onOffActiveChatInputContainer),\n/* harmony export */   \"openActiveChatCallRoomBox\": () => (/* binding */ openActiveChatCallRoomBox),\n/* harmony export */   \"removeActiveChatBackground\": () => (/* binding */ removeActiveChatBackground),\n/* harmony export */   \"showActiveChatSection\": () => (/* binding */ showActiveChatSection),\n/* harmony export */   \"updateActiveChatSection\": () => (/* binding */ updateActiveChatSection)\n/* harmony export */ });\nlet allChatSection = document.getElementById(\"allChatSection\");\nlet activeChatSection = document.getElementById(\"activeChatSection\");\nconst emptyChatSection = document.getElementById(\"emptyChatSection\");\nconst activeChatMessageContainer = document.getElementById(\"activeChatMessageContainer\");\nconst activeChatMessageLoadingBox = document.getElementById(\"activeChatMessageLoadingBox\");\nlet totalReceivedMessagesCount;\nlet totalUnseenMessagesCount;\nasync function showActiveChatSection(chat) {\n  if (activeChatMessageLoadingBox.classList.contains(\"active-chat-message-loading-box--hide\")) activeChatMessageLoadingBox.classList.remove(\"active-chat-message-loading-box--hide\");\n  let activeChatInputTextContent = document.getElementById(\"activeChatInputTextContent\");\n  activeChatInputTextContent.value = \"\";\n  activeChatMessageContainer.innerHTML = \"\";\n  updateActiveChatSection(chat);\n  totalReceivedMessagesCount = 0;\n  let unseenMessagesCountResponse = await fetch(`/message/data/unseen-messages-count/${chat._id}`);\n  let unseenMessagesCountData = await unseenMessagesCountResponse.json();\n  totalUnseenMessagesCount = unseenMessagesCountData.unseenMessagesCount;\n  let {\n    openActiveChatInputBox\n  } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_chat_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../chat.dev.js */ \"./dev-javascripts/chat/chat.dev.js\"));\n  openActiveChatInputBox();\n\n  if (USER_MESSAGE_BOX_OBSERVER !== undefined) {\n    USER_MESSAGE_BOX_OBSERVER.disconnect();\n  }\n\n  initializeUserMessageBoxObserver();\n\n  if (TOP_MESSAGE_BOX_OBSERVER !== undefined) {\n    TOP_MESSAGE_BOX_OBSERVER.disconnect();\n  }\n\n  initializeTopMessageBoxObserver();\n\n  if (BOTTOM_MESSAGE_BOX_OBSERVER !== undefined) {\n    BOTTOM_MESSAGE_BOX_OBSERVER.disconnect();\n  }\n\n  initializeBottomMessageBoxObserver(); ///////////////////\n\n  const {\n    checkTimeAndCreateOldMessages\n  } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n  fetch(`/message/fetch-messages/${chat._id}?totalReceivedMessagesCount=0`).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(response);\n  }).then(async data => {\n    if (data.isSuccess) {\n      if (!activeChatMessageLoadingBox.classList.contains(\"active-chat-message-loading-box--hide\")) activeChatMessageLoadingBox.classList.add(\"active-chat-message-loading-box--hide\");\n      activeChatMessageContainer.innerHTML = \"\";\n      console.log(data);\n\n      if (data.allMessages.length > 0) {\n        totalReceivedMessagesCount += data.allMessages.length;\n\n        if (totalUnseenMessagesCount !== 0 && totalUnseenMessagesCount <= totalReceivedMessagesCount) {\n          let {\n            createUnseenMessageTagBox\n          } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n          let positionForUnseeenMessageTag = data.allMessages.length - (totalReceivedMessagesCount - totalUnseenMessagesCount);\n          checkTimeAndCreateOldMessages(data.allMessages.slice(0, positionForUnseeenMessageTag), false, true);\n          createUnseenMessageTagBox(totalUnseenMessagesCount, \"afterbegin\");\n          checkTimeAndCreateOldMessages(data.allMessages.slice(positionForUnseeenMessageTag), false, true);\n          totalUnseenMessagesCount = 0;\n        } else {\n          checkTimeAndCreateOldMessages(data.allMessages, false, true);\n        }\n\n        setTimeout(() => {\n          if (activeChatMessageContainer.firstElementChild) TOP_MESSAGE_BOX_OBSERVER.observe(activeChatMessageContainer.firstElementChild);\n        }, 2500);\n        setTimeout(() => {\n          if (activeChatMessageContainer.lastElementChild) BOTTOM_MESSAGE_BOX_OBSERVER.observe(activeChatMessageContainer.lastElementChild);\n        }, 2000);\n      }\n\n      let {\n        adjustMessageContainerBottomPadding\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_chat_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../chat.dev */ \"./dev-javascripts/chat/chat.dev.js\"));\n      adjustMessageContainerBottomPadding();\n    } else {\n      let {\n        createMainNotification\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_common_mainNotification_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n      createMainNotification(data.error, \"error\");\n    }\n  }).catch(async err => {\n    console.log(err);\n    let {\n      createMainNotification\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_common_mainNotification_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n    createMainNotification(\"Server Error In Accessing Messages, Please Refresh Your Page\", \"error\");\n  });\n  allChatSection.classList.add(\"all-chat-section--open-active-chat\");\n  activeChatSection.classList.remove(\"active-chat-section--hide\");\n  if (!emptyChatSection.classList.contains(\"empty-chat-section--hide\")) emptyChatSection.classList.add(\"empty-chat-section--hide\"); // allChatSection.classList.add(\"all-chat-section--hide\")\n  // activeChatSection.classList.remove(\"active-chat-section--hide\")\n}\n\nfunction initializeUserMessageBoxObserver() {\n  USER_MESSAGE_BOX_OBSERVER = new IntersectionObserver(async (entries, observer) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting === true) {\n        let messageId = entry.target.dataset.messageId;\n        socket.emit(\"chat:update-message-seen-status\", {\n          messageId: messageId\n        });\n        observer.unobserve(entry.target);\n      }\n    });\n  }, {\n    threshold: 0.5,\n    root: activeChatMessageContainer\n  });\n}\n\nfunction initializeTopMessageBoxObserver() {\n  TOP_MESSAGE_BOX_OBSERVER = new IntersectionObserver(async (entries, observer) => {\n    entries.forEach(async entry => {\n      if (entry.isIntersecting === true) {\n        observer.unobserve(entry.target);\n        let chatId = activeChatSection.dataset.chatId;\n        const {\n          createLoadingMessagesAnimation\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        let loadingMessageAnimationBox = createLoadingMessagesAnimation();\n        activeChatMessageContainer.insertAdjacentElement(\"afterbegin\", loadingMessageAnimationBox);\n        activeChatMessageContainer.scrollTop += 150;\n        await fetchMessageAndCreateUserMessageBox(chatId);\n      }\n    });\n  }, {\n    threshold: 0.5,\n    root: activeChatMessageContainer,\n    rootMargin: \"100px\"\n  });\n}\n\nfunction initializeBottomMessageBoxObserver() {\n  BOTTOM_MESSAGE_BOX_OBSERVER = new IntersectionObserver(async (entries, observer) => {\n    entries.forEach(async entry => {\n      if (entry.isIntersecting === true) {\n        observer.unobserve(entry.target);\n        let chatId = activeChatSection.dataset.chatId;\n        socket.emit(\"chat:update-chat-unseen-messages\", {\n          chatId: chatId\n        });\n      }\n    });\n  }, {\n    threshold: 0.5,\n    root: activeChatMessageContainer\n  });\n}\n\nasync function fetchMessageAndCreateUserMessageBox(chatId) {\n  const {\n    checkTimeAndCreateOldMessages\n  } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n  fetch(`/message/fetch-messages/${chatId}?totalReceivedMessagesCount=${totalReceivedMessagesCount}`).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(response);\n  }).then(async data => {\n    if (data.isSuccess) {\n      console.log(data);\n\n      if (data.allMessages.length > 0) {\n        totalReceivedMessagesCount += data.allMessages.length;\n\n        if (totalUnseenMessagesCount !== 0 && totalUnseenMessagesCount <= totalReceivedMessagesCount) {\n          let {\n            createUnseenMessageTagBox\n          } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n          let positionForUnseeenMessageTag = data.allMessages.length - (totalReceivedMessagesCount - totalUnseenMessagesCount);\n          checkTimeAndCreateOldMessages(data.allMessages.slice(0, positionForUnseeenMessageTag), false, false);\n          createUnseenMessageTagBox(totalUnseenMessagesCount, \"afterbegin\");\n          checkTimeAndCreateOldMessages(data.allMessages.slice(positionForUnseeenMessageTag), false, false);\n          totalUnseenMessagesCount = 0;\n        } else {\n          checkTimeAndCreateOldMessages(data.allMessages, false, false);\n        }\n\n        setTimeout(() => {\n          if (activeChatMessageContainer.firstElementChild) TOP_MESSAGE_BOX_OBSERVER.observe(activeChatMessageContainer.firstElementChild);\n        }, 4000);\n      } else {\n        let loadingMessageAnimationBox = [...activeChatMessageContainer.getElementsByClassName(\"loading-message-animation-box\")];\n        loadingMessageAnimationBox.forEach(box => {\n          box.parentNode.removeChild(box);\n        });\n      }\n    } else {\n      let {\n        createMainNotification\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_common_mainNotification_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n      createMainNotification(data.error, \"error\");\n    }\n  }).catch(async err => {\n    console.log(err);\n    let {\n      createMainNotification\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_common_mainNotification_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n    createMainNotification(\"Server Error In Accessing Messages, Please Refresh Your Page\", \"error\");\n  });\n} //////////////////////////\n\n\nfunction increaseTotalReceivedMessagesCount() {\n  totalUnseenMessagesCount = 0;\n  totalReceivedMessagesCount++;\n} /////////////////\n\nasync function updateActiveChatSection(chat) {\n  let {\n    closeReplyMessageBox\n  } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_replyMessageBox_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./replyMessageBox.dev.js */ \"./dev-javascripts/chat/js/replyMessageBox.dev.js\"));\n  closeReplyMessageBox();\n  activeChatSection.dataset.chatId = chat._id;\n  const activeChatHeader = document.getElementById(\"activeChatHeader\");\n  const activeChatHeaderPic = document.getElementById(\"activeChatHeaderPic\");\n  const activeChatImg = document.getElementById(\"activeChatImg\");\n  const activeChatHeaderName = document.getElementById(\"activeChatHeaderName\");\n  const activeChatHeaderStatus = document.getElementById(\"activeChatHeaderStatus\");\n  const activeChatInputContainer = document.getElementById(\"activeChatInputContainer\");\n  activeChatHeader.dataset.chatId = chat._id; //chat backgound\n\n  if (chat.hasOwnProperty(\"chatCustomBackground\")) {\n    if (chat.chatCustomBackground.hasBackgroundColor) {\n      changeActiveChatBackground(\"color\", chat.chatCustomBackground.backgroundColor);\n    } else if (chat.chatCustomBackground.hasBackgroundImage) {\n      changeActiveChatBackground(\"image\", chat.chatCustomBackground.backgroundImage);\n    } else {\n      removeActiveChatBackground();\n    }\n  } else {\n    removeActiveChatBackground();\n  } ///////\n\n\n  if (chat.hasOwnProperty(\"chatPic\") && chat.chatPic !== \"\") {\n    activeChatImg.src = chat.chatPic;\n    activeChatHeaderPic.classList.add(\"active-chat-header__pic--hide-svg\");\n    activeChatHeaderPic.classList.remove(\"active-chat-header__pic--hide-img\");\n  } else {\n    activeChatHeaderPic.classList.add(\"active-chat-header__pic--hide-img\");\n    activeChatHeaderPic.classList.remove(\"active-chat-header__pic--hide-svg\");\n  }\n\n  activeChatHeaderName.textContent = chat.chatName;\n\n  if (!chat.isGroupChat) {\n    if (chat.isUserActive) {\n      activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n      activeChatHeaderStatus.textContent = \"Active\";\n    } else {\n      let {\n        timeDifferenceFromNow\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_common_calculateTimeDifference_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../common/calculateTimeDifference.dev */ \"./dev-javascripts/common/calculateTimeDifference.dev.js\"));\n      activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n\n      if (chat.hasOwnProperty(\"userLastActive\")) {\n        activeChatHeaderStatus.textContent = `last active ${timeDifferenceFromNow(chat.userLastActive)} ago`;\n      } else {\n        activeChatHeaderStatus.textContent = \"\";\n      }\n    }\n  } else {\n    activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n    activeChatHeaderStatus.textContent = \"\";\n  }\n\n  onOffActiveChatInputContainer(chat);\n\n  if (chat.hasOwnProperty(\"isOnCall\") && chat.isOnCall === true) {\n    openActiveChatCallRoomBox(chat.callRoomId);\n  } else {\n    closeActiveChatCallRoomBox();\n  }\n}\nasync function clearActiveChatMessageContainer() {\n  let activeChatMessageContainer = document.getElementById(\"activeChatMessageContainer\");\n  activeChatMessageContainer.innerHTML = \"\";\n}\nasync function onOffActiveChatInputContainer(chat) {\n  const activeChatInputContainer = document.getElementById(\"activeChatInputContainer\");\n\n  if (chat.hasOwnProperty(\"canSendMessageToThisChat\") && chat.canSendMessageToThisChat === false) {\n    activeChatInputContainer.classList.add(\"active-chat-input-container--disable\");\n    activeChatInputContainer.classList.remove(\"active-chat-input-container--enable\");\n  } else {\n    activeChatInputContainer.classList.add(\"active-chat-input-container--enable\");\n    activeChatInputContainer.classList.remove(\"active-chat-input-container--disable\");\n  }\n}\nfunction openActiveChatCallRoomBox(callRoomId) {\n  let activeChatCallBtn = document.getElementById(\"activeChatCallBtn\");\n  let activeChatCallRoomBox = document.getElementById(\"activeChatCallRoomBox\");\n\n  while (activeChatCallRoomBox.classList.contains(\"chat-call-room-box--hide\")) activeChatCallRoomBox.classList.remove(\"chat-call-room-box--hide\");\n\n  activeChatCallBtn.classList.add(\"active-chat-header__btn--hide\");\n  activeChatCallRoomBox.dataset.callRoomId = callRoomId;\n}\nfunction closeActiveChatCallRoomBox() {\n  let activeChatCallBtn = document.getElementById(\"activeChatCallBtn\");\n  let activeChatCallRoomBox = document.getElementById(\"activeChatCallRoomBox\");\n\n  while (activeChatCallBtn.classList.contains(\"active-chat-header__btn--hide\")) activeChatCallBtn.classList.remove(\"active-chat-header__btn--hide\");\n\n  activeChatCallRoomBox.classList.add(\"chat-call-room-box--hide\");\n  activeChatCallRoomBox.dataset.callRoomId = \"\";\n}\nfunction changeActiveChatBackground(backgroundType, backgroundValue) {\n  if (backgroundType === \"color\") {\n    activeChatSection.style.backgroundColor = backgroundValue;\n    activeChatSection.style.backgroundImage = \"none\";\n  } else if (backgroundType === \"image\") {\n    activeChatSection.style.backgroundColor = \"#eee\";\n    activeChatSection.style.backgroundImage = `url(${backgroundValue})`;\n  } else {\n    activeChatSection.style.backgroundColor = \"#eee\";\n    activeChatSection.style.backgroundImage = `url('../../assets/images/activeChatBackground.jpg')`;\n  }\n}\nfunction removeActiveChatBackground() {\n  activeChatSection.style.backgroundColor = \"#eee\";\n  activeChatSection.style.backgroundImage = `url('../../assets/images/activeChatBackground.jpg')`;\n} /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYtamF2YXNjcmlwdHMvY2hhdC9qcy9zaG93QWN0aXZlQ2hhdFNlY3Rpb24uZGV2LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLGNBQWMsR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCLGdCQUF4QixDQUFyQjtBQUNBLElBQUlDLGlCQUFpQixHQUFHRixRQUFRLENBQUNDLGNBQVQsQ0FBd0IsbUJBQXhCLENBQXhCO0FBQ0EsTUFBTUUsZ0JBQWdCLEdBQUdILFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixrQkFBeEIsQ0FBekI7QUFDQSxNQUFNRywwQkFBMEIsR0FBR0osUUFBUSxDQUFDQyxjQUFULENBQ2pDLDRCQURpQyxDQUFuQztBQUdBLE1BQU1JLDJCQUEyQixHQUFHTCxRQUFRLENBQUNDLGNBQVQsQ0FDbEMsNkJBRGtDLENBQXBDO0FBSUEsSUFBSUssMEJBQUo7QUFDQSxJQUFJQyx3QkFBSjtBQUNPLGVBQWVDLHFCQUFmLENBQXFDQyxJQUFyQyxFQUEyQztFQUNoRCxJQUNFSiwyQkFBMkIsQ0FBQ0ssU0FBNUIsQ0FBc0NDLFFBQXRDLENBQ0UsdUNBREYsQ0FERixFQUtFTiwyQkFBMkIsQ0FBQ0ssU0FBNUIsQ0FBc0NFLE1BQXRDLENBQ0UsdUNBREY7RUFJRixJQUFJQywwQkFBMEIsR0FBR2IsUUFBUSxDQUFDQyxjQUFULENBQy9CLDRCQUQrQixDQUFqQztFQUdBWSwwQkFBMEIsQ0FBQ0MsS0FBM0IsR0FBbUMsRUFBbkM7RUFDQVYsMEJBQTBCLENBQUNXLFNBQTNCLEdBQXVDLEVBQXZDO0VBQ0FDLHVCQUF1QixDQUFDUCxJQUFELENBQXZCO0VBRUFILDBCQUEwQixHQUFHLENBQTdCO0VBQ0EsSUFBSVcsMkJBQTJCLEdBQUcsTUFBTUMsS0FBSyxDQUMxQyx1Q0FBc0NULElBQUksQ0FBQ1UsR0FBSSxFQURMLENBQTdDO0VBR0EsSUFBSUMsdUJBQXVCLEdBQUcsTUFBTUgsMkJBQTJCLENBQUNJLElBQTVCLEVBQXBDO0VBQ0FkLHdC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QWxCLENBQTRCRSxNQUE1QixDQUFtQywrQkFBbkM7O0VBQ0ZzRyxxQkFBcUIsQ0FBQ3hHLFNBQXRCLENBQWdDOEIsR0FBaEMsQ0FBb0MsMEJBQXBDO0VBRUEwRSxxQkFBcUIsQ0FBQ2pELE9BQXRCLENBQThCNEMsVUFBOUIsR0FBMkMsRUFBM0M7QUFDRDtBQUVNLFNBQVNoQiwwQkFBVCxDQUFvQ3NCLGNBQXBDLEVBQW9EQyxlQUFwRCxFQUFxRTtFQUMxRSxJQUFJRCxjQUFjLEtBQUssT0FBdkIsRUFBZ0M7SUFDOUJqSCxpQkFBaUIsQ0FBQ21ILEtBQWxCLENBQXdCdkIsZUFBeEIsR0FBMENzQixlQUExQztJQUNBbEgsaUJBQWlCLENBQUNtSCxLQUFsQixDQUF3QnJCLGVBQXhCLEdBQTBDLE1BQTFDO0VBQ0QsQ0FIRCxNQUdPLElBQUltQixjQUFjLEtBQUssT0FBdkIsRUFBZ0M7SUFDckNqSCxpQkFBaUIsQ0FBQ21ILEtBQWxCLENBQXdCdkIsZUFBeEIsR0FBMEMsTUFBMUM7SUFDQTVGLGlCQUFpQixDQUFDbUgsS0FBbEIsQ0FBd0JyQixlQUF4QixHQUEyQyxPQUFNb0IsZUFBZ0IsR0FBakU7RUFDRCxDQUhNLE1BR0E7SUFDTGxILGlCQUFpQixDQUFDbUgsS0FBbEIsQ0FBd0J2QixlQUF4QixHQUEwQyxNQUExQztJQUNBNUYsaUJBQWlCLENBQUNtSCxLQUFsQixDQUF3QnJCLGVBQXhCLEdBQTJDLHFEQUEzQztFQUNEO0FBQ0Y7QUFDTSxTQUFTQywwQkFBVCxHQUFzQztFQUMzQy9GLGlCQUFpQixDQUFDbUgsS0FBbEIsQ0FBd0J2QixlQUF4QixHQUEwQyxNQUExQztFQUNBNUYsaUJBQWlCLENBQUNtSCxLQUFsQixDQUF3QnJCLGVBQXhCLEdBQTJDLHFEQUEzQztBQUNELEVBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL2Rldi1qYXZhc2NyaXB0cy9jaGF0L2pzL3Nob3dBY3RpdmVDaGF0U2VjdGlvbi5kZXYuanM/YmI3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgYWxsQ2hhdFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFsbENoYXRTZWN0aW9uXCIpXHJcbmxldCBhY3RpdmVDaGF0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdFNlY3Rpb25cIilcclxuY29uc3QgZW1wdHlDaGF0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW1wdHlDaGF0U2VjdGlvblwiKVxyXG5jb25zdCBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gIFwiYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXJcIlxyXG4pXHJcbmNvbnN0IGFjdGl2ZUNoYXRNZXNzYWdlTG9hZGluZ0JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gIFwiYWN0aXZlQ2hhdE1lc3NhZ2VMb2FkaW5nQm94XCJcclxuKVxyXG5cclxubGV0IHRvdGFsUmVjZWl2ZWRNZXNzYWdlc0NvdW50XHJcbmxldCB0b3RhbFVuc2Vlbk1lc3NhZ2VzQ291bnRcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNob3dBY3RpdmVDaGF0U2VjdGlvbihjaGF0KSB7XHJcbiAgaWYgKFxyXG4gICAgYWN0aXZlQ2hhdE1lc3NhZ2VMb2FkaW5nQm94LmNsYXNzTGlzdC5jb250YWlucyhcclxuICAgICAgXCJhY3RpdmUtY2hhdC1tZXNzYWdlLWxvYWRpbmctYm94LS1oaWRlXCJcclxuICAgIClcclxuICApXHJcbiAgICBhY3RpdmVDaGF0TWVzc2FnZUxvYWRpbmdCb3guY2xhc3NMaXN0LnJlbW92ZShcclxuICAgICAgXCJhY3RpdmUtY2hhdC1tZXNzYWdlLWxvYWRpbmctYm94LS1oaWRlXCJcclxuICAgIClcclxuXHJcbiAgbGV0IGFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50XCJcclxuICApXHJcbiAgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQudmFsdWUgPSBcIlwiXHJcbiAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIlxyXG4gIHVwZGF0ZUFjdGl2ZUNoYXRTZWN0aW9uKGNoYXQpXHJcblxyXG4gIHRvdGFsUmVjZWl2ZWRNZXNzYWdlc0NvdW50ID0gMFxyXG4gIGxldCB1bnNlZW5NZXNzYWdlc0NvdW50UmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgIGAvbWVzc2FnZS9kYXRhL3Vuc2Vlbi1tZXNzYWdlcy1jb3VudC8ke2NoYXQuX2lkfWBcclxuICApXHJcbiAgbGV0IHVuc2Vlbk1lc3NhZ2VzQ291bnREYXRhID0gYXdhaXQgdW5zZWVuTWVzc2FnZXNDb3VudFJlc3BvbnNlLmpzb24oKVxyXG4gIHRvdGFsVW5zZWVuTWVzc2FnZXNDb3VudCA9IHVuc2Vlbk1lc3NhZ2VzQ291bnREYXRhLnVuc2Vlbk1lc3NhZ2VzQ291bnRcclxuICBsZXQgeyBvcGVuQWN0aXZlQ2hhdElucHV0Qm94IH0gPSBhd2FpdCBpbXBvcnQoXCIuLi9jaGF0LmRldi5qc1wiKVxyXG4gIG9wZW5BY3RpdmVDaGF0SW5wdXRCb3goKVxyXG5cclxuICBpZiAoVVNFUl9NRVNTQUdFX0JPWF9PQlNFUlZFUiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBVU0VSX01FU1NBR0VfQk9YX09CU0VSVkVSLmRpc2Nvbm5lY3QoKVxyXG4gIH1cclxuICBpbml0aWFsaXplVXNlck1lc3NhZ2VCb3hPYnNlcnZlcigpXHJcbiAgaWYgKFRPUF9NRVNTQUdFX0JPWF9PQlNFUlZFUiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBUT1BfTUVTU0FHRV9CT1hfT0JTRVJWRVIuZGlzY29ubmVjdCgpXHJcbiAgfVxyXG4gIGluaXRpYWxpemVUb3BNZXNzYWdlQm94T2JzZXJ2ZXIoKVxyXG4gIGlmIChCT1RUT01fTUVTU0FHRV9CT1hfT0JTRVJWRVIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgQk9UVE9NX01FU1NBR0VfQk9YX09CU0VSVkVSLmRpc2Nvbm5lY3QoKVxyXG4gIH1cclxuICBpbml0aWFsaXplQm90dG9tTWVzc2FnZUJveE9ic2VydmVyKClcclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIGNvbnN0IHsgY2hlY2tUaW1lQW5kQ3JlYXRlT2xkTWVzc2FnZXMgfSA9IGF3YWl0IGltcG9ydChcIi4vbWVzc2FnZS5kZXZcIilcclxuXHJcbiAgZmV0Y2goYC9tZXNzYWdlL2ZldGNoLW1lc3NhZ2VzLyR7Y2hhdC5faWR9P3RvdGFsUmVjZWl2ZWRNZXNzYWdlc0NvdW50PTBgKVxyXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKVxyXG4gICAgfSlcclxuICAgIC50aGVuKGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBpZiAoZGF0YS5pc1N1Y2Nlc3MpIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAhYWN0aXZlQ2hhdE1lc3NhZ2VMb2FkaW5nQm94LmNsYXNzTGlzdC5jb250YWlucyhcclxuICAgICAgICAgICAgXCJhY3RpdmUtY2hhdC1tZXNzYWdlLWxvYWRpbmctYm94LS1oaWRlXCJcclxuICAgICAgICAgIClcclxuICAgICAgICApXHJcbiAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUxvYWRpbmdCb3guY2xhc3NMaXN0LmFkZChcclxuICAgICAgICAgICAgXCJhY3RpdmUtY2hhdC1tZXNzYWdlLWxvYWRpbmctYm94LS1oaWRlXCJcclxuICAgICAgICAgIClcclxuXHJcbiAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIlxyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcblxyXG4gICAgICAgIGlmIChkYXRhLmFsbE1lc3NhZ2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIHRvdGFsUmVjZWl2ZWRNZXNzYWdlc0NvdW50ICs9IGRhdGEuYWxsTWVzc2FnZXMubGVuZ3RoXHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRvdGFsVW5zZWVuTWVzc2FnZXNDb3VudCAhPT0gMCAmJlxyXG4gICAgICAgICAgICB0b3RhbFVuc2Vlbk1lc3NhZ2VzQ291bnQgPD0gdG90YWxSZWNlaXZlZE1lc3NhZ2VzQ291bnRcclxuICAgICAgICAgICkge1xyXG4gICAgICAgICAgICBsZXQgeyBjcmVhdGVVbnNlZW5NZXNzYWdlVGFnQm94IH0gPSBhd2FpdCBpbXBvcnQoXCIuL21lc3NhZ2UuZGV2XCIpXHJcblxyXG4gICAgICAgICAgICBsZXQgcG9zaXRpb25Gb3JVbnNlZWVuTWVzc2FnZVRhZyA9XHJcbiAgICAgICAgICAgICAgZGF0YS5hbGxNZXNzYWdlcy5sZW5ndGggLVxyXG4gICAgICAgICAgICAgICh0b3RhbFJlY2VpdmVkTWVzc2FnZXNDb3VudCAtIHRvdGFsVW5zZWVuTWVzc2FnZXNDb3VudClcclxuICAgICAgICAgICAgY2hlY2tUaW1lQW5kQ3JlYXRlT2xkTWVzc2FnZXMoXHJcbiAgICAgICAgICAgICAgZGF0YS5hbGxNZXNzYWdlcy5zbGljZSgwLCBwb3NpdGlvbkZvclVuc2VlZW5NZXNzYWdlVGFnKSxcclxuICAgICAgICAgICAgICBmYWxzZSxcclxuICAgICAgICAgICAgICB0cnVlXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgY3JlYXRlVW5zZWVuTWVzc2FnZVRhZ0JveCh0b3RhbFVuc2Vlbk1lc3NhZ2VzQ291bnQsIFwiYWZ0ZXJiZWdpblwiKVxyXG4gICAgICAgICAgICBjaGVja1RpbWVBbmRDcmVhdGVPbGRNZXNzYWdlcyhcclxuICAgICAgICAgICAgICBkYXRhLmFsbE1lc3NhZ2VzLnNsaWNlKHBvc2l0aW9uRm9yVW5zZWVlbk1lc3NhZ2VUYWcpLFxyXG4gICAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB0b3RhbFVuc2Vlbk1lc3NhZ2VzQ291bnQgPSAwXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjaGVja1RpbWVBbmRDcmVhdGVPbGRNZXNzYWdlcyhkYXRhLmFsbE1lc3NhZ2VzLCBmYWxzZSwgdHJ1ZSlcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkKVxyXG4gICAgICAgICAgICAgIFRPUF9NRVNTQUdFX0JPWF9PQlNFUlZFUi5vYnNlcnZlKFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGRcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICB9LCAyNTAwKVxyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5sYXN0RWxlbWVudENoaWxkKVxyXG4gICAgICAgICAgICAgIEJPVFRPTV9NRVNTQUdFX0JPWF9PQlNFUlZFUi5vYnNlcnZlKFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIubGFzdEVsZW1lbnRDaGlsZFxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgIH0sIDIwMDApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgeyBhZGp1c3RNZXNzYWdlQ29udGFpbmVyQm90dG9tUGFkZGluZyB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi9jaGF0LmRldlwiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIGFkanVzdE1lc3NhZ2VDb250YWluZXJCb3R0b21QYWRkaW5nKClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgeyBjcmVhdGVNYWluTm90aWZpY2F0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICBcIi4uLy4uL2NvbW1vbi9tYWluTm90aWZpY2F0aW9uLmRldlwiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oZGF0YS5lcnJvciwgXCJlcnJvclwiKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGFzeW5jIGVyciA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgbGV0IHsgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vY29tbW9uL21haW5Ob3RpZmljYXRpb24uZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBjcmVhdGVNYWluTm90aWZpY2F0aW9uKFxyXG4gICAgICAgIFwiU2VydmVyIEVycm9yIEluIEFjY2Vzc2luZyBNZXNzYWdlcywgUGxlYXNlIFJlZnJlc2ggWW91ciBQYWdlXCIsXHJcbiAgICAgICAgXCJlcnJvclwiXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gIGFsbENoYXRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJhbGwtY2hhdC1zZWN0aW9uLS1vcGVuLWFjdGl2ZS1jaGF0XCIpXHJcbiAgYWN0aXZlQ2hhdFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1jaGF0LXNlY3Rpb24tLWhpZGVcIilcclxuXHJcbiAgaWYgKCFlbXB0eUNoYXRTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcImVtcHR5LWNoYXQtc2VjdGlvbi0taGlkZVwiKSlcclxuICAgIGVtcHR5Q2hhdFNlY3Rpb24uY2xhc3NMaXN0LmFkZChcImVtcHR5LWNoYXQtc2VjdGlvbi0taGlkZVwiKVxyXG5cclxuICAvLyBhbGxDaGF0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKFwiYWxsLWNoYXQtc2VjdGlvbi0taGlkZVwiKVxyXG4gIC8vIGFjdGl2ZUNoYXRTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtY2hhdC1zZWN0aW9uLS1oaWRlXCIpXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRpYWxpemVVc2VyTWVzc2FnZUJveE9ic2VydmVyKCkge1xyXG4gIFVTRVJfTUVTU0FHRV9CT1hfT0JTRVJWRVIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXHJcbiAgICBhc3luYyAoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcclxuICAgICAgZW50cmllcy5mb3JFYWNoKGVudHJ5ID0+IHtcclxuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcgPT09IHRydWUpIHtcclxuICAgICAgICAgIGxldCBtZXNzYWdlSWQgPSBlbnRyeS50YXJnZXQuZGF0YXNldC5tZXNzYWdlSWRcclxuICAgICAgICAgIHNvY2tldC5lbWl0KFwiY2hhdDp1cGRhdGUtbWVzc2FnZS1zZWVuLXN0YXR1c1wiLCB7XHJcbiAgICAgICAgICAgIG1lc3NhZ2VJZDogbWVzc2FnZUlkXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGVudHJ5LnRhcmdldClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgeyB0aHJlc2hvbGQ6IDAuNSwgcm9vdDogYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIgfVxyXG4gIClcclxufVxyXG5mdW5jdGlvbiBpbml0aWFsaXplVG9wTWVzc2FnZUJveE9ic2VydmVyKCkge1xyXG4gIFRPUF9NRVNTQUdFX0JPWF9PQlNFUlZFUiA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcclxuICAgIGFzeW5jIChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xyXG4gICAgICBlbnRyaWVzLmZvckVhY2goYXN5bmMgZW50cnkgPT4ge1xyXG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGVudHJ5LnRhcmdldClcclxuICAgICAgICAgIGxldCBjaGF0SWQgPSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZFxyXG5cclxuICAgICAgICAgIGNvbnN0IHsgY3JlYXRlTG9hZGluZ01lc3NhZ2VzQW5pbWF0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICAgIFwiLi9tZXNzYWdlLmRldlwiXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgICBsZXQgbG9hZGluZ01lc3NhZ2VBbmltYXRpb25Cb3ggPSBjcmVhdGVMb2FkaW5nTWVzc2FnZXNBbmltYXRpb24oKVxyXG4gICAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFxyXG4gICAgICAgICAgICBcImFmdGVyYmVnaW5cIixcclxuICAgICAgICAgICAgbG9hZGluZ01lc3NhZ2VBbmltYXRpb25Cb3hcclxuICAgICAgICAgIClcclxuICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLnNjcm9sbFRvcCArPSAxNTBcclxuICAgICAgICAgIGF3YWl0IGZldGNoTWVzc2FnZUFuZENyZWF0ZVVzZXJNZXNzYWdlQm94KGNoYXRJZClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgeyB0aHJlc2hvbGQ6IDAuNSwgcm9vdDogYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIsIHJvb3RNYXJnaW46IFwiMTAwcHhcIiB9XHJcbiAgKVxyXG59XHJcbmZ1bmN0aW9uIGluaXRpYWxpemVCb3R0b21NZXNzYWdlQm94T2JzZXJ2ZXIoKSB7XHJcbiAgQk9UVE9NX01FU1NBR0VfQk9YX09CU0VSVkVSID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxyXG4gICAgYXN5bmMgKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XHJcbiAgICAgIGVudHJpZXMuZm9yRWFjaChhc3luYyBlbnRyeSA9PiB7XHJcbiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nID09PSB0cnVlKSB7XHJcbiAgICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoZW50cnkudGFyZ2V0KVxyXG4gICAgICAgICAgbGV0IGNoYXRJZCA9IGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkXHJcbiAgICAgICAgICBzb2NrZXQuZW1pdChcImNoYXQ6dXBkYXRlLWNoYXQtdW5zZWVuLW1lc3NhZ2VzXCIsIHtcclxuICAgICAgICAgICAgY2hhdElkOiBjaGF0SWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgfSxcclxuICAgIHsgdGhyZXNob2xkOiAwLjUsIHJvb3Q6IGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyIH1cclxuICApXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoTWVzc2FnZUFuZENyZWF0ZVVzZXJNZXNzYWdlQm94KGNoYXRJZCkge1xyXG4gIGNvbnN0IHsgY2hlY2tUaW1lQW5kQ3JlYXRlT2xkTWVzc2FnZXMgfSA9IGF3YWl0IGltcG9ydChcIi4vbWVzc2FnZS5kZXZcIilcclxuXHJcbiAgZmV0Y2goXHJcbiAgICBgL21lc3NhZ2UvZmV0Y2gtbWVzc2FnZXMvJHtjaGF0SWR9P3RvdGFsUmVjZWl2ZWRNZXNzYWdlc0NvdW50PSR7dG90YWxSZWNlaXZlZE1lc3NhZ2VzQ291bnR9YFxyXG4gIClcclxuICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZSlcclxuICAgIH0pXHJcbiAgICAudGhlbihhc3luYyBkYXRhID0+IHtcclxuICAgICAgaWYgKGRhdGEuaXNTdWNjZXNzKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuXHJcbiAgICAgICAgaWYgKGRhdGEuYWxsTWVzc2FnZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgdG90YWxSZWNlaXZlZE1lc3NhZ2VzQ291bnQgKz0gZGF0YS5hbGxNZXNzYWdlcy5sZW5ndGhcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgdG90YWxVbnNlZW5NZXNzYWdlc0NvdW50ICE9PSAwICYmXHJcbiAgICAgICAgICAgIHRvdGFsVW5zZWVuTWVzc2FnZXNDb3VudCA8PSB0b3RhbFJlY2VpdmVkTWVzc2FnZXNDb3VudFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGxldCB7IGNyZWF0ZVVuc2Vlbk1lc3NhZ2VUYWdCb3ggfSA9IGF3YWl0IGltcG9ydChcIi4vbWVzc2FnZS5kZXZcIilcclxuXHJcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbkZvclVuc2VlZW5NZXNzYWdlVGFnID1cclxuICAgICAgICAgICAgICBkYXRhLmFsbE1lc3NhZ2VzLmxlbmd0aCAtXHJcbiAgICAgICAgICAgICAgKHRvdGFsUmVjZWl2ZWRNZXNzYWdlc0NvdW50IC0gdG90YWxVbnNlZW5NZXNzYWdlc0NvdW50KVxyXG4gICAgICAgICAgICBjaGVja1RpbWVBbmRDcmVhdGVPbGRNZXNzYWdlcyhcclxuICAgICAgICAgICAgICBkYXRhLmFsbE1lc3NhZ2VzLnNsaWNlKDAsIHBvc2l0aW9uRm9yVW5zZWVlbk1lc3NhZ2VUYWcpLFxyXG4gICAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgY3JlYXRlVW5zZWVuTWVzc2FnZVRhZ0JveCh0b3RhbFVuc2Vlbk1lc3NhZ2VzQ291bnQsIFwiYWZ0ZXJiZWdpblwiKVxyXG4gICAgICAgICAgICBjaGVja1RpbWVBbmRDcmVhdGVPbGRNZXNzYWdlcyhcclxuICAgICAgICAgICAgICBkYXRhLmFsbE1lc3NhZ2VzLnNsaWNlKHBvc2l0aW9uRm9yVW5zZWVlbk1lc3NhZ2VUYWcpLFxyXG4gICAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgdG90YWxVbnNlZW5NZXNzYWdlc0NvdW50ID0gMFxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2hlY2tUaW1lQW5kQ3JlYXRlT2xkTWVzc2FnZXMoZGF0YS5hbGxNZXNzYWdlcywgZmFsc2UsIGZhbHNlKVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQpXHJcbiAgICAgICAgICAgICAgVE9QX01FU1NBR0VfQk9YX09CU0VSVkVSLm9ic2VydmUoXHJcbiAgICAgICAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZFxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgIH0sIDQwMDApXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxldCBsb2FkaW5nTWVzc2FnZUFuaW1hdGlvbkJveCA9IFtcclxuICAgICAgICAgICAgLi4uYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcclxuICAgICAgICAgICAgICBcImxvYWRpbmctbWVzc2FnZS1hbmltYXRpb24tYm94XCJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgXVxyXG4gICAgICAgICAgbG9hZGluZ01lc3NhZ2VBbmltYXRpb25Cb3guZm9yRWFjaChib3ggPT4ge1xyXG4gICAgICAgICAgICBib3gucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChib3gpXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsZXQgeyBjcmVhdGVNYWluTm90aWZpY2F0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICBcIi4uLy4uL2NvbW1vbi9tYWluTm90aWZpY2F0aW9uLmRldlwiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oZGF0YS5lcnJvciwgXCJlcnJvclwiKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGFzeW5jIGVyciA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgbGV0IHsgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vY29tbW9uL21haW5Ob3RpZmljYXRpb24uZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBjcmVhdGVNYWluTm90aWZpY2F0aW9uKFxyXG4gICAgICAgIFwiU2VydmVyIEVycm9yIEluIEFjY2Vzc2luZyBNZXNzYWdlcywgUGxlYXNlIFJlZnJlc2ggWW91ciBQYWdlXCIsXHJcbiAgICAgICAgXCJlcnJvclwiXHJcbiAgICAgIClcclxuICAgIH0pXHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5jcmVhc2VUb3RhbFJlY2VpdmVkTWVzc2FnZXNDb3VudCgpIHtcclxuICB0b3RhbFVuc2Vlbk1lc3NhZ2VzQ291bnQgPSAwXHJcbiAgdG90YWxSZWNlaXZlZE1lc3NhZ2VzQ291bnQrK1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlQWN0aXZlQ2hhdFNlY3Rpb24oY2hhdCkge1xyXG4gIGxldCB7IGNsb3NlUmVwbHlNZXNzYWdlQm94IH0gPSBhd2FpdCBpbXBvcnQoXCIuL3JlcGx5TWVzc2FnZUJveC5kZXYuanNcIilcclxuICBjbG9zZVJlcGx5TWVzc2FnZUJveCgpXHJcbiAgYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWQgPSBjaGF0Ll9pZFxyXG4gIGNvbnN0IGFjdGl2ZUNoYXRIZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRIZWFkZXJcIilcclxuICBjb25zdCBhY3RpdmVDaGF0SGVhZGVyUGljID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0SGVhZGVyUGljXCIpXHJcbiAgY29uc3QgYWN0aXZlQ2hhdEltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdEltZ1wiKVxyXG4gIGNvbnN0IGFjdGl2ZUNoYXRIZWFkZXJOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0SGVhZGVyTmFtZVwiKVxyXG4gIGNvbnN0IGFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiYWN0aXZlQ2hhdEhlYWRlclN0YXR1c1wiXHJcbiAgKVxyXG4gIGNvbnN0IGFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJhY3RpdmVDaGF0SW5wdXRDb250YWluZXJcIlxyXG4gIClcclxuXHJcbiAgYWN0aXZlQ2hhdEhlYWRlci5kYXRhc2V0LmNoYXRJZCA9IGNoYXQuX2lkXHJcblxyXG4gIC8vY2hhdCBiYWNrZ291bmRcclxuICBpZiAoY2hhdC5oYXNPd25Qcm9wZXJ0eShcImNoYXRDdXN0b21CYWNrZ3JvdW5kXCIpKSB7XHJcbiAgICBpZiAoY2hhdC5jaGF0Q3VzdG9tQmFja2dyb3VuZC5oYXNCYWNrZ3JvdW5kQ29sb3IpIHtcclxuICAgICAgY2hhbmdlQWN0aXZlQ2hhdEJhY2tncm91bmQoXHJcbiAgICAgICAgXCJjb2xvclwiLFxyXG4gICAgICAgIGNoYXQuY2hhdEN1c3RvbUJhY2tncm91bmQuYmFja2dyb3VuZENvbG9yXHJcbiAgICAgIClcclxuICAgIH0gZWxzZSBpZiAoY2hhdC5jaGF0Q3VzdG9tQmFja2dyb3VuZC5oYXNCYWNrZ3JvdW5kSW1hZ2UpIHtcclxuICAgICAgY2hhbmdlQWN0aXZlQ2hhdEJhY2tncm91bmQoXHJcbiAgICAgICAgXCJpbWFnZVwiLFxyXG4gICAgICAgIGNoYXQuY2hhdEN1c3RvbUJhY2tncm91bmQuYmFja2dyb3VuZEltYWdlXHJcbiAgICAgIClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlbW92ZUFjdGl2ZUNoYXRCYWNrZ3JvdW5kKClcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgcmVtb3ZlQWN0aXZlQ2hhdEJhY2tncm91bmQoKVxyXG4gIH1cclxuXHJcbiAgLy8vLy8vL1xyXG5cclxuICBpZiAoY2hhdC5oYXNPd25Qcm9wZXJ0eShcImNoYXRQaWNcIikgJiYgY2hhdC5jaGF0UGljICE9PSBcIlwiKSB7XHJcbiAgICBhY3RpdmVDaGF0SW1nLnNyYyA9IGNoYXQuY2hhdFBpY1xyXG4gICAgYWN0aXZlQ2hhdEhlYWRlclBpYy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLWNoYXQtaGVhZGVyX19waWMtLWhpZGUtc3ZnXCIpXHJcbiAgICBhY3RpdmVDaGF0SGVhZGVyUGljLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtY2hhdC1oZWFkZXJfX3BpYy0taGlkZS1pbWdcIilcclxuICB9IGVsc2Uge1xyXG4gICAgYWN0aXZlQ2hhdEhlYWRlclBpYy5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLWNoYXQtaGVhZGVyX19waWMtLWhpZGUtaW1nXCIpXHJcbiAgICBhY3RpdmVDaGF0SGVhZGVyUGljLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtY2hhdC1oZWFkZXJfX3BpYy0taGlkZS1zdmdcIilcclxuICB9XHJcbiAgYWN0aXZlQ2hhdEhlYWRlck5hbWUudGV4dENvbnRlbnQgPSBjaGF0LmNoYXROYW1lXHJcbiAgaWYgKCFjaGF0LmlzR3JvdXBDaGF0KSB7XHJcbiAgICBpZiAoY2hhdC5pc1VzZXJBY3RpdmUpIHtcclxuICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgIFwiYWN0aXZlLWNoYXQtaGVhZGVyX19jaGF0LXN0YXR1cy0taGlkZVwiXHJcbiAgICAgIClcclxuICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy50ZXh0Q29udGVudCA9IFwiQWN0aXZlXCJcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGxldCB7IHRpbWVEaWZmZXJlbmNlRnJvbU5vdyB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vY29tbW9uL2NhbGN1bGF0ZVRpbWVEaWZmZXJlbmNlLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgIFwiYWN0aXZlLWNoYXQtaGVhZGVyX19jaGF0LXN0YXR1cy0taGlkZVwiXHJcbiAgICAgIClcclxuICAgICAgaWYgKGNoYXQuaGFzT3duUHJvcGVydHkoXCJ1c2VyTGFzdEFjdGl2ZVwiKSkge1xyXG4gICAgICAgIGFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMudGV4dENvbnRlbnQgPSBgbGFzdCBhY3RpdmUgJHt0aW1lRGlmZmVyZW5jZUZyb21Ob3coXHJcbiAgICAgICAgICBjaGF0LnVzZXJMYXN0QWN0aXZlXHJcbiAgICAgICAgKX0gYWdvYFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMudGV4dENvbnRlbnQgPSBcIlwiXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICBcImFjdGl2ZS1jaGF0LWhlYWRlcl9fY2hhdC1zdGF0dXMtLWhpZGVcIlxyXG4gICAgKVxyXG4gICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy50ZXh0Q29udGVudCA9IFwiXCJcclxuICB9XHJcblxyXG4gIG9uT2ZmQWN0aXZlQ2hhdElucHV0Q29udGFpbmVyKGNoYXQpXHJcblxyXG4gIGlmIChjaGF0Lmhhc093blByb3BlcnR5KFwiaXNPbkNhbGxcIikgJiYgY2hhdC5pc09uQ2FsbCA9PT0gdHJ1ZSkge1xyXG4gICAgb3BlbkFjdGl2ZUNoYXRDYWxsUm9vbUJveChjaGF0LmNhbGxSb29tSWQpXHJcbiAgfSBlbHNlIHtcclxuICAgIGNsb3NlQWN0aXZlQ2hhdENhbGxSb29tQm94KClcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGVhckFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyKCkge1xyXG4gIGxldCBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lclwiXHJcbiAgKVxyXG4gIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCJcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG9uT2ZmQWN0aXZlQ2hhdElucHV0Q29udGFpbmVyKGNoYXQpIHtcclxuICBjb25zdCBhY3RpdmVDaGF0SW5wdXRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiYWN0aXZlQ2hhdElucHV0Q29udGFpbmVyXCJcclxuICApXHJcbiAgaWYgKFxyXG4gICAgY2hhdC5oYXNPd25Qcm9wZXJ0eShcImNhblNlbmRNZXNzYWdlVG9UaGlzQ2hhdFwiKSAmJlxyXG4gICAgY2hhdC5jYW5TZW5kTWVzc2FnZVRvVGhpc0NoYXQgPT09IGZhbHNlXHJcbiAgKSB7XHJcbiAgICBhY3RpdmVDaGF0SW5wdXRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcclxuICAgICAgXCJhY3RpdmUtY2hhdC1pbnB1dC1jb250YWluZXItLWRpc2FibGVcIlxyXG4gICAgKVxyXG4gICAgYWN0aXZlQ2hhdElucHV0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgIFwiYWN0aXZlLWNoYXQtaW5wdXQtY29udGFpbmVyLS1lbmFibGVcIlxyXG4gICAgKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBhY3RpdmVDaGF0SW5wdXRDb250YWluZXIuY2xhc3NMaXN0LmFkZChcclxuICAgICAgXCJhY3RpdmUtY2hhdC1pbnB1dC1jb250YWluZXItLWVuYWJsZVwiXHJcbiAgICApXHJcbiAgICBhY3RpdmVDaGF0SW5wdXRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcclxuICAgICAgXCJhY3RpdmUtY2hhdC1pbnB1dC1jb250YWluZXItLWRpc2FibGVcIlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5BY3RpdmVDaGF0Q2FsbFJvb21Cb3goY2FsbFJvb21JZCkge1xyXG4gIGxldCBhY3RpdmVDaGF0Q2FsbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdENhbGxCdG5cIilcclxuICBsZXQgYWN0aXZlQ2hhdENhbGxSb29tQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0Q2FsbFJvb21Cb3hcIilcclxuXHJcbiAgd2hpbGUgKGFjdGl2ZUNoYXRDYWxsUm9vbUJveC5jbGFzc0xpc3QuY29udGFpbnMoXCJjaGF0LWNhbGwtcm9vbS1ib3gtLWhpZGVcIikpXHJcbiAgICBhY3RpdmVDaGF0Q2FsbFJvb21Cb3guY2xhc3NMaXN0LnJlbW92ZShcImNoYXQtY2FsbC1yb29tLWJveC0taGlkZVwiKVxyXG4gIGFjdGl2ZUNoYXRDYWxsQnRuLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtY2hhdC1oZWFkZXJfX2J0bi0taGlkZVwiKVxyXG5cclxuICBhY3RpdmVDaGF0Q2FsbFJvb21Cb3guZGF0YXNldC5jYWxsUm9vbUlkID0gY2FsbFJvb21JZFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xvc2VBY3RpdmVDaGF0Q2FsbFJvb21Cb3goKSB7XHJcbiAgbGV0IGFjdGl2ZUNoYXRDYWxsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0Q2FsbEJ0blwiKVxyXG4gIGxldCBhY3RpdmVDaGF0Q2FsbFJvb21Cb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRDYWxsUm9vbUJveFwiKVxyXG5cclxuICB3aGlsZSAoYWN0aXZlQ2hhdENhbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlLWNoYXQtaGVhZGVyX19idG4tLWhpZGVcIikpXHJcbiAgICBhY3RpdmVDaGF0Q2FsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLWNoYXQtaGVhZGVyX19idG4tLWhpZGVcIilcclxuICBhY3RpdmVDaGF0Q2FsbFJvb21Cb3guY2xhc3NMaXN0LmFkZChcImNoYXQtY2FsbC1yb29tLWJveC0taGlkZVwiKVxyXG5cclxuICBhY3RpdmVDaGF0Q2FsbFJvb21Cb3guZGF0YXNldC5jYWxsUm9vbUlkID0gXCJcIlxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlQWN0aXZlQ2hhdEJhY2tncm91bmQoYmFja2dyb3VuZFR5cGUsIGJhY2tncm91bmRWYWx1ZSkge1xyXG4gIGlmIChiYWNrZ3JvdW5kVHlwZSA9PT0gXCJjb2xvclwiKSB7XHJcbiAgICBhY3RpdmVDaGF0U2VjdGlvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kVmFsdWVcclxuICAgIGFjdGl2ZUNoYXRTZWN0aW9uLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IFwibm9uZVwiXHJcbiAgfSBlbHNlIGlmIChiYWNrZ3JvdW5kVHlwZSA9PT0gXCJpbWFnZVwiKSB7XHJcbiAgICBhY3RpdmVDaGF0U2VjdGlvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNlZWVcIlxyXG4gICAgYWN0aXZlQ2hhdFNlY3Rpb24uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke2JhY2tncm91bmRWYWx1ZX0pYFxyXG4gIH0gZWxzZSB7XHJcbiAgICBhY3RpdmVDaGF0U2VjdGlvbi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNlZWVcIlxyXG4gICAgYWN0aXZlQ2hhdFNlY3Rpb24uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnLi4vLi4vYXNzZXRzL2ltYWdlcy9hY3RpdmVDaGF0QmFja2dyb3VuZC5qcGcnKWBcclxuICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUFjdGl2ZUNoYXRCYWNrZ3JvdW5kKCkge1xyXG4gIGFjdGl2ZUNoYXRTZWN0aW9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2VlZVwiXHJcbiAgYWN0aXZlQ2hhdFNlY3Rpb24uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgnLi4vLi4vYXNzZXRzL2ltYWdlcy9hY3RpdmVDaGF0QmFja2dyb3VuZC5qcGcnKWBcclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuIl0sIm5hbWVzIjpbImFsbENoYXRTZWN0aW9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFjdGl2ZUNoYXRTZWN0aW9uIiwiZW1wdHlDaGF0U2VjdGlvbiIsImFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyIiwiYWN0aXZlQ2hhdE1lc3NhZ2VMb2FkaW5nQm94IiwidG90YWxSZWNlaXZlZE1lc3NhZ2VzQ291bnQiLCJ0b3RhbFVuc2Vlbk1lc3NhZ2VzQ291bnQiLCJzaG93QWN0aXZlQ2hhdFNlY3Rpb24iLCJjaGF0IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJyZW1vdmUiLCJhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudCIsInZhbHVlIiwiaW5uZXJIVE1MIiwidXBkYXRlQWN0aXZlQ2hhdFNlY3Rpb24iLCJ1bnNlZW5NZXNzYWdlc0NvdW50UmVzcG9uc2UiLCJmZXRjaCIsIl9pZCIsInVuc2Vlbk1lc3NhZ2VzQ291bnREYXRhIiwianNvbiIsInVuc2Vlbk1lc3NhZ2VzQ291bnQiLCJvcGVuQWN0aXZlQ2hhdElucHV0Qm94IiwiVVNFUl9NRVNTQUdFX0JPWF9PQlNFUlZFUiIsInVuZGVmaW5lZCIsImRpc2Nvbm5lY3QiLCJpbml0aWFsaXplVXNlck1lc3NhZ2VCb3hPYnNlcnZlciIsIlRPUF9NRVNTQUdFX0JPWF9PQlNFUlZFUiIsImluaXRpYWxpemVUb3BNZXNzYWdlQm94T2JzZXJ2ZXIiLCJCT1RUT01fTUVTU0FHRV9CT1hfT0JTRVJWRVIiLCJpbml0aWFsaXplQm90dG9tTWVzc2FnZUJveE9ic2VydmVyIiwiY2hlY2tUaW1lQW5kQ3JlYXRlT2xkTWVzc2FnZXMiLCJ0aGVuIiwicmVzcG9uc2UiLCJvayIsIlByb21pc2UiLCJyZWplY3QiLCJkYXRhIiwiaXNTdWNjZXNzIiwiYWRkIiwiY29uc29sZSIsImxvZyIsImFsbE1lc3NhZ2VzIiwibGVuZ3RoIiwiY3JlYXRlVW5zZWVuTWVzc2FnZVRhZ0JveCIsInBvc2l0aW9uRm9yVW5zZWVlbk1lc3NhZ2VUYWciLCJzbGljZSIsInNldFRpbWVvdXQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIm9ic2VydmUiLCJsYXN0RWxlbWVudENoaWxkIiwiYWRqdXN0TWVzc2FnZUNvbnRhaW5lckJvdHRvbVBhZGRpbmciLCJjcmVhdGVNYWluTm90aWZpY2F0aW9uIiwiZXJyb3IiLCJjYXRjaCIsImVyciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsIm9ic2VydmVyIiwiZm9yRWFjaCIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJtZXNzYWdlSWQiLCJ0YXJnZXQiLCJkYXRhc2V0Iiwic29ja2V0IiwiZW1pdCIsInVub2JzZXJ2ZSIsInRocmVzaG9sZCIsInJvb3QiLCJjaGF0SWQiLCJjcmVhdGVMb2FkaW5nTWVzc2FnZXNBbmltYXRpb24iLCJsb2FkaW5nTWVzc2FnZUFuaW1hdGlvbkJveCIsImluc2VydEFkamFjZW50RWxlbWVudCIsInNjcm9sbFRvcCIsImZldGNoTWVzc2FnZUFuZENyZWF0ZVVzZXJNZXNzYWdlQm94Iiwicm9vdE1hcmdpbiIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJib3giLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJpbmNyZWFzZVRvdGFsUmVjZWl2ZWRNZXNzYWdlc0NvdW50IiwiY2xvc2VSZXBseU1lc3NhZ2VCb3giLCJhY3RpdmVDaGF0SGVhZGVyIiwiYWN0aXZlQ2hhdEhlYWRlclBpYyIsImFjdGl2ZUNoYXRJbWciLCJhY3RpdmVDaGF0SGVhZGVyTmFtZSIsImFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMiLCJhY3RpdmVDaGF0SW5wdXRDb250YWluZXIiLCJoYXNPd25Qcm9wZXJ0eSIsImNoYXRDdXN0b21CYWNrZ3JvdW5kIiwiaGFzQmFja2dyb3VuZENvbG9yIiwiY2hhbmdlQWN0aXZlQ2hhdEJhY2tncm91bmQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJoYXNCYWNrZ3JvdW5kSW1hZ2UiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJyZW1vdmVBY3RpdmVDaGF0QmFja2dyb3VuZCIsImNoYXRQaWMiLCJzcmMiLCJ0ZXh0Q29udGVudCIsImNoYXROYW1lIiwiaXNHcm91cENoYXQiLCJpc1VzZXJBY3RpdmUiLCJ0aW1lRGlmZmVyZW5jZUZyb21Ob3ciLCJ1c2VyTGFzdEFjdGl2ZSIsIm9uT2ZmQWN0aXZlQ2hhdElucHV0Q29udGFpbmVyIiwiaXNPbkNhbGwiLCJvcGVuQWN0aXZlQ2hhdENhbGxSb29tQm94IiwiY2FsbFJvb21JZCIsImNsb3NlQWN0aXZlQ2hhdENhbGxSb29tQm94IiwiY2xlYXJBY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciIsImNhblNlbmRNZXNzYWdlVG9UaGlzQ2hhdCIsImFjdGl2ZUNoYXRDYWxsQnRuIiwiYWN0aXZlQ2hhdENhbGxSb29tQm94IiwiYmFja2dyb3VuZFR5cGUiLCJiYWNrZ3JvdW5kVmFsdWUiLCJzdHlsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./dev-javascripts/chat/js/showActiveChatSection.dev.js\n");

/***/ })

}]);