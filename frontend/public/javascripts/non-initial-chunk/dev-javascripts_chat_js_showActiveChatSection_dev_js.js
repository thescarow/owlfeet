"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_chat_js_showActiveChatSection_dev_js"],{

/***/ "./dev-javascripts/chat/js/showActiveChatSection.dev.js":
/*!**************************************************************!*\
  !*** ./dev-javascripts/chat/js/showActiveChatSection.dev.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"changeActiveChatBackground\": () => (/* binding */ changeActiveChatBackground),\n/* harmony export */   \"clearActiveChatMessageContainer\": () => (/* binding */ clearActiveChatMessageContainer),\n/* harmony export */   \"closeActiveChatCallRoomBox\": () => (/* binding */ closeActiveChatCallRoomBox),\n/* harmony export */   \"increaseTotalReceivedMessagesCount\": () => (/* binding */ increaseTotalReceivedMessagesCount),\n/* harmony export */   \"onOffActiveChatInputContainer\": () => (/* binding */ onOffActiveChatInputContainer),\n/* harmony export */   \"openActiveChatCallRoomBox\": () => (/* binding */ openActiveChatCallRoomBox),\n/* harmony export */   \"removeActiveChatBackground\": () => (/* binding */ removeActiveChatBackground),\n/* harmony export */   \"showActiveChatSection\": () => (/* binding */ showActiveChatSection),\n/* harmony export */   \"updateActiveChatSection\": () => (/* binding */ updateActiveChatSection)\n/* harmony export */ });\nlet allChatSection = document.getElementById(\"allChatSection\");\nlet activeChatSection = document.getElementById(\"activeChatSection\");\nconst emptyChatSection = document.getElementById(\"emptyChatSection\");\nconst activeChatMessageContainer = document.getElementById(\"activeChatMessageContainer\");\nconst activeChatMessageLoadingBox = document.getElementById(\"activeChatMessageLoadingBox\");\nconst activeChatInnerModal = document.getElementById(\"activeChatInnerModal\");\nlet totalReceivedMessagesCount;\nlet totalUnseenMessagesCount;\nasync function showActiveChatSection(chat) {\n  if (!activeChatInnerModal.classList.contains(\"hide\")) activeChatInnerModal.classList.add(\"hide\");\n  const activeChatInfoModal = document.getElementById(\"activeChatInfoModal\");\n  if (activeChatInfoModal) if (!activeChatInfoModal.classList.contains(\"hide\")) activeChatInfoModal.classList.add(\"hide\");\n  if (activeChatMessageLoadingBox.classList.contains(\"active-chat-message-loading-box--hide\")) activeChatMessageLoadingBox.classList.remove(\"active-chat-message-loading-box--hide\");\n  let activeChatInputTextContent = document.getElementById(\"activeChatInputTextContent\");\n  activeChatInputTextContent.value = \"\";\n  activeChatMessageContainer.innerHTML = \"\";\n  updateActiveChatSection(chat);\n  totalReceivedMessagesCount = 0;\n  let unseenMessagesCountResponse = await fetch(`/message/data/unseen-messages-count/${chat._id}`);\n  let unseenMessagesCountData = await unseenMessagesCountResponse.json();\n  totalUnseenMessagesCount = unseenMessagesCountData.unseenMessagesCount;\n  let {\n    openActiveChatInputBox\n  } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_chat_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../chat.dev.js */ \"./dev-javascripts/chat/chat.dev.js\"));\n  openActiveChatInputBox();\n\n  if (USER_MESSAGE_BOX_OBSERVER !== undefined) {\n    USER_MESSAGE_BOX_OBSERVER.disconnect();\n  }\n\n  initializeUserMessageBoxObserver();\n\n  if (TOP_MESSAGE_BOX_OBSERVER !== undefined) {\n    TOP_MESSAGE_BOX_OBSERVER.disconnect();\n  }\n\n  initializeTopMessageBoxObserver();\n\n  if (BOTTOM_MESSAGE_BOX_OBSERVER !== undefined) {\n    BOTTOM_MESSAGE_BOX_OBSERVER.disconnect();\n  }\n\n  initializeBottomMessageBoxObserver(); ///////////////////\n\n  const {\n    checkTimeAndCreateOldMessages\n  } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n  fetch(`/message/fetch-messages/${chat._id}?totalReceivedMessagesCount=0`).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(response);\n  }).then(async data => {\n    if (data.isSuccess) {\n      if (!activeChatMessageLoadingBox.classList.contains(\"active-chat-message-loading-box--hide\")) activeChatMessageLoadingBox.classList.add(\"active-chat-message-loading-box--hide\");\n      activeChatMessageContainer.innerHTML = \"\";\n      console.log(data);\n\n      if (data.allMessages.length > 0) {\n        totalReceivedMessagesCount += data.allMessages.length;\n\n        if (totalUnseenMessagesCount !== 0 && totalUnseenMessagesCount <= totalReceivedMessagesCount) {\n          let {\n            createUnseenMessageTagBox\n          } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n          let positionForUnseeenMessageTag = data.allMessages.length - (totalReceivedMessagesCount - totalUnseenMessagesCount);\n          checkTimeAndCreateOldMessages(data.allMessages.slice(0, positionForUnseeenMessageTag), false, true);\n          createUnseenMessageTagBox(totalUnseenMessagesCount, \"afterbegin\");\n          checkTimeAndCreateOldMessages(data.allMessages.slice(positionForUnseeenMessageTag), false, true);\n          totalUnseenMessagesCount = 0;\n        } else {\n          checkTimeAndCreateOldMessages(data.allMessages, false, true);\n        }\n\n        setTimeout(() => {\n          if (activeChatMessageContainer.firstElementChild) TOP_MESSAGE_BOX_OBSERVER.observe(activeChatMessageContainer.firstElementChild);\n        }, 2500);\n        setTimeout(() => {\n          if (activeChatMessageContainer.lastElementChild) BOTTOM_MESSAGE_BOX_OBSERVER.observe(activeChatMessageContainer.lastElementChild);\n        }, 2000);\n      }\n\n      let {\n        adjustMessageContainerBottomPadding\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_chat_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../chat.dev */ \"./dev-javascripts/chat/chat.dev.js\"));\n      adjustMessageContainerBottomPadding();\n    } else {\n      let {\n        createMainNotification\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_common_mainNotification_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n      createMainNotification(data.error, \"error\");\n    }\n  }).catch(async err => {\n    console.log(err);\n    let {\n      createMainNotification\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_common_mainNotification_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n    createMainNotification(\"Server Error In Accessing Messages, Please Refresh Your Page\", \"error\");\n  });\n  allChatSection.classList.add(\"all-chat-section--open-active-chat\");\n  activeChatSection.classList.remove(\"active-chat-section--hide\");\n  if (!emptyChatSection.classList.contains(\"empty-chat-section--hide\")) emptyChatSection.classList.add(\"empty-chat-section--hide\"); // allChatSection.classList.add(\"all-chat-section--hide\")\n  // activeChatSection.classList.remove(\"active-chat-section--hide\")\n}\n\nfunction initializeUserMessageBoxObserver() {\n  USER_MESSAGE_BOX_OBSERVER = new IntersectionObserver(async (entries, observer) => {\n    entries.forEach(entry => {\n      if (entry.isIntersecting === true) {\n        let messageId = entry.target.dataset.messageId;\n        socket.emit(\"chat:update-message-seen-status\", {\n          messageId: messageId\n        });\n        observer.unobserve(entry.target);\n      }\n    });\n  }, {\n    threshold: 0.5,\n    root: activeChatMessageContainer\n  });\n}\n\nfunction initializeTopMessageBoxObserver() {\n  TOP_MESSAGE_BOX_OBSERVER = new IntersectionObserver(async (entries, observer) => {\n    entries.forEach(async entry => {\n      if (entry.isIntersecting === true) {\n        observer.unobserve(entry.target);\n        let chatId = activeChatSection.dataset.chatId;\n        const {\n          createLoadingMessagesAnimation\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        let loadingMessageAnimationBox = createLoadingMessagesAnimation();\n        activeChatMessageContainer.insertAdjacentElement(\"afterbegin\", loadingMessageAnimationBox);\n        activeChatMessageContainer.scrollTop += 150;\n        await fetchMessageAndCreateUserMessageBox(chatId);\n      }\n    });\n  }, {\n    threshold: 0.5,\n    root: activeChatMessageContainer,\n    rootMargin: \"100px\"\n  });\n}\n\nfunction initializeBottomMessageBoxObserver() {\n  BOTTOM_MESSAGE_BOX_OBSERVER = new IntersectionObserver(async (entries, observer) => {\n    entries.forEach(async entry => {\n      if (entry.isIntersecting === true) {\n        observer.unobserve(entry.target);\n        let chatId = activeChatSection.dataset.chatId;\n        socket.emit(\"chat:update-chat-unseen-messages\", {\n          chatId: chatId\n        });\n      }\n    });\n  }, {\n    threshold: 0.5,\n    root: activeChatMessageContainer\n  });\n}\n\nasync function fetchMessageAndCreateUserMessageBox(chatId) {\n  const {\n    checkTimeAndCreateOldMessages\n  } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n  fetch(`/message/fetch-messages/${chatId}?totalReceivedMessagesCount=${totalReceivedMessagesCount}`).then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(response);\n  }).then(async data => {\n    if (data.isSuccess) {\n      console.log(data);\n\n      if (data.allMessages.length > 0) {\n        totalReceivedMessagesCount += data.allMessages.length;\n\n        if (totalUnseenMessagesCount !== 0 && totalUnseenMessagesCount <= totalReceivedMessagesCount) {\n          let {\n            createUnseenMessageTagBox\n          } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n          let positionForUnseeenMessageTag = data.allMessages.length - (totalReceivedMessagesCount - totalUnseenMessagesCount);\n          checkTimeAndCreateOldMessages(data.allMessages.slice(0, positionForUnseeenMessageTag), false, false);\n          createUnseenMessageTagBox(totalUnseenMessagesCount, \"afterbegin\");\n          checkTimeAndCreateOldMessages(data.allMessages.slice(positionForUnseeenMessageTag), false, false);\n          totalUnseenMessagesCount = 0;\n        } else {\n          checkTimeAndCreateOldMessages(data.allMessages, false, false);\n        }\n\n        setTimeout(() => {\n          if (activeChatMessageContainer.firstElementChild) TOP_MESSAGE_BOX_OBSERVER.observe(activeChatMessageContainer.firstElementChild);\n        }, 4000);\n      } else {\n        let loadingMessageAnimationBox = [...activeChatMessageContainer.getElementsByClassName(\"loading-message-animation-box\")];\n        loadingMessageAnimationBox.forEach(box => {\n          box.parentNode.removeChild(box);\n        });\n      }\n    } else {\n      let {\n        createMainNotification\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_common_mainNotification_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n      createMainNotification(data.error, \"error\");\n    }\n  }).catch(async err => {\n    console.log(err);\n    let {\n      createMainNotification\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_common_mainNotification_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n    createMainNotification(\"Server Error In Accessing Messages, Please Refresh Your Page\", \"error\");\n  });\n} //////////////////////////\n\n\nfunction increaseTotalReceivedMessagesCount() {\n  totalUnseenMessagesCount = 0;\n  totalReceivedMessagesCount++;\n} /////////////////\n\nasync function updateActiveChatSection(chat) {\n  let {\n    closeReplyMessageBox\n  } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_replyMessageBox_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./replyMessageBox.dev.js */ \"./dev-javascripts/chat/js/replyMessageBox.dev.js\"));\n  closeReplyMessageBox();\n  activeChatSection.dataset.chatId = chat._id;\n  const activeChatHeader = document.getElementById(\"activeChatHeader\");\n  const activeChatHeaderPic = document.getElementById(\"activeChatHeaderPic\");\n  const activeChatImg = document.getElementById(\"activeChatImg\");\n  const activeChatHeaderName = document.getElementById(\"activeChatHeaderName\");\n  const activeChatHeaderStatus = document.getElementById(\"activeChatHeaderStatus\");\n  const activeChatInputContainer = document.getElementById(\"activeChatInputContainer\");\n  activeChatHeader.dataset.chatId = chat._id; //chat backgound\n\n  if (chat.hasOwnProperty(\"chatCustomBackground\")) {\n    if (chat.chatCustomBackground.hasBackgroundColor) {\n      changeActiveChatBackground(\"color\", chat.chatCustomBackground.backgroundColor);\n    } else if (chat.chatCustomBackground.hasBackgroundImage) {\n      changeActiveChatBackground(\"image\", chat.chatCustomBackground.backgroundImage);\n    } else {\n      removeActiveChatBackground();\n    }\n  } else {\n    removeActiveChatBackground();\n  } ///////\n\n\n  if (chat.hasOwnProperty(\"chatPic\") && chat.chatPic !== \"\") {\n    activeChatImg.src = chat.chatPic;\n    activeChatHeaderPic.classList.add(\"active-chat-header__pic--hide-svg\");\n    activeChatHeaderPic.classList.remove(\"active-chat-header__pic--hide-img\");\n  } else {\n    activeChatHeaderPic.classList.add(\"active-chat-header__pic--hide-img\");\n    activeChatHeaderPic.classList.remove(\"active-chat-header__pic--hide-svg\");\n  }\n\n  activeChatHeaderName.textContent = chat.chatName;\n\n  if (!chat.isGroupChat) {\n    if (chat.isUserActive) {\n      activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n      activeChatHeaderStatus.textContent = \"Active\";\n    } else {\n      let {\n        timeDifferenceFromNow\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_common_calculateTimeDifference_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../common/calculateTimeDifference.dev */ \"./dev-javascripts/common/calculateTimeDifference.dev.js\"));\n      activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n\n      if (chat.hasOwnProperty(\"userLastActive\")) {\n        activeChatHeaderStatus.textContent = `last active ${timeDifferenceFromNow(chat.userLastActive)} ago`;\n      } else {\n        activeChatHeaderStatus.textContent = \"\";\n      }\n    }\n  } else {\n    activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n    activeChatHeaderStatus.textContent = \"\";\n  }\n\n  onOffActiveChatInputContainer(chat);\n\n  if (chat.hasOwnProperty(\"isOnCall\") && chat.isOnCall === true) {\n    openActiveChatCallRoomBox(chat.callRoomId);\n  } else {\n    closeActiveChatCallRoomBox();\n  }\n}\nasync function clearActiveChatMessageContainer() {\n  let activeChatMessageContainer = document.getElementById(\"activeChatMessageContainer\");\n  activeChatMessageContainer.innerHTML = \"\";\n}\nasync function onOffActiveChatInputContainer(chat) {\n  const activeChatInputContainer = document.getElementById(\"activeChatInputContainer\");\n\n  if (chat.hasOwnProperty(\"canSendMessageToThisChat\") && chat.canSendMessageToThisChat === false) {\n    activeChatInputContainer.classList.add(\"active-chat-input-container--disable\");\n    activeChatInputContainer.classList.remove(\"active-chat-input-container--enable\");\n  } else {\n    activeChatInputContainer.classList.add(\"active-chat-input-container--enable\");\n    activeChatInputContainer.classList.remove(\"active-chat-input-container--disable\");\n  }\n}\nfunction openActiveChatCallRoomBox(callRoomId) {\n  let activeChatCallBtn = document.getElementById(\"activeChatCallBtn\");\n  let activeChatCallRoomBox = document.getElementById(\"activeChatCallRoomBox\");\n\n  while (activeChatCallRoomBox.classList.contains(\"chat-call-room-box--hide\")) activeChatCallRoomBox.classList.remove(\"chat-call-room-box--hide\");\n\n  activeChatCallBtn.classList.add(\"active-chat-header__btn--hide\");\n  activeChatCallRoomBox.dataset.callRoomId = callRoomId;\n}\nfunction closeActiveChatCallRoomBox() {\n  let activeChatCallBtn = document.getElementById(\"activeChatCallBtn\");\n  let activeChatCallRoomBox = document.getElementById(\"activeChatCallRoomBox\");\n\n  while (activeChatCallBtn.classList.contains(\"active-chat-header__btn--hide\")) activeChatCallBtn.classList.remove(\"active-chat-header__btn--hide\");\n\n  activeChatCallRoomBox.classList.add(\"chat-call-room-box--hide\");\n  activeChatCallRoomBox.dataset.callRoomId = \"\";\n}\nfunction changeActiveChatBackground(backgroundType, backgroundValue) {\n  if (backgroundType === \"color\") {\n    activeChatSection.style.backgroundColor = backgroundValue;\n    activeChatSection.style.backgroundImage = \"none\";\n  } else if (backgroundType === \"image\") {\n    activeChatSection.style.backgroundColor = \"#eee\";\n    activeChatSection.style.backgroundImage = `url(${backgroundValue})`;\n  } else {\n    activeChatSection.style.backgroundColor = \"#eee\";\n    activeChatSection.style.backgroundImage = `url('../../assets/images/activeChatBackground.jpg')`;\n  }\n}\nfunction removeActiveChatBackground() {\n  activeChatSection.style.backgroundColor = \"#eee\";\n  activeChatSection.style.backgroundImage = `url('../../assets/images/activeChatBackground.jpg')`;\n} /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYtamF2YXNjcmlwdHMvY2hhdC9qcy9zaG93QWN0aXZlQ2hhdFNlY3Rpb24uZGV2LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLGNBQWMsR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCLGdCQUF4QixDQUFyQjtBQUNBLElBQUlDLGlCQUFpQixHQUFHRixRQUFRLENBQUNDLGNBQVQsQ0FBd0IsbUJBQXhCLENBQXhCO0FBQ0EsTUFBTUUsZ0JBQWdCLEdBQUdILFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixrQkFBeEIsQ0FBekI7QUFDQSxNQUFNRywwQkFBMEIsR0FBR0osUUFBUSxDQUFDQyxjQUFULENBQ2pDLDRCQURpQyxDQUFuQztBQUdBLE1BQU1JLDJCQUEyQixHQUFHTCxRQUFRLENBQUNDLGNBQVQsQ0FDbEMsNkJBRGtDLENBQXBDO0FBR0EsTUFBTUssb0JBQW9CLEdBQUdOLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixzQkFBeEIsQ0FBN0I7QUFFQSxJQUFJTSwwQkFBSjtBQUNBLElBQUlDLHdCQUFKO0FBQ08sZUFBZUMscUJBQWYsQ0FBcUNDLElBQXJDLEVBQTJDO0VBQ2hELElBQUksQ0FBQ0osb0JBQW9CLENBQUNLLFNBQXJCLENBQStCQyxRQUEvQixDQUF3QyxNQUF4QyxDQUFMLEVBQ0VOLG9CQUFvQixDQUFDSyxTQUFyQixDQUErQkUsR0FBL0IsQ0FBbUMsTUFBbkM7RUFFRixNQUFNQyxtQkFBbUIsR0FBR2QsUUFBUSxDQUFDQyxjQUFULENBQXdCLHFCQUF4QixDQUE1QjtFQUNBLElBQUlhLG1CQUFKLEVBQ0UsSUFBSSxDQUFDQSxtQkFBbUIsQ0FBQ0gsU0FBcEIsQ0FBOEJDLFFBQTlCLENBQXVDLE1BQXZDLENBQUwsRUFDRUUsbUJBQW1CLENBQUNILFNBQXBCLENBQThCRSxHQUE5QixDQUFrQyxNQUFsQztFQUVKLElBQ0VSLDJCQUEyQixDQUFDTSxTQUE1QixDQUFzQ0MsUUFBdEMsQ0FDRSx1Q0FERixDQURGLEVBS0VQLDJC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QXdCdkIsZUFBeEIsR0FBMEMsTUFBMUM7SUFDQTlGLGlCQUFpQixDQUFDcUgsS0FBbEIsQ0FBd0JyQixlQUF4QixHQUEyQyxxREFBM0M7RUFDRDtBQUNGO0FBQ00sU0FBU0MsMEJBQVQsR0FBc0M7RUFDM0NqRyxpQkFBaUIsQ0FBQ3FILEtBQWxCLENBQXdCdkIsZUFBeEIsR0FBMEMsTUFBMUM7RUFDQTlGLGlCQUFpQixDQUFDcUgsS0FBbEIsQ0FBd0JyQixlQUF4QixHQUEyQyxxREFBM0M7QUFDRCxFQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZnJvbnRlbmQvLi9kZXYtamF2YXNjcmlwdHMvY2hhdC9qcy9zaG93QWN0aXZlQ2hhdFNlY3Rpb24uZGV2LmpzP2JiNzEiXSwic291cmNlc0NvbnRlbnQiOlsibGV0IGFsbENoYXRTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbGxDaGF0U2VjdGlvblwiKVxyXG5sZXQgYWN0aXZlQ2hhdFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRTZWN0aW9uXCIpXHJcbmNvbnN0IGVtcHR5Q2hhdFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImVtcHR5Q2hhdFNlY3Rpb25cIilcclxuY29uc3QgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICBcImFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyXCJcclxuKVxyXG5jb25zdCBhY3RpdmVDaGF0TWVzc2FnZUxvYWRpbmdCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICBcImFjdGl2ZUNoYXRNZXNzYWdlTG9hZGluZ0JveFwiXHJcbilcclxuY29uc3QgYWN0aXZlQ2hhdElubmVyTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRJbm5lck1vZGFsXCIpXHJcblxyXG5sZXQgdG90YWxSZWNlaXZlZE1lc3NhZ2VzQ291bnRcclxubGV0IHRvdGFsVW5zZWVuTWVzc2FnZXNDb3VudFxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2hvd0FjdGl2ZUNoYXRTZWN0aW9uKGNoYXQpIHtcclxuICBpZiAoIWFjdGl2ZUNoYXRJbm5lck1vZGFsLmNsYXNzTGlzdC5jb250YWlucyhcImhpZGVcIikpXHJcbiAgICBhY3RpdmVDaGF0SW5uZXJNb2RhbC5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKVxyXG5cclxuICBjb25zdCBhY3RpdmVDaGF0SW5mb01vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0SW5mb01vZGFsXCIpXHJcbiAgaWYgKGFjdGl2ZUNoYXRJbmZvTW9kYWwpXHJcbiAgICBpZiAoIWFjdGl2ZUNoYXRJbmZvTW9kYWwuY2xhc3NMaXN0LmNvbnRhaW5zKFwiaGlkZVwiKSlcclxuICAgICAgYWN0aXZlQ2hhdEluZm9Nb2RhbC5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKVxyXG5cclxuICBpZiAoXHJcbiAgICBhY3RpdmVDaGF0TWVzc2FnZUxvYWRpbmdCb3guY2xhc3NMaXN0LmNvbnRhaW5zKFxyXG4gICAgICBcImFjdGl2ZS1jaGF0LW1lc3NhZ2UtbG9hZGluZy1ib3gtLWhpZGVcIlxyXG4gICAgKVxyXG4gIClcclxuICAgIGFjdGl2ZUNoYXRNZXNzYWdlTG9hZGluZ0JveC5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICBcImFjdGl2ZS1jaGF0LW1lc3NhZ2UtbG9hZGluZy1ib3gtLWhpZGVcIlxyXG4gICAgKVxyXG5cclxuICBsZXQgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnRcIlxyXG4gIClcclxuICBhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudC52YWx1ZSA9IFwiXCJcclxuICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiXHJcbiAgdXBkYXRlQWN0aXZlQ2hhdFNlY3Rpb24oY2hhdClcclxuXHJcbiAgdG90YWxSZWNlaXZlZE1lc3NhZ2VzQ291bnQgPSAwXHJcbiAgbGV0IHVuc2Vlbk1lc3NhZ2VzQ291bnRSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxyXG4gICAgYC9tZXNzYWdlL2RhdGEvdW5zZWVuLW1lc3NhZ2VzLWNvdW50LyR7Y2hhdC5faWR9YFxyXG4gIClcclxuICBsZXQgdW5zZWVuTWVzc2FnZXNDb3VudERhdGEgPSBhd2FpdCB1bnNlZW5NZXNzYWdlc0NvdW50UmVzcG9uc2UuanNvbigpXHJcbiAgdG90YWxVbnNlZW5NZXNzYWdlc0NvdW50ID0gdW5zZWVuTWVzc2FnZXNDb3VudERhdGEudW5zZWVuTWVzc2FnZXNDb3VudFxyXG4gIGxldCB7IG9wZW5BY3RpdmVDaGF0SW5wdXRCb3ggfSA9IGF3YWl0IGltcG9ydChcIi4uL2NoYXQuZGV2LmpzXCIpXHJcbiAgb3BlbkFjdGl2ZUNoYXRJbnB1dEJveCgpXHJcblxyXG4gIGlmIChVU0VSX01FU1NBR0VfQk9YX09CU0VSVkVSICE9PSB1bmRlZmluZWQpIHtcclxuICAgIFVTRVJfTUVTU0FHRV9CT1hfT0JTRVJWRVIuZGlzY29ubmVjdCgpXHJcbiAgfVxyXG4gIGluaXRpYWxpemVVc2VyTWVzc2FnZUJveE9ic2VydmVyKClcclxuICBpZiAoVE9QX01FU1NBR0VfQk9YX09CU0VSVkVSICE9PSB1bmRlZmluZWQpIHtcclxuICAgIFRPUF9NRVNTQUdFX0JPWF9PQlNFUlZFUi5kaXNjb25uZWN0KClcclxuICB9XHJcbiAgaW5pdGlhbGl6ZVRvcE1lc3NhZ2VCb3hPYnNlcnZlcigpXHJcbiAgaWYgKEJPVFRPTV9NRVNTQUdFX0JPWF9PQlNFUlZFUiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICBCT1RUT01fTUVTU0FHRV9CT1hfT0JTRVJWRVIuZGlzY29ubmVjdCgpXHJcbiAgfVxyXG4gIGluaXRpYWxpemVCb3R0b21NZXNzYWdlQm94T2JzZXJ2ZXIoKVxyXG5cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgY29uc3QgeyBjaGVja1RpbWVBbmRDcmVhdGVPbGRNZXNzYWdlcyB9ID0gYXdhaXQgaW1wb3J0KFwiLi9tZXNzYWdlLmRldlwiKVxyXG5cclxuICBmZXRjaChgL21lc3NhZ2UvZmV0Y2gtbWVzc2FnZXMvJHtjaGF0Ll9pZH0/dG90YWxSZWNlaXZlZE1lc3NhZ2VzQ291bnQ9MGApXHJcbiAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKClcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QocmVzcG9uc2UpXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAgIGlmIChkYXRhLmlzU3VjY2Vzcykge1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICFhY3RpdmVDaGF0TWVzc2FnZUxvYWRpbmdCb3guY2xhc3NMaXN0LmNvbnRhaW5zKFxyXG4gICAgICAgICAgICBcImFjdGl2ZS1jaGF0LW1lc3NhZ2UtbG9hZGluZy1ib3gtLWhpZGVcIlxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlTG9hZGluZ0JveC5jbGFzc0xpc3QuYWRkKFxyXG4gICAgICAgICAgICBcImFjdGl2ZS1jaGF0LW1lc3NhZ2UtbG9hZGluZy1ib3gtLWhpZGVcIlxyXG4gICAgICAgICAgKVxyXG5cclxuICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiXHJcbiAgICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuXHJcbiAgICAgICAgaWYgKGRhdGEuYWxsTWVzc2FnZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgdG90YWxSZWNlaXZlZE1lc3NhZ2VzQ291bnQgKz0gZGF0YS5hbGxNZXNzYWdlcy5sZW5ndGhcclxuICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgdG90YWxVbnNlZW5NZXNzYWdlc0NvdW50ICE9PSAwICYmXHJcbiAgICAgICAgICAgIHRvdGFsVW5zZWVuTWVzc2FnZXNDb3VudCA8PSB0b3RhbFJlY2VpdmVkTWVzc2FnZXNDb3VudFxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGxldCB7IGNyZWF0ZVVuc2Vlbk1lc3NhZ2VUYWdCb3ggfSA9IGF3YWl0IGltcG9ydChcIi4vbWVzc2FnZS5kZXZcIilcclxuXHJcbiAgICAgICAgICAgIGxldCBwb3NpdGlvbkZvclVuc2VlZW5NZXNzYWdlVGFnID1cclxuICAgICAgICAgICAgICBkYXRhLmFsbE1lc3NhZ2VzLmxlbmd0aCAtXHJcbiAgICAgICAgICAgICAgKHRvdGFsUmVjZWl2ZWRNZXNzYWdlc0NvdW50IC0gdG90YWxVbnNlZW5NZXNzYWdlc0NvdW50KVxyXG4gICAgICAgICAgICBjaGVja1RpbWVBbmRDcmVhdGVPbGRNZXNzYWdlcyhcclxuICAgICAgICAgICAgICBkYXRhLmFsbE1lc3NhZ2VzLnNsaWNlKDAsIHBvc2l0aW9uRm9yVW5zZWVlbk1lc3NhZ2VUYWcpLFxyXG4gICAgICAgICAgICAgIGZhbHNlLFxyXG4gICAgICAgICAgICAgIHRydWVcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBjcmVhdGVVbnNlZW5NZXNzYWdlVGFnQm94KHRvdGFsVW5zZWVuTWVzc2FnZXNDb3VudCwgXCJhZnRlcmJlZ2luXCIpXHJcbiAgICAgICAgICAgIGNoZWNrVGltZUFuZENyZWF0ZU9sZE1lc3NhZ2VzKFxyXG4gICAgICAgICAgICAgIGRhdGEuYWxsTWVzc2FnZXMuc2xpY2UocG9zaXRpb25Gb3JVbnNlZWVuTWVzc2FnZVRhZyksXHJcbiAgICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHRvdGFsVW5zZWVuTWVzc2FnZXNDb3VudCA9IDBcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoZWNrVGltZUFuZENyZWF0ZU9sZE1lc3NhZ2VzKGRhdGEuYWxsTWVzc2FnZXMsIGZhbHNlLCB0cnVlKVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuZmlyc3RFbGVtZW50Q2hpbGQpXHJcbiAgICAgICAgICAgICAgVE9QX01FU1NBR0VfQk9YX09CU0VSVkVSLm9ic2VydmUoXHJcbiAgICAgICAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZFxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgIH0sIDI1MDApXHJcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLmxhc3RFbGVtZW50Q2hpbGQpXHJcbiAgICAgICAgICAgICAgQk9UVE9NX01FU1NBR0VfQk9YX09CU0VSVkVSLm9ic2VydmUoXHJcbiAgICAgICAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5sYXN0RWxlbWVudENoaWxkXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfSwgMjAwMClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB7IGFkanVzdE1lc3NhZ2VDb250YWluZXJCb3R0b21QYWRkaW5nIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICBcIi4uL2NoYXQuZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgYWRqdXN0TWVzc2FnZUNvbnRhaW5lckJvdHRvbVBhZGRpbmcoKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCB7IGNyZWF0ZU1haW5Ob3RpZmljYXRpb24gfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgIFwiLi4vLi4vY29tbW9uL21haW5Ob3RpZmljYXRpb24uZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbihkYXRhLmVycm9yLCBcImVycm9yXCIpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAuY2F0Y2goYXN5bmMgZXJyID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICBsZXQgeyBjcmVhdGVNYWluTm90aWZpY2F0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi9jb21tb24vbWFpbk5vdGlmaWNhdGlvbi5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oXHJcbiAgICAgICAgXCJTZXJ2ZXIgRXJyb3IgSW4gQWNjZXNzaW5nIE1lc3NhZ2VzLCBQbGVhc2UgUmVmcmVzaCBZb3VyIFBhZ2VcIixcclxuICAgICAgICBcImVycm9yXCJcclxuICAgICAgKVxyXG4gICAgfSlcclxuXHJcbiAgYWxsQ2hhdFNlY3Rpb24uY2xhc3NMaXN0LmFkZChcImFsbC1jaGF0LXNlY3Rpb24tLW9wZW4tYWN0aXZlLWNoYXRcIilcclxuICBhY3RpdmVDaGF0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLWNoYXQtc2VjdGlvbi0taGlkZVwiKVxyXG5cclxuICBpZiAoIWVtcHR5Q2hhdFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZW1wdHktY2hhdC1zZWN0aW9uLS1oaWRlXCIpKVxyXG4gICAgZW1wdHlDaGF0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKFwiZW1wdHktY2hhdC1zZWN0aW9uLS1oaWRlXCIpXHJcblxyXG4gIC8vIGFsbENoYXRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJhbGwtY2hhdC1zZWN0aW9uLS1oaWRlXCIpXHJcbiAgLy8gYWN0aXZlQ2hhdFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1jaGF0LXNlY3Rpb24tLWhpZGVcIilcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZVVzZXJNZXNzYWdlQm94T2JzZXJ2ZXIoKSB7XHJcbiAgVVNFUl9NRVNTQUdFX0JPWF9PQlNFUlZFUiA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcclxuICAgIGFzeW5jIChlbnRyaWVzLCBvYnNlcnZlcikgPT4ge1xyXG4gICAgICBlbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xyXG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgbGV0IG1lc3NhZ2VJZCA9IGVudHJ5LnRhcmdldC5kYXRhc2V0Lm1lc3NhZ2VJZFxyXG4gICAgICAgICAgc29ja2V0LmVtaXQoXCJjaGF0OnVwZGF0ZS1tZXNzYWdlLXNlZW4tc3RhdHVzXCIsIHtcclxuICAgICAgICAgICAgbWVzc2FnZUlkOiBtZXNzYWdlSWRcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoZW50cnkudGFyZ2V0KVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH0sXHJcbiAgICB7IHRocmVzaG9sZDogMC41LCByb290OiBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciB9XHJcbiAgKVxyXG59XHJcbmZ1bmN0aW9uIGluaXRpYWxpemVUb3BNZXNzYWdlQm94T2JzZXJ2ZXIoKSB7XHJcbiAgVE9QX01FU1NBR0VfQk9YX09CU0VSVkVSID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxyXG4gICAgYXN5bmMgKGVudHJpZXMsIG9ic2VydmVyKSA9PiB7XHJcbiAgICAgIGVudHJpZXMuZm9yRWFjaChhc3luYyBlbnRyeSA9PiB7XHJcbiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nID09PSB0cnVlKSB7XHJcbiAgICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoZW50cnkudGFyZ2V0KVxyXG4gICAgICAgICAgbGV0IGNoYXRJZCA9IGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkXHJcblxyXG4gICAgICAgICAgY29uc3QgeyBjcmVhdGVMb2FkaW5nTWVzc2FnZXNBbmltYXRpb24gfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgICAgXCIuL21lc3NhZ2UuZGV2XCJcclxuICAgICAgICAgIClcclxuICAgICAgICAgIGxldCBsb2FkaW5nTWVzc2FnZUFuaW1hdGlvbkJveCA9IGNyZWF0ZUxvYWRpbmdNZXNzYWdlc0FuaW1hdGlvbigpXHJcbiAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoXHJcbiAgICAgICAgICAgIFwiYWZ0ZXJiZWdpblwiLFxyXG4gICAgICAgICAgICBsb2FkaW5nTWVzc2FnZUFuaW1hdGlvbkJveFxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuc2Nyb2xsVG9wICs9IDE1MFxyXG4gICAgICAgICAgYXdhaXQgZmV0Y2hNZXNzYWdlQW5kQ3JlYXRlVXNlck1lc3NhZ2VCb3goY2hhdElkKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH0sXHJcbiAgICB7IHRocmVzaG9sZDogMC41LCByb290OiBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciwgcm9vdE1hcmdpbjogXCIxMDBweFwiIH1cclxuICApXHJcbn1cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZUJvdHRvbU1lc3NhZ2VCb3hPYnNlcnZlcigpIHtcclxuICBCT1RUT01fTUVTU0FHRV9CT1hfT0JTRVJWRVIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXHJcbiAgICBhc3luYyAoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcclxuICAgICAgZW50cmllcy5mb3JFYWNoKGFzeW5jIGVudHJ5ID0+IHtcclxuICAgICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcgPT09IHRydWUpIHtcclxuICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpXHJcbiAgICAgICAgICBsZXQgY2hhdElkID0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWRcclxuICAgICAgICAgIHNvY2tldC5lbWl0KFwiY2hhdDp1cGRhdGUtY2hhdC11bnNlZW4tbWVzc2FnZXNcIiwge1xyXG4gICAgICAgICAgICBjaGF0SWQ6IGNoYXRJZFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9LFxyXG4gICAgeyB0aHJlc2hvbGQ6IDAuNSwgcm9vdDogYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIgfVxyXG4gIClcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNZXNzYWdlQW5kQ3JlYXRlVXNlck1lc3NhZ2VCb3goY2hhdElkKSB7XHJcbiAgY29uc3QgeyBjaGVja1RpbWVBbmRDcmVhdGVPbGRNZXNzYWdlcyB9ID0gYXdhaXQgaW1wb3J0KFwiLi9tZXNzYWdlLmRldlwiKVxyXG5cclxuICBmZXRjaChcclxuICAgIGAvbWVzc2FnZS9mZXRjaC1tZXNzYWdlcy8ke2NoYXRJZH0/dG90YWxSZWNlaXZlZE1lc3NhZ2VzQ291bnQ9JHt0b3RhbFJlY2VpdmVkTWVzc2FnZXNDb3VudH1gXHJcbiAgKVxyXG4gICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKVxyXG4gICAgfSlcclxuICAgIC50aGVuKGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBpZiAoZGF0YS5pc1N1Y2Nlc3MpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKVxyXG5cclxuICAgICAgICBpZiAoZGF0YS5hbGxNZXNzYWdlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICB0b3RhbFJlY2VpdmVkTWVzc2FnZXNDb3VudCArPSBkYXRhLmFsbE1lc3NhZ2VzLmxlbmd0aFxyXG4gICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0b3RhbFVuc2Vlbk1lc3NhZ2VzQ291bnQgIT09IDAgJiZcclxuICAgICAgICAgICAgdG90YWxVbnNlZW5NZXNzYWdlc0NvdW50IDw9IHRvdGFsUmVjZWl2ZWRNZXNzYWdlc0NvdW50XHJcbiAgICAgICAgICApIHtcclxuICAgICAgICAgICAgbGV0IHsgY3JlYXRlVW5zZWVuTWVzc2FnZVRhZ0JveCB9ID0gYXdhaXQgaW1wb3J0KFwiLi9tZXNzYWdlLmRldlwiKVxyXG5cclxuICAgICAgICAgICAgbGV0IHBvc2l0aW9uRm9yVW5zZWVlbk1lc3NhZ2VUYWcgPVxyXG4gICAgICAgICAgICAgIGRhdGEuYWxsTWVzc2FnZXMubGVuZ3RoIC1cclxuICAgICAgICAgICAgICAodG90YWxSZWNlaXZlZE1lc3NhZ2VzQ291bnQgLSB0b3RhbFVuc2Vlbk1lc3NhZ2VzQ291bnQpXHJcbiAgICAgICAgICAgIGNoZWNrVGltZUFuZENyZWF0ZU9sZE1lc3NhZ2VzKFxyXG4gICAgICAgICAgICAgIGRhdGEuYWxsTWVzc2FnZXMuc2xpY2UoMCwgcG9zaXRpb25Gb3JVbnNlZWVuTWVzc2FnZVRhZyksXHJcbiAgICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBjcmVhdGVVbnNlZW5NZXNzYWdlVGFnQm94KHRvdGFsVW5zZWVuTWVzc2FnZXNDb3VudCwgXCJhZnRlcmJlZ2luXCIpXHJcbiAgICAgICAgICAgIGNoZWNrVGltZUFuZENyZWF0ZU9sZE1lc3NhZ2VzKFxyXG4gICAgICAgICAgICAgIGRhdGEuYWxsTWVzc2FnZXMuc2xpY2UocG9zaXRpb25Gb3JVbnNlZWVuTWVzc2FnZVRhZyksXHJcbiAgICAgICAgICAgICAgZmFsc2UsXHJcbiAgICAgICAgICAgICAgZmFsc2VcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB0b3RhbFVuc2Vlbk1lc3NhZ2VzQ291bnQgPSAwXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjaGVja1RpbWVBbmRDcmVhdGVPbGRNZXNzYWdlcyhkYXRhLmFsbE1lc3NhZ2VzLCBmYWxzZSwgZmFsc2UpXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5maXJzdEVsZW1lbnRDaGlsZClcclxuICAgICAgICAgICAgICBUT1BfTUVTU0FHRV9CT1hfT0JTRVJWRVIub2JzZXJ2ZShcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLmZpcnN0RWxlbWVudENoaWxkXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfSwgNDAwMClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbGV0IGxvYWRpbmdNZXNzYWdlQW5pbWF0aW9uQm94ID0gW1xyXG4gICAgICAgICAgICAuLi5hY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxyXG4gICAgICAgICAgICAgIFwibG9hZGluZy1tZXNzYWdlLWFuaW1hdGlvbi1ib3hcIlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICBdXHJcbiAgICAgICAgICBsb2FkaW5nTWVzc2FnZUFuaW1hdGlvbkJveC5mb3JFYWNoKGJveCA9PiB7XHJcbiAgICAgICAgICAgIGJveC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGJveClcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCB7IGNyZWF0ZU1haW5Ob3RpZmljYXRpb24gfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgIFwiLi4vLi4vY29tbW9uL21haW5Ob3RpZmljYXRpb24uZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbihkYXRhLmVycm9yLCBcImVycm9yXCIpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAuY2F0Y2goYXN5bmMgZXJyID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICBsZXQgeyBjcmVhdGVNYWluTm90aWZpY2F0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi9jb21tb24vbWFpbk5vdGlmaWNhdGlvbi5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oXHJcbiAgICAgICAgXCJTZXJ2ZXIgRXJyb3IgSW4gQWNjZXNzaW5nIE1lc3NhZ2VzLCBQbGVhc2UgUmVmcmVzaCBZb3VyIFBhZ2VcIixcclxuICAgICAgICBcImVycm9yXCJcclxuICAgICAgKVxyXG4gICAgfSlcclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbmNyZWFzZVRvdGFsUmVjZWl2ZWRNZXNzYWdlc0NvdW50KCkge1xyXG4gIHRvdGFsVW5zZWVuTWVzc2FnZXNDb3VudCA9IDBcclxuICB0b3RhbFJlY2VpdmVkTWVzc2FnZXNDb3VudCsrXHJcbn1cclxuXHJcbi8vLy8vLy8vLy8vLy8vLy8vXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVBY3RpdmVDaGF0U2VjdGlvbihjaGF0KSB7XHJcbiAgbGV0IHsgY2xvc2VSZXBseU1lc3NhZ2VCb3ggfSA9IGF3YWl0IGltcG9ydChcIi4vcmVwbHlNZXNzYWdlQm94LmRldi5qc1wiKVxyXG4gIGNsb3NlUmVwbHlNZXNzYWdlQm94KClcclxuICBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZCA9IGNoYXQuX2lkXHJcbiAgY29uc3QgYWN0aXZlQ2hhdEhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdEhlYWRlclwiKVxyXG4gIGNvbnN0IGFjdGl2ZUNoYXRIZWFkZXJQaWMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRIZWFkZXJQaWNcIilcclxuICBjb25zdCBhY3RpdmVDaGF0SW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0SW1nXCIpXHJcbiAgY29uc3QgYWN0aXZlQ2hhdEhlYWRlck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRIZWFkZXJOYW1lXCIpXHJcbiAgY29uc3QgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJhY3RpdmVDaGF0SGVhZGVyU3RhdHVzXCJcclxuICApXHJcbiAgY29uc3QgYWN0aXZlQ2hhdElucHV0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lclwiXHJcbiAgKVxyXG5cclxuICBhY3RpdmVDaGF0SGVhZGVyLmRhdGFzZXQuY2hhdElkID0gY2hhdC5faWRcclxuXHJcbiAgLy9jaGF0IGJhY2tnb3VuZFxyXG4gIGlmIChjaGF0Lmhhc093blByb3BlcnR5KFwiY2hhdEN1c3RvbUJhY2tncm91bmRcIikpIHtcclxuICAgIGlmIChjaGF0LmNoYXRDdXN0b21CYWNrZ3JvdW5kLmhhc0JhY2tncm91bmRDb2xvcikge1xyXG4gICAgICBjaGFuZ2VBY3RpdmVDaGF0QmFja2dyb3VuZChcclxuICAgICAgICBcImNvbG9yXCIsXHJcbiAgICAgICAgY2hhdC5jaGF0Q3VzdG9tQmFja2dyb3VuZC5iYWNrZ3JvdW5kQ29sb3JcclxuICAgICAgKVxyXG4gICAgfSBlbHNlIGlmIChjaGF0LmNoYXRDdXN0b21CYWNrZ3JvdW5kLmhhc0JhY2tncm91bmRJbWFnZSkge1xyXG4gICAgICBjaGFuZ2VBY3RpdmVDaGF0QmFja2dyb3VuZChcclxuICAgICAgICBcImltYWdlXCIsXHJcbiAgICAgICAgY2hhdC5jaGF0Q3VzdG9tQmFja2dyb3VuZC5iYWNrZ3JvdW5kSW1hZ2VcclxuICAgICAgKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVtb3ZlQWN0aXZlQ2hhdEJhY2tncm91bmQoKVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICByZW1vdmVBY3RpdmVDaGF0QmFja2dyb3VuZCgpXHJcbiAgfVxyXG5cclxuICAvLy8vLy8vXHJcblxyXG4gIGlmIChjaGF0Lmhhc093blByb3BlcnR5KFwiY2hhdFBpY1wiKSAmJiBjaGF0LmNoYXRQaWMgIT09IFwiXCIpIHtcclxuICAgIGFjdGl2ZUNoYXRJbWcuc3JjID0gY2hhdC5jaGF0UGljXHJcbiAgICBhY3RpdmVDaGF0SGVhZGVyUGljLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtY2hhdC1oZWFkZXJfX3BpYy0taGlkZS1zdmdcIilcclxuICAgIGFjdGl2ZUNoYXRIZWFkZXJQaWMuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1jaGF0LWhlYWRlcl9fcGljLS1oaWRlLWltZ1wiKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBhY3RpdmVDaGF0SGVhZGVyUGljLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtY2hhdC1oZWFkZXJfX3BpYy0taGlkZS1pbWdcIilcclxuICAgIGFjdGl2ZUNoYXRIZWFkZXJQaWMuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1jaGF0LWhlYWRlcl9fcGljLS1oaWRlLXN2Z1wiKVxyXG4gIH1cclxuICBhY3RpdmVDaGF0SGVhZGVyTmFtZS50ZXh0Q29udGVudCA9IGNoYXQuY2hhdE5hbWVcclxuICBpZiAoIWNoYXQuaXNHcm91cENoYXQpIHtcclxuICAgIGlmIChjaGF0LmlzVXNlckFjdGl2ZSkge1xyXG4gICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgICAgXCJhY3RpdmUtY2hhdC1oZWFkZXJfX2NoYXQtc3RhdHVzLS1oaWRlXCJcclxuICAgICAgKVxyXG4gICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLnRleHRDb250ZW50ID0gXCJBY3RpdmVcIlxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGV0IHsgdGltZURpZmZlcmVuY2VGcm9tTm93IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi9jb21tb24vY2FsY3VsYXRlVGltZURpZmZlcmVuY2UuZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgICAgXCJhY3RpdmUtY2hhdC1oZWFkZXJfX2NoYXQtc3RhdHVzLS1oaWRlXCJcclxuICAgICAgKVxyXG4gICAgICBpZiAoY2hhdC5oYXNPd25Qcm9wZXJ0eShcInVzZXJMYXN0QWN0aXZlXCIpKSB7XHJcbiAgICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy50ZXh0Q29udGVudCA9IGBsYXN0IGFjdGl2ZSAke3RpbWVEaWZmZXJlbmNlRnJvbU5vdyhcclxuICAgICAgICAgIGNoYXQudXNlckxhc3RBY3RpdmVcclxuICAgICAgICApfSBhZ29gXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy50ZXh0Q29udGVudCA9IFwiXCJcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgIFwiYWN0aXZlLWNoYXQtaGVhZGVyX19jaGF0LXN0YXR1cy0taGlkZVwiXHJcbiAgICApXHJcbiAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLnRleHRDb250ZW50ID0gXCJcIlxyXG4gIH1cclxuXHJcbiAgb25PZmZBY3RpdmVDaGF0SW5wdXRDb250YWluZXIoY2hhdClcclxuXHJcbiAgaWYgKGNoYXQuaGFzT3duUHJvcGVydHkoXCJpc09uQ2FsbFwiKSAmJiBjaGF0LmlzT25DYWxsID09PSB0cnVlKSB7XHJcbiAgICBvcGVuQWN0aXZlQ2hhdENhbGxSb29tQm94KGNoYXQuY2FsbFJvb21JZClcclxuICB9IGVsc2Uge1xyXG4gICAgY2xvc2VBY3RpdmVDaGF0Q2FsbFJvb21Cb3goKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFyQWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIoKSB7XHJcbiAgbGV0IGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyXCJcclxuICApXHJcbiAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIlxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gb25PZmZBY3RpdmVDaGF0SW5wdXRDb250YWluZXIoY2hhdCkge1xyXG4gIGNvbnN0IGFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJhY3RpdmVDaGF0SW5wdXRDb250YWluZXJcIlxyXG4gIClcclxuICBpZiAoXHJcbiAgICBjaGF0Lmhhc093blByb3BlcnR5KFwiY2FuU2VuZE1lc3NhZ2VUb1RoaXNDaGF0XCIpICYmXHJcbiAgICBjaGF0LmNhblNlbmRNZXNzYWdlVG9UaGlzQ2hhdCA9PT0gZmFsc2VcclxuICApIHtcclxuICAgIGFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFxyXG4gICAgICBcImFjdGl2ZS1jaGF0LWlucHV0LWNvbnRhaW5lci0tZGlzYWJsZVwiXHJcbiAgICApXHJcbiAgICBhY3RpdmVDaGF0SW5wdXRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShcclxuICAgICAgXCJhY3RpdmUtY2hhdC1pbnB1dC1jb250YWluZXItLWVuYWJsZVwiXHJcbiAgICApXHJcbiAgfSBlbHNlIHtcclxuICAgIGFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFxyXG4gICAgICBcImFjdGl2ZS1jaGF0LWlucHV0LWNvbnRhaW5lci0tZW5hYmxlXCJcclxuICAgIClcclxuICAgIGFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICBcImFjdGl2ZS1jaGF0LWlucHV0LWNvbnRhaW5lci0tZGlzYWJsZVwiXHJcbiAgICApXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb3BlbkFjdGl2ZUNoYXRDYWxsUm9vbUJveChjYWxsUm9vbUlkKSB7XHJcbiAgbGV0IGFjdGl2ZUNoYXRDYWxsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0Q2FsbEJ0blwiKVxyXG4gIGxldCBhY3RpdmVDaGF0Q2FsbFJvb21Cb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRDYWxsUm9vbUJveFwiKVxyXG5cclxuICB3aGlsZSAoYWN0aXZlQ2hhdENhbGxSb29tQm94LmNsYXNzTGlzdC5jb250YWlucyhcImNoYXQtY2FsbC1yb29tLWJveC0taGlkZVwiKSlcclxuICAgIGFjdGl2ZUNoYXRDYWxsUm9vbUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiY2hhdC1jYWxsLXJvb20tYm94LS1oaWRlXCIpXHJcbiAgYWN0aXZlQ2hhdENhbGxCdG4uY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1jaGF0LWhlYWRlcl9fYnRuLS1oaWRlXCIpXHJcblxyXG4gIGFjdGl2ZUNoYXRDYWxsUm9vbUJveC5kYXRhc2V0LmNhbGxSb29tSWQgPSBjYWxsUm9vbUlkXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbG9zZUFjdGl2ZUNoYXRDYWxsUm9vbUJveCgpIHtcclxuICBsZXQgYWN0aXZlQ2hhdENhbGxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRDYWxsQnRuXCIpXHJcbiAgbGV0IGFjdGl2ZUNoYXRDYWxsUm9vbUJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdENhbGxSb29tQm94XCIpXHJcblxyXG4gIHdoaWxlIChhY3RpdmVDaGF0Q2FsbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoXCJhY3RpdmUtY2hhdC1oZWFkZXJfX2J0bi0taGlkZVwiKSlcclxuICAgIGFjdGl2ZUNoYXRDYWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtY2hhdC1oZWFkZXJfX2J0bi0taGlkZVwiKVxyXG4gIGFjdGl2ZUNoYXRDYWxsUm9vbUJveC5jbGFzc0xpc3QuYWRkKFwiY2hhdC1jYWxsLXJvb20tYm94LS1oaWRlXCIpXHJcblxyXG4gIGFjdGl2ZUNoYXRDYWxsUm9vbUJveC5kYXRhc2V0LmNhbGxSb29tSWQgPSBcIlwiXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VBY3RpdmVDaGF0QmFja2dyb3VuZChiYWNrZ3JvdW5kVHlwZSwgYmFja2dyb3VuZFZhbHVlKSB7XHJcbiAgaWYgKGJhY2tncm91bmRUeXBlID09PSBcImNvbG9yXCIpIHtcclxuICAgIGFjdGl2ZUNoYXRTZWN0aW9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGJhY2tncm91bmRWYWx1ZVxyXG4gICAgYWN0aXZlQ2hhdFNlY3Rpb24uc3R5bGUuYmFja2dyb3VuZEltYWdlID0gXCJub25lXCJcclxuICB9IGVsc2UgaWYgKGJhY2tncm91bmRUeXBlID09PSBcImltYWdlXCIpIHtcclxuICAgIGFjdGl2ZUNoYXRTZWN0aW9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2VlZVwiXHJcbiAgICBhY3RpdmVDaGF0U2VjdGlvbi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCR7YmFja2dyb3VuZFZhbHVlfSlgXHJcbiAgfSBlbHNlIHtcclxuICAgIGFjdGl2ZUNoYXRTZWN0aW9uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiI2VlZVwiXHJcbiAgICBhY3RpdmVDaGF0U2VjdGlvbi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcuLi8uLi9hc3NldHMvaW1hZ2VzL2FjdGl2ZUNoYXRCYWNrZ3JvdW5kLmpwZycpYFxyXG4gIH1cclxufVxyXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQWN0aXZlQ2hhdEJhY2tncm91bmQoKSB7XHJcbiAgYWN0aXZlQ2hhdFNlY3Rpb24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZWVlXCJcclxuICBhY3RpdmVDaGF0U2VjdGlvbi5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSBgdXJsKCcuLi8uLi9hc3NldHMvaW1hZ2VzL2FjdGl2ZUNoYXRCYWNrZ3JvdW5kLmpwZycpYFxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4iXSwibmFtZXMiOlsiYWxsQ2hhdFNlY3Rpb24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYWN0aXZlQ2hhdFNlY3Rpb24iLCJlbXB0eUNoYXRTZWN0aW9uIiwiYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIiLCJhY3RpdmVDaGF0TWVzc2FnZUxvYWRpbmdCb3giLCJhY3RpdmVDaGF0SW5uZXJNb2RhbCIsInRvdGFsUmVjZWl2ZWRNZXNzYWdlc0NvdW50IiwidG90YWxVbnNlZW5NZXNzYWdlc0NvdW50Iiwic2hvd0FjdGl2ZUNoYXRTZWN0aW9uIiwiY2hhdCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYWRkIiwiYWN0aXZlQ2hhdEluZm9Nb2RhbCIsInJlbW92ZSIsImFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50IiwidmFsdWUiLCJpbm5lckhUTUwiLCJ1cGRhdGVBY3RpdmVDaGF0U2VjdGlvbiIsInVuc2Vlbk1lc3NhZ2VzQ291bnRSZXNwb25zZSIsImZldGNoIiwiX2lkIiwidW5zZWVuTWVzc2FnZXNDb3VudERhdGEiLCJqc29uIiwidW5zZWVuTWVzc2FnZXNDb3VudCIsIm9wZW5BY3RpdmVDaGF0SW5wdXRCb3giLCJVU0VSX01FU1NBR0VfQk9YX09CU0VSVkVSIiwidW5kZWZpbmVkIiwiZGlzY29ubmVjdCIsImluaXRpYWxpemVVc2VyTWVzc2FnZUJveE9ic2VydmVyIiwiVE9QX01FU1NBR0VfQk9YX09CU0VSVkVSIiwiaW5pdGlhbGl6ZVRvcE1lc3NhZ2VCb3hPYnNlcnZlciIsIkJPVFRPTV9NRVNTQUdFX0JPWF9PQlNFUlZFUiIsImluaXRpYWxpemVCb3R0b21NZXNzYWdlQm94T2JzZXJ2ZXIiLCJjaGVja1RpbWVBbmRDcmVhdGVPbGRNZXNzYWdlcyIsInRoZW4iLCJyZXNwb25zZSIsIm9rIiwiUHJvbWlzZSIsInJlamVjdCIsImRhdGEiLCJpc1N1Y2Nlc3MiLCJjb25zb2xlIiwibG9nIiwiYWxsTWVzc2FnZXMiLCJsZW5ndGgiLCJjcmVhdGVVbnNlZW5NZXNzYWdlVGFnQm94IiwicG9zaXRpb25Gb3JVbnNlZWVuTWVzc2FnZVRhZyIsInNsaWNlIiwic2V0VGltZW91dCIsImZpcnN0RWxlbWVudENoaWxkIiwib2JzZXJ2ZSIsImxhc3RFbGVtZW50Q2hpbGQiLCJhZGp1c3RNZXNzYWdlQ29udGFpbmVyQm90dG9tUGFkZGluZyIsImNyZWF0ZU1haW5Ob3RpZmljYXRpb24iLCJlcnJvciIsImNhdGNoIiwiZXJyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwib2JzZXJ2ZXIiLCJmb3JFYWNoIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsIm1lc3NhZ2VJZCIsInRhcmdldCIsImRhdGFzZXQiLCJzb2NrZXQiLCJlbWl0IiwidW5vYnNlcnZlIiwidGhyZXNob2xkIiwicm9vdCIsImNoYXRJZCIsImNyZWF0ZUxvYWRpbmdNZXNzYWdlc0FuaW1hdGlvbiIsImxvYWRpbmdNZXNzYWdlQW5pbWF0aW9uQm94IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50Iiwic2Nyb2xsVG9wIiwiZmV0Y2hNZXNzYWdlQW5kQ3JlYXRlVXNlck1lc3NhZ2VCb3giLCJyb290TWFyZ2luIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImJveCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImluY3JlYXNlVG90YWxSZWNlaXZlZE1lc3NhZ2VzQ291bnQiLCJjbG9zZVJlcGx5TWVzc2FnZUJveCIsImFjdGl2ZUNoYXRIZWFkZXIiLCJhY3RpdmVDaGF0SGVhZGVyUGljIiwiYWN0aXZlQ2hhdEltZyIsImFjdGl2ZUNoYXRIZWFkZXJOYW1lIiwiYWN0aXZlQ2hhdEhlYWRlclN0YXR1cyIsImFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lciIsImhhc093blByb3BlcnR5IiwiY2hhdEN1c3RvbUJhY2tncm91bmQiLCJoYXNCYWNrZ3JvdW5kQ29sb3IiLCJjaGFuZ2VBY3RpdmVDaGF0QmFja2dyb3VuZCIsImJhY2tncm91bmRDb2xvciIsImhhc0JhY2tncm91bmRJbWFnZSIsImJhY2tncm91bmRJbWFnZSIsInJlbW92ZUFjdGl2ZUNoYXRCYWNrZ3JvdW5kIiwiY2hhdFBpYyIsInNyYyIsInRleHRDb250ZW50IiwiY2hhdE5hbWUiLCJpc0dyb3VwQ2hhdCIsImlzVXNlckFjdGl2ZSIsInRpbWVEaWZmZXJlbmNlRnJvbU5vdyIsInVzZXJMYXN0QWN0aXZlIiwib25PZmZBY3RpdmVDaGF0SW5wdXRDb250YWluZXIiLCJpc09uQ2FsbCIsIm9wZW5BY3RpdmVDaGF0Q2FsbFJvb21Cb3giLCJjYWxsUm9vbUlkIiwiY2xvc2VBY3RpdmVDaGF0Q2FsbFJvb21Cb3giLCJjbGVhckFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyIiwiY2FuU2VuZE1lc3NhZ2VUb1RoaXNDaGF0IiwiYWN0aXZlQ2hhdENhbGxCdG4iLCJhY3RpdmVDaGF0Q2FsbFJvb21Cb3giLCJiYWNrZ3JvdW5kVHlwZSIsImJhY2tncm91bmRWYWx1ZSIsInN0eWxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./dev-javascripts/chat/js/showActiveChatSection.dev.js\n");

/***/ })

}]);