"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_chat_js_fetchActiveChat_dev_js"],{

/***/ "./dev-javascripts/chat/js/fetchActiveChat.dev.js":
/*!********************************************************!*\
  !*** ./dev-javascripts/chat/js/fetchActiveChat.dev.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fetchActiveChat\": () => (/* binding */ fetchActiveChat)\n/* harmony export */ });\nlet allChatSection = document.getElementById(\"allChatSection\");\nlet activeChatSection = document.getElementById(\"activeChatSection\");\nlet emptyChatSection = document.getElementById(\"emptyChatSection\");\nlet activeChatMessageContainer = document.getElementById(\"activeChatMessageContainer\"); // activeChatData is define in main layout as global object\n\nasync function fetchActiveChat(chatId) {\n  let activeChatId = activeChatSection.dataset.chatId;\n\n  if (activeChatId !== \"\" && activeChatId === chatId) {\n    history.pushState(activeChatData, \"\", `/chat/#${chatId}`);\n    document.title = `${activeChatData.chatName} chat `;\n    allChatSection.classList.add(\"all-chat-section--open-active-chat\");\n    activeChatSection.classList.remove(\"active-chat-section--hide\");\n    if (!emptyChatSection.classList.contains(\"empty-chat-section--hide\")) emptyChatSection.classList.add(\"empty-chat-section--hide\");\n    activeChatMessageContainer.scrollTop = activeChatMessageContainer.scrollHeight;\n  } else {\n    fetch(`/chat/data/chat/${chatId}`).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then(async data => {\n      if (data.isSuccess) {\n        activeChatData = { ...data.chat\n        };\n        history.pushState(data.chat, \"\", `/chat/#${chatId}`);\n        document.title = `${data.chat.chatName} chat `;\n        let {\n          showActiveChatSection\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_showActiveChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./showActiveChatSection.dev */ \"./dev-javascripts/chat/js/showActiveChatSection.dev.js\"));\n        showActiveChatSection(data.chat);\n      } else {\n        history.replaceState({}, \"\", \"/chat\");\n        document.title = \"Chats\";\n        allChatSection.classList.remove(\"all-chat-section--open-active-chat\");\n        activeChatSection.classList.add(\"active-chat-section--hide\");\n        if (emptyChatSection.classList.contains(\"empty-chat-section--hide\")) emptyChatSection.classList.remove(\"empty-chat-section--hide\");\n        let {\n          createMainNotification\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_common_mainNotification_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n        createMainNotification(data.error, \"error\");\n      }\n    }).catch(async err => {\n      console.log(\"error in fetch Active Chat:\", err);\n      history.replaceState({}, \"\", \"/chat\");\n      document.title = \"Chats\";\n      allChatSection.classList.remove(\"all-chat-section--open-active-chat\");\n      activeChatSection.classList.add(\"active-chat-section--hide\");\n      if (emptyChatSection.classList.contains(\"empty-chat-section--hide\")) emptyChatSection.classList.remove(\"empty-chat-section--hide\");\n      let {\n        createMainNotification\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_common_mainNotification_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n      createMainNotification(\"Server Error Or May be You Are Accessing Wrong Chat.\", \"info\");\n    });\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYtamF2YXNjcmlwdHMvY2hhdC9qcy9mZXRjaEFjdGl2ZUNoYXQuZGV2LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxjQUFjLEdBQUdDLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixnQkFBeEIsQ0FBckI7QUFDQSxJQUFJQyxpQkFBaUIsR0FBR0YsUUFBUSxDQUFDQyxjQUFULENBQXdCLG1CQUF4QixDQUF4QjtBQUNBLElBQUlFLGdCQUFnQixHQUFHSCxRQUFRLENBQUNDLGNBQVQsQ0FBd0Isa0JBQXhCLENBQXZCO0FBQ0EsSUFBSUcsMEJBQTBCLEdBQUdKLFFBQVEsQ0FBQ0MsY0FBVCxDQUMvQiw0QkFEK0IsQ0FBakMsRUFJQTs7QUFDTyxlQUFlSSxlQUFmLENBQStCQyxNQUEvQixFQUF1QztFQUM1QyxJQUFJQyxZQUFZLEdBQUdMLGlCQUFpQixDQUFDTSxPQUFsQixDQUEwQkYsTUFBN0M7O0VBRUEsSUFBSUMsWUFBWSxLQUFLLEVBQWpCLElBQXVCQSxZQUFZLEtBQUtELE1BQTVDLEVBQW9EO0lBQ2xERyxPQUFPLENBQUNDLFNBQVIsQ0FBa0JDLGNBQWxCLEVBQWtDLEVBQWxDLEVBQXVDLFVBQVNMLE1BQU8sRUFBdkQ7SUFDQU4sUUFBUSxDQUFDWSxLQUFULEdBQWtCLEdBQUVELGNBQWMsQ0FBQ0UsUUFBUyxRQUE1QztJQUVBZCxjQUFjLENBQUNlLFNBQWYsQ0FBeUJDLEdBQXpCLENBQTZCLG9DQUE3QjtJQUVBYixpQkFBaUIsQ0FBQ1ksU0FBbEIsQ0FBNEJFLE1BQTVCLENBQW1DLDJCQUFuQztJQUVBLElBQUksQ0FBQ2IsZ0JBQWdCLENBQUNXLFNBQWpCLENBQTJCRyxRQUEzQixDQUFvQywwQkFBcEMsQ0FBTCxFQUNFZCxnQkFBZ0IsQ0FBQ1csU0FBakIsQ0FBMkJDLEdBQTNCLENBQStCLDBCQUEvQjtJQUVGWCwwQkFBMEIsQ0FBQ2MsU0FBM0IsR0FDRWQsMEJBQTBCLENBQUNlLFlBRDdCO0VBRUQsQ0FiRCxNQWFPO0lBQ0xDLEtBQUssQ0FBRSxtQkFBa0JkLE1BQU8sRUFBM0IsQ0FBTCxDQUNHZSxJQURILENBQ1FDLFFBQVEsSUFBSTtNQUNoQixJQUFJQSxRQUFRLENBQUNDLEVBQWIsRUFBaUI7UUFDZixPQUFPRCxRQUFRLENBQUNFLElBQVQsRUFBUDtNQUNEOztNQUNELE9BQU9DLE9BQU8sQ0FBQ0MsTUFBUixDQUFlSixRQUFmLENBQVA7SUFDRCxDQU5ILEVBT0dELElBUEgsQ0FPUSxNQUFNTSxJQUFOLElBQWM7TUFDbEIsSUFBSUEsSUFBSSxDQUFDQyxTQUFULEVBQW9CO1FBQ2xCakIsY0FBYyxHQUFHLEVBQUUsR0FBR2dCLElBQUksQ0FBQ0U7UUFBVixDQUFqQjtRQUNBcEIsT0FBTyxDQUFDQyxTQUFSLENBQWtCaUIsSUFBSSxDQUFDRSxJQUF2QixFQUE2QixFQUE3QixFQUFrQyxVQUFTdkIsTUFBTyxFQUFsRDtRQUNBTixRQUFRLENBQUNZLEtBQVQsR0FBa0IsR0FBRWUsSUFBSSxDQUFDRSxJQUFMLENBQVVoQixRQUFTLFFBQXZDO1FBQ0EsSUFBSTtVQUFFaUI7UUFBRixJQUE0QixNQUFNLDhPQUF0QztRQUdBQSxxQkFBcUIsQ0FBQ0gsSUFBSSxDQUFDRSxJQUFOLENBQXJCO01BQ0QsQ0FSRCxNQVFPO1FBQ0xwQixPQUFPLENBQUNzQixZQUFSLENBQXFCLEVBQXJCLEVBQXlCLEVBQXpCLEVBQTZCLE9BQTdCO1FBQ0EvQixRQUFRLENBQUNZLEtBQVQsR0FBaUIsT0FBakI7UUFFQWIsY0FBYyxDQUFDZSxTQUFmLENBQXlCRSxNQUF6QixDQUFnQyxvQ0FBaEM7UUFDQWQsaUJBQWlCLENBQUNZLFNBQWxCLENBQTRCQyxHQUE1QixDQUFnQywyQkFBaEM7UUFFQSxJQUFJWixnQkFBZ0IsQ0FBQ1csU0FBakIsQ0FBMkJHLFFBQTNCLENBQW9DLDBCQUFwQyxDQUFKLEVBQ0VkLGdCQUFnQixDQUFDVyxTQUFqQixDQUEyQkUsTUFBM0IsQ0FBa0MsMEJBQWxDO1FBQ0YsSUFBSTtVQUFFZ0I7UUFBRixJQUE2QixNQUFNLHNYQUF2QztRQUdBQSxzQkFBc0IsQ0FBQ0wsSUFBSSxDQUFDTSxLQUFOLEVBQWEsT0FBYixDQUF0QjtNQUNEO0lBQ0YsQ0E5QkgsRUErQkdDLEtBL0JILENBK0JTLE1BQU1DLEdBQU4sSUFBYTtNQUNsQkMsT0FBTyxDQUFDQyxHQUFSLENBQVksNkJBQVosRUFBMkNGLEdBQTNDO01BQ0ExQixPQUFPLENBQUNzQixZQUFSLENBQXFCLEVBQXJCLEVBQXlCLEVBQXpCLEVBQTZCLE9BQTdCO01BQ0EvQixRQUFRLENBQUNZLEtBQVQsR0FBaUIsT0FBakI7TUFFQWIsY0FBYyxDQUFDZSxTQUFmLENBQXlCRSxNQUF6QixDQUFnQyxvQ0FBaEM7TUFDQWQsaUJBQWlCLENBQUNZLFNBQWxCLENBQTRCQyxHQUE1QixDQUFnQywyQkFBaEM7TUFFQSxJQUFJWixnQkFBZ0IsQ0FBQ1csU0FBakIsQ0FBMkJHLFFBQTNCLENBQW9DLDBCQUFwQyxDQUFKLEVBQ0VkLGdCQUFnQixDQUFDVyxTQUFqQixDQUEyQkUsTUFBM0IsQ0FBa0MsMEJBQWxDO01BQ0YsSUFBSTtRQUFFZ0I7TUFBRixJQUE2QixNQUFNLHNYQUF2QztNQUdBQSxzQkFBc0IsQ0FDcEIsc0RBRG9CLEVBRXBCLE1BRm9CLENBQXRCO0lBSUQsQ0FoREg7RUFpREQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vZGV2LWphdmFzY3JpcHRzL2NoYXQvanMvZmV0Y2hBY3RpdmVDaGF0LmRldi5qcz9mYWVmIl0sInNvdXJjZXNDb250ZW50IjpbImxldCBhbGxDaGF0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWxsQ2hhdFNlY3Rpb25cIilcclxubGV0IGFjdGl2ZUNoYXRTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0U2VjdGlvblwiKVxyXG5sZXQgZW1wdHlDaGF0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW1wdHlDaGF0U2VjdGlvblwiKVxyXG5sZXQgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICBcImFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyXCJcclxuKVxyXG5cclxuLy8gYWN0aXZlQ2hhdERhdGEgaXMgZGVmaW5lIGluIG1haW4gbGF5b3V0IGFzIGdsb2JhbCBvYmplY3RcclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoQWN0aXZlQ2hhdChjaGF0SWQpIHtcclxuICBsZXQgYWN0aXZlQ2hhdElkID0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWRcclxuXHJcbiAgaWYgKGFjdGl2ZUNoYXRJZCAhPT0gXCJcIiAmJiBhY3RpdmVDaGF0SWQgPT09IGNoYXRJZCkge1xyXG4gICAgaGlzdG9yeS5wdXNoU3RhdGUoYWN0aXZlQ2hhdERhdGEsIFwiXCIsIGAvY2hhdC8jJHtjaGF0SWR9YClcclxuICAgIGRvY3VtZW50LnRpdGxlID0gYCR7YWN0aXZlQ2hhdERhdGEuY2hhdE5hbWV9IGNoYXQgYFxyXG5cclxuICAgIGFsbENoYXRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJhbGwtY2hhdC1zZWN0aW9uLS1vcGVuLWFjdGl2ZS1jaGF0XCIpXHJcblxyXG4gICAgYWN0aXZlQ2hhdFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1jaGF0LXNlY3Rpb24tLWhpZGVcIilcclxuXHJcbiAgICBpZiAoIWVtcHR5Q2hhdFNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKFwiZW1wdHktY2hhdC1zZWN0aW9uLS1oaWRlXCIpKVxyXG4gICAgICBlbXB0eUNoYXRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJlbXB0eS1jaGF0LXNlY3Rpb24tLWhpZGVcIilcclxuXHJcbiAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5zY3JvbGxUb3AgPVxyXG4gICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5zY3JvbGxIZWlnaHRcclxuICB9IGVsc2Uge1xyXG4gICAgZmV0Y2goYC9jaGF0L2RhdGEvY2hhdC8ke2NoYXRJZH1gKVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZSlcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAgICAgaWYgKGRhdGEuaXNTdWNjZXNzKSB7XHJcbiAgICAgICAgICBhY3RpdmVDaGF0RGF0YSA9IHsgLi4uZGF0YS5jaGF0IH1cclxuICAgICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKGRhdGEuY2hhdCwgXCJcIiwgYC9jaGF0LyMke2NoYXRJZH1gKVxyXG4gICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBgJHtkYXRhLmNoYXQuY2hhdE5hbWV9IGNoYXQgYFxyXG4gICAgICAgICAgbGV0IHsgc2hvd0FjdGl2ZUNoYXRTZWN0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICAgIFwiLi9zaG93QWN0aXZlQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgICAgIClcclxuICAgICAgICAgIHNob3dBY3RpdmVDaGF0U2VjdGlvbihkYXRhLmNoYXQpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBcIlwiLCBcIi9jaGF0XCIpXHJcbiAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IFwiQ2hhdHNcIlxyXG5cclxuICAgICAgICAgIGFsbENoYXRTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJhbGwtY2hhdC1zZWN0aW9uLS1vcGVuLWFjdGl2ZS1jaGF0XCIpXHJcbiAgICAgICAgICBhY3RpdmVDaGF0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLWNoYXQtc2VjdGlvbi0taGlkZVwiKVxyXG5cclxuICAgICAgICAgIGlmIChlbXB0eUNoYXRTZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucyhcImVtcHR5LWNoYXQtc2VjdGlvbi0taGlkZVwiKSlcclxuICAgICAgICAgICAgZW1wdHlDaGF0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiZW1wdHktY2hhdC1zZWN0aW9uLS1oaWRlXCIpXHJcbiAgICAgICAgICBsZXQgeyBjcmVhdGVNYWluTm90aWZpY2F0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICAgIFwiLi4vLi4vY29tbW9uL21haW5Ob3RpZmljYXRpb24uZGV2XCJcclxuICAgICAgICAgIClcclxuICAgICAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oZGF0YS5lcnJvciwgXCJlcnJvclwiKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGFzeW5jIGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJlcnJvciBpbiBmZXRjaCBBY3RpdmUgQ2hhdDpcIiwgZXJyKVxyXG4gICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBcIlwiLCBcIi9jaGF0XCIpXHJcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBcIkNoYXRzXCJcclxuXHJcbiAgICAgICAgYWxsQ2hhdFNlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZShcImFsbC1jaGF0LXNlY3Rpb24tLW9wZW4tYWN0aXZlLWNoYXRcIilcclxuICAgICAgICBhY3RpdmVDaGF0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLWNoYXQtc2VjdGlvbi0taGlkZVwiKVxyXG5cclxuICAgICAgICBpZiAoZW1wdHlDaGF0U2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJlbXB0eS1jaGF0LXNlY3Rpb24tLWhpZGVcIikpXHJcbiAgICAgICAgICBlbXB0eUNoYXRTZWN0aW9uLmNsYXNzTGlzdC5yZW1vdmUoXCJlbXB0eS1jaGF0LXNlY3Rpb24tLWhpZGVcIilcclxuICAgICAgICBsZXQgeyBjcmVhdGVNYWluTm90aWZpY2F0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICBcIi4uLy4uL2NvbW1vbi9tYWluTm90aWZpY2F0aW9uLmRldlwiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oXHJcbiAgICAgICAgICBcIlNlcnZlciBFcnJvciBPciBNYXkgYmUgWW91IEFyZSBBY2Nlc3NpbmcgV3JvbmcgQ2hhdC5cIixcclxuICAgICAgICAgIFwiaW5mb1wiXHJcbiAgICAgICAgKVxyXG4gICAgICB9KVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiYWxsQ2hhdFNlY3Rpb24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYWN0aXZlQ2hhdFNlY3Rpb24iLCJlbXB0eUNoYXRTZWN0aW9uIiwiYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIiLCJmZXRjaEFjdGl2ZUNoYXQiLCJjaGF0SWQiLCJhY3RpdmVDaGF0SWQiLCJkYXRhc2V0IiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImFjdGl2ZUNoYXREYXRhIiwidGl0bGUiLCJjaGF0TmFtZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImNvbnRhaW5zIiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiZGF0YSIsImlzU3VjY2VzcyIsImNoYXQiLCJzaG93QWN0aXZlQ2hhdFNlY3Rpb24iLCJyZXBsYWNlU3RhdGUiLCJjcmVhdGVNYWluTm90aWZpY2F0aW9uIiwiZXJyb3IiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./dev-javascripts/chat/js/fetchActiveChat.dev.js\n");

/***/ })

}]);