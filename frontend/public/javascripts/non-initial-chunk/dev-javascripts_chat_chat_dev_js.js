"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_chat_chat_dev_js"],{

/***/ "./dev-javascripts/chat/chat.dev.js":
/*!******************************************!*\
  !*** ./dev-javascripts/chat/chat.dev.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"adjustMessageContainerBottomPadding\": () => (/* binding */ adjustMessageContainerBottomPadding),\n/* harmony export */   \"openActiveChatInputBox\": () => (/* binding */ openActiveChatInputBox),\n/* harmony export */   \"openActivechatInputAttachmentBox\": () => (/* binding */ openActivechatInputAttachmentBox)\n/* harmony export */ });\nconst allChatSection = document.getElementById(\"allChatSection\");\nconst activeChatSection = document.getElementById(\"activeChatSection\");\nconst activeChatMessageContainer = document.getElementById(\"activeChatMessageContainer\");\nlet activeChatInputTextContent = document.getElementById(\"activeChatInputTextContent\");\nlet allChatChatBoxContainer = document.getElementById(\"allChatChatBoxContainer\");\nlet isUserTyping = false;\nlet lastActiveChatId = activeChatSection.dataset.chatId.toString();\n\n(async function () {\n  if (!IS_INIT_CHAT_MODULE) {\n    async function checkChatState() {\n      // console.log(location)\n      // console.log(history)\n      if (location.hash) {\n        let chatId = location.hash.replace(\"#\", \"\");\n        let {\n          fetchActiveChat\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_fetchActiveChat_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./js/fetchActiveChat.dev */ \"./dev-javascripts/chat/js/fetchActiveChat.dev.js\"));\n        fetchActiveChat(chatId);\n      } else {\n        // history.replaceState({}, \"\", \"\")\n        document.title = \"Chats\";\n        allChatSection.classList.remove(\"all-chat-section--hide\");\n        activeChatSection.classList.add(\"active-chat-section--hide\");\n      }\n    }\n\n    document.addEventListener(\"DOMContentLoaded\", checkChatState);\n    window.addEventListener(\"popstate\", checkChatState); //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // active chat message container\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // active chat input container\n\n    const activeChatInputContainer = document.getElementById(\"activeChatInputContainer\");\n    const activeChatInputTextContent = document.getElementById(\"activeChatInputTextContent\");\n    const activeChatInputAttachmentBox = document.getElementById(\"activeChatInputAttachmentBox\");\n    activeChatInputTextContent.addEventListener(\"input\", () => {\n      if (activeChatInputTextContent.value === \"\") {\n        activeChatInputAttachmentBox.classList.remove(\"active-chat-input-attachment-box--hide\");\n      } else {\n        if (!activeChatInputAttachmentBox.classList.contains(\"active-chat-input-attachment-box--hide\")) {\n          activeChatInputAttachmentBox.classList.add(\"active-chat-input-attachment-box--hide\");\n        }\n      }\n\n      activeChatInputTextContent.style.height = \"auto\";\n      activeChatInputTextContent.style.height = activeChatInputTextContent.scrollHeight + \"px\";\n      adjustMessageContainerBottomPadding();\n    }, false); ///////////////////////////////////////////////////\n\n    const {\n      default: insertTextAtCursor\n    } = await __webpack_require__.e(/*! import() */ \"node_modules_insert-text-at-cursor_dist_index_esm_js\").then(__webpack_require__.bind(__webpack_require__, /*! insert-text-at-cursor */ \"./node_modules/insert-text-at-cursor/dist/index.esm.js\"));\n    const {\n      Picker\n    } = await __webpack_require__.e(/*! import() */ \"vendors-node_modules_emoji-mart_dist_module_js\").then(__webpack_require__.bind(__webpack_require__, /*! emoji-mart */ \"./node_modules/emoji-mart/dist/module.js\"));\n\n    function getEmojiAndAddToInput(emoji) {\n      insertTextAtCursor(activeChatInputTextContent, emoji.native);\n    }\n\n    const activeChatInputEmojiBtn = document.getElementById(\"activeChatInputEmojiBtn\");\n    const activeChatInputEmojiContainer = document.getElementById(\"activeChatInputEmojiContainer\");\n    let emojiPickerOptions = {\n      parent: activeChatInputEmojiContainer,\n      data: async () => {\n        const data = await __webpack_require__.e(/*! import() */ \"vendors-node_modules_emoji-mart_data_sets_14_native_json\").then(__webpack_require__.t.bind(__webpack_require__, /*! @emoji-mart/data */ \"./node_modules/@emoji-mart/data/sets/14/native.json\", 19));\n        return data;\n      },\n      onEmojiSelect: getEmojiAndAddToInput,\n      // onClickOutside: () => {\n      //   console.log(\"hello\")\n      // },\n      autoFocus: false,\n      emojiButtonColors: [\"rgba(155, 223, 88, 0.7)\", \"rgba(155, 40, 88, 0.7)\", \"rgba(40, 223, 88, 0.7)\", \"rgba(155, 223, 88, 0.7)\", \"rgba(40, 223, 223, 0.7)\", \"rgba(20, 150, 150, 0.7)\", \"rgba(150, 150, 20, 0.7)\", \"rgba(150, 20, 150, 0.7)\"],\n      emojiButtonSize: 40,\n      // emojiSize: 25,\n      emojiVersion: 14,\n      icons: \"auto\",\n      maxFrequentRows: 2,\n      navPosition: \"bottom\",\n      previewPosition: \"none\",\n      set: \"native\",\n      dynamicWidth: true\n    };\n    let emojiPicker = new Picker(emojiPickerOptions);\n    activeChatInputEmojiBtn.addEventListener(\"click\", () => {\n      activeChatInputEmojiContainer.classList.toggle(\"active-chat-input-box__emoji-container--hide\");\n    }); ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // input message creation\n\n    let {\n      closeReplyMessageBox\n    } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_replyMessageBox_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./js/replyMessageBox.dev.js */ \"./dev-javascripts/chat/js/replyMessageBox.dev.js\")); // ///////////////////////////////////////////////////////////// /////////////////////////////////////////////////////\n\n    const {\n      checkTimeAndCreateNewMessage\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n    const {\n      updateAllChatSection\n    } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n    const {\n      default: Uppy\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_lib_index_js\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @uppy/core */ \"./node_modules/@uppy/core/lib/index.js\", 23));\n    const {\n      default: Dashboard\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_dashboard_lib_index_js\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @uppy/dashboard */ \"./node_modules/@uppy/dashboard/lib/index.js\", 23));\n    const {\n      default: Webcam\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_webcam_lib_index_js\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @uppy/webcam */ \"./node_modules/@uppy/webcam/lib/index.js\", 23));\n    const {\n      default: ImageEditor\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_image-editor_lib_index_js\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @uppy/image-editor */ \"./node_modules/@uppy/image-editor/lib/index.js\", 23));\n    const {\n      default: Audio\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_audio_lib_index_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/audio */ \"./node_modules/@uppy/audio/lib/index.js\"));\n    await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_uppy_core_dist_style_css\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de0\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/core/dist/style.css */ \"./node_modules/@uppy/core/dist/style.css\"));\n    await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_uppy_dashboard_dist_style_css\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-784fbd\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/dashboard/dist/style.css */ \"./node_modules/@uppy/dashboard/dist/style.css\"));\n    await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_uppy_webcam_dist_style_css\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_getUrl_js-no-6b1333\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/webcam/dist/style.css */ \"./node_modules/@uppy/webcam/dist/style.css\"));\n    await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_uppy_image-editor_dist_style_css\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_getUrl_js-no-f4d24e\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/image-editor/dist/style.css */ \"./node_modules/@uppy/image-editor/dist/style.css\"));\n    await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_uppy_audio_dist_style_css\"), __webpack_require__.e(\"data_image_svg_xml_charset_US-ASCII_3Csvg_20xmlns_3D_22http_3A_2F_2Fwww_w3_org_2F2000_2Fsvg_2-cd289e\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/audio/dist/style.css */ \"./node_modules/@uppy/audio/dist/style.css\"));\n    const {\n      default: AwsS3Multipart\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_aws-s3-multipart_lib_index_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/aws-s3-multipart */ \"./node_modules/@uppy/aws-s3-multipart/lib/index.js\"));\n    const uppy = new Uppy({\n      id: \"chatMedia\",\n      autoProceed: false,\n      allowMultipleUploadBatches: true,\n      debug: false,\n      onBeforeFileAdded: (currentFile, files) => {\n        console.log(currentFile);\n\n        if (!currentFile.type) {\n          uppy.log(`Skipping file because it has no type`);\n          uppy.info(`Skipping file because it has no type`, \"error\", 500);\n          return false;\n        } else {\n          currentFile.name = \"\";\n          return currentFile;\n        }\n      },\n      onBeforeUpload: files => {// const updatedFiles = {}\n        // Object.keys(files).forEach(fileID => {\n        //   updatedFiles[fileID] = {\n        //     ...files[fileID],\n        //     meta: {\n        //       ...files[fileID].meta,\n        //       fileType: files[fileID].type\n        //     }\n        //   }\n        // })\n        // console.log(updatedFiles)\n        // return updatedFiles\n      },\n      restrictions: {\n        maxFileSize: 1024 * 1024 * 100,\n        minFileSize: null,\n        maxTotalFileSize: 1024 * 1024 * 100 * 10,\n        maxNumberOfFiles: 10,\n        minNumberOfFiles: 1,\n        allowedFileTypes: [\"image/jpeg\", \"image/png\", \"image/gif\", \"image/svg+xml\", \"image/x-png\", \"audio/mpeg\", \"audio/wav\", \"audio/x-wav\", \"audio/ogg\", \"audio/webm\", // \"audio/*\",\n        \"video/mp4\", \"video/webm\", \"video/ogg\", \"video/quicktime\", \"video/x-matroska\"]\n      },\n      meta: {\n        mediaType: \"chat-media\"\n      },\n      infoTimeout: 5000\n    }).use(Dashboard, {\n      trigger: \"#activeChatInputAttachmentFileBtn\",\n      target: \"body\",\n      inline: false,\n      plugins: [\"Webcam\", \"ImageEditor\", \"Audio\"],\n      thumbnailWidth: 300,\n      // closeAfterFinish: false,\n      showRemoveButtonAfterComplete: false,\n      disablePageScrollWhenModalOpen: true,\n      closeModalOnClickOutside: true,\n      theme: \"light\",\n      locale: {\n        strings: {}\n      },\n      note: \"Images, Audios and videos only, up to 10 files, 1 file up to 100 MB\",\n      proudlyDisplayPoweredByUppy: false\n    }).use(Webcam, {\n      target: Dashboard,\n      title: \"Camera\",\n      mirror: true,\n      modes: [\"video-audio\", \"video-only\", \"picture\"],\n      preferredVideoMimeType: \"video/mp4\",\n      showRecordingLength: true\n    }).use(ImageEditor, {\n      target: Dashboard,\n      quality: 0.8\n    }).use(Audio, {\n      id: \"Audio\",\n      target: Dashboard,\n      showAudioSourceDropdown: false\n    }).use(AwsS3Multipart, {\n      limit: 4,\n      companionUrl: \"http://localhost:5000/companion\"\n    }); // uppy.on(\"complete\", result => {\n    //   console.log(\n    //     \"Upload complete! Weâ€™ve uploaded these files:\",\n    //     result.successful\n    //   )\n    // })\n\n    uppy.on(\"upload-success\", (file, response) => {\n      let userMessage = {};\n      userMessage.chat = activeChatSection.dataset.chatId;\n      userMessage.hasMediaContent = true;\n      userMessage.mediaContentType = file.type.split(\"/\")[0];\n      userMessage.mediaContentMimeType = file.type;\n      userMessage.mediaContentPath = file.s3Multipart.key;\n      userMessage.repliedTo = activeChatInputContainer.dataset.repliedTo;\n      fetch(\"/message\", {\n        method: \"POST\",\n        // or 'PUT'\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(userMessage)\n      }).then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n\n        return Promise.reject(response);\n      }).then(async data => {\n        if (data.isSuccess) {\n          checkTimeAndCreateNewMessage(data.message, activeChatMessageContainer);\n          closeReplyMessageBox();\n          updateAllChatSection(data.message);\n        } else {\n          let {\n            createMainNotification\n          } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_common_mainNotification_dev_js-_81c90\").then(__webpack_require__.bind(__webpack_require__, /*! ../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n          createMainNotification(data.error, \"error\");\n        }\n      }).catch(async err => {\n        console.log(err);\n        let {\n          createMainNotification\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_common_mainNotification_dev_js-_81c90\").then(__webpack_require__.bind(__webpack_require__, /*! ../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n        createMainNotification(\"Server Error In Sending Message, Please Try Again\", \"error\");\n      });\n    }); // active chat input youtube send btn\n\n    const activeChatInputAttachmentYoutubeContentSendBtn = document.getElementById(\"activeChatInputAttachmentYoutubeContentSendBtn\");\n    const activeChatInputAttachmentYoutubeContent = document.getElementById(\"activeChatInputAttachmentYoutubeContent\");\n    activeChatInputAttachmentYoutubeContentSendBtn.addEventListener(\"click\", () => {\n      let userMessage = {};\n\n      if (activeChatInputAttachmentYoutubeContent.value !== \"\") {\n        userMessage.chat = activeChatSection.dataset.chatId;\n        userMessage.hasMediaContent = true;\n        userMessage.mediaContentType = \"youtube\";\n        userMessage.mediaContentMimeType = \"video/mp4\";\n        userMessage.mediaContentPath = activeChatInputAttachmentYoutubeContent.value;\n        userMessage.repliedTo = activeChatInputContainer.dataset.repliedTo;\n        activeChatInputAttachmentYoutubeContent.value = \"\";\n        fetch(\"/message\", {\n          method: \"POST\",\n          // or 'PUT'\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(userMessage)\n        }).then(response => {\n          if (response.ok) {\n            return response.json();\n          }\n\n          return Promise.reject(response);\n        }).then(async data => {\n          if (data.isSuccess) {\n            checkTimeAndCreateNewMessage(data.message, activeChatMessageContainer);\n            closeReplyMessageBox();\n            document.getElementById(\"activeChatInputAttachmentYoutubeBtnInputBox\").classList.add(\"input-attachment-btn-box__input-box--hide\");\n            updateAllChatSection(data.message);\n            activeChatInputAttachmentYoutubeBtnInputBox.classList.add(\"attachment-btn-box__input-box--hide\");\n          } else {\n            let {\n              createMainNotification\n            } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_common_mainNotification_dev_js-_81c90\").then(__webpack_require__.bind(__webpack_require__, /*! ../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n            createMainNotification(data.error, \"error\");\n          }\n        }).catch(async err => {\n          console.log(err);\n          let {\n            createMainNotification\n          } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_common_mainNotification_dev_js-_81c90\").then(__webpack_require__.bind(__webpack_require__, /*! ../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n          createMainNotification(\"Server Error In Sending Message, Please Try Again\", \"error\");\n        });\n      }\n    }); /////////////////////////////////////////////////////////////\n    // active chat input send btn\n\n    const activeChatInputSendBtn = document.getElementById(\"activeChatInputSendBtn\");\n    activeChatInputSendBtn.addEventListener(\"click\", async () => {\n      let userMessage = {};\n\n      if (activeChatInputTextContent.value.trim() !== \"\" && activeChatSection.dataset.chatId !== \"\") {\n        userMessage.chat = activeChatSection.dataset.chatId;\n        userMessage.hasMediaContent = false;\n        userMessage.textContent = activeChatInputTextContent.value.trim();\n        userMessage.repliedTo = activeChatInputContainer.dataset.repliedTo;\n        activeChatInputTextContent.value = \"\";\n\n        if (activeChatSection.dataset.chatId !== \"\") {\n          let {\n            sendChatMessageStopTypingSocket\n          } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_socket_event-emitter_chat-socket_index_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../socket/event-emitter/chat-socket */ \"./dev-javascripts/socket/event-emitter/chat-socket/index.js\"));\n          sendChatMessageStopTypingSocket(activeChatSection.dataset.chatId);\n          isUserTyping = false;\n        }\n\n        fetch(\"/message\", {\n          method: \"POST\",\n          // or 'PUT'\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify(userMessage)\n        }).then(response => {\n          if (response.ok) {\n            return response.json();\n          }\n\n          return Promise.reject(response);\n        }).then(async data => {\n          if (data.isSuccess) {\n            activeChatInputAttachmentBox.classList.remove(\"active-chat-input-attachment-box--hide\");\n            activeChatInputTextContent.style.height = \"auto\";\n            activeChatInputTextContent.style.height = activeChatInputTextContent.scrollHeight + \"px\";\n\n            if (parseInt(activeChatInputTextContent.style.height.slice(0, -2)) <= 40) {\n              activeChatMessageContainer.style.paddingBottom = \"60px\";\n            } else {\n              activeChatMessageContainer.style.paddingBottom = activeChatInputTextContent.style.height;\n            }\n\n            checkTimeAndCreateNewMessage(data.message, activeChatMessageContainer);\n            closeReplyMessageBox();\n            updateAllChatSection(data.message);\n            activeChatMessageContainer.scrollTop = activeChatMessageContainer.scrollHeight + 1000;\n          } else {\n            let {\n              createMainNotification\n            } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_common_mainNotification_dev_js-_81c90\").then(__webpack_require__.bind(__webpack_require__, /*! ../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n            createMainNotification(data.error, \"error\");\n          }\n        }).catch(async err => {\n          console.log(err);\n          let {\n            createMainNotification\n          } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_common_mainNotification_dev_js-_81c90\").then(__webpack_require__.bind(__webpack_require__, /*! ../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n          createMainNotification(\"Server Error In Sending Message, Please Try Again\", \"error\");\n        });\n      }\n    }); ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n    // active-chat-input-attachment-box\n\n    const activeChatInputAttachmentBoxBtn = document.getElementById(\"activeChatInputAttachmentBoxBtn\");\n    activeChatInputAttachmentBoxBtn.addEventListener(\"click\", () => {\n      if (activeChatInputAttachmentBoxBtn.classList.contains(\"active-chat-input-attachment-box__btn--selected\")) {\n        openActiveChatInputBox();\n      } else {\n        openActivechatInputAttachmentBox();\n      }\n    });\n    const activeChatInputAttachmentYoutubeBtn = document.getElementById(\"activeChatInputAttachmentYoutubeBtn\");\n    const activeChatInputAttachmentYoutubeBtnInputBox = document.getElementById(\"activeChatInputAttachmentYoutubeBtnInputBox\");\n    activeChatInputAttachmentYoutubeBtn.addEventListener(\"click\", () => {\n      activeChatInputAttachmentYoutubeBtnInputBox.classList.toggle(\"input-attachment-btn-box__input-box--hide\");\n    }); // initialize event to active chat\n    ////////////////////\n    ///////////////////\n    // active chat to all chat btn\n\n    const ActiveChatToAllChatBtn = document.getElementById(\"ActiveChatToAllChatBtn\");\n    ActiveChatToAllChatBtn.addEventListener(\"click\", async () => {\n      location.hash = \"\";\n\n      if (activeChatSection.dataset.chatId !== \"\") {\n        let {\n          sendChatMessageStopTypingSocket\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_socket_event-emitter_chat-socket_index_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../socket/event-emitter/chat-socket */ \"./dev-javascripts/socket/event-emitter/chat-socket/index.js\"));\n        sendChatMessageStopTypingSocket(activeChatSection.dataset.chatId);\n        isUserTyping = false;\n      }\n    }); //active chat header pic and active chat header name\n\n    let activeChatHeaderPic = document.getElementById(\"activeChatHeaderPic\");\n    activeChatHeaderPic.addEventListener(\"click\", async () => {\n      let activeChatId = activeChatSection.dataset.chatId;\n\n      if (activeChatId != \"\") {\n        let {\n          createActiveChatInfoModal\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_chat_js_createActiveChatInfoModal_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./js/createActiveChatInfoModal.dev.js */ \"./dev-javascripts/chat/js/createActiveChatInfoModal.dev.js\"));\n        createActiveChatInfoModal(activeChatId);\n      }\n    });\n    let activeChatHeaderName = document.getElementById(\"activeChatHeaderName\");\n    activeChatHeaderName.addEventListener(\"click\", async () => {\n      let activeChatId = activeChatSection.dataset.chatId;\n\n      if (activeChatId != \"\") {\n        let {\n          createActiveChatInfoModal\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_chat_js_createActiveChatInfoModal_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./js/createActiveChatInfoModal.dev.js */ \"./dev-javascripts/chat/js/createActiveChatInfoModal.dev.js\"));\n        createActiveChatInfoModal(activeChatId);\n      }\n    }); ////////////////////\n    // create new group chat btn\n    // group chat form Modal and assign event to btn\n\n    const createNewGroupChatBtn = document.getElementById(\"createNewGroupChatBtn\");\n    createNewGroupChatBtn.addEventListener(\"click\", async () => {\n      let {\n        createGroupChatFormModal\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_dashboard_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_dashboard_dist_style_css\"), __webpack_require__.e(\"vendors-node_modules_uppy_image-editor_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_aws-s3-multipart_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_webcam_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_image-editor_dist_style_css\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_dist_style_css\"), __webpack_require__.e(\"vendors-node_modules_uppy_webcam_dist_style_css\"), __webpack_require__.e(\"dev-javascripts_chat_js_createGroupChatFormModal_dev_js-data_image_png_base64_iVBORw0KGgoAAAA-4573f1\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de2\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./js/createGroupChatFormModal.dev */ \"./dev-javascripts/chat/js/createGroupChatFormModal.dev.js\"));\n      createGroupChatFormModal();\n    });\n    initialiseEventForChatModule();\n    IS_INIT_CHAT_MODULE = true;\n  }\n})();\n\nfunction openActivechatInputAttachmentBox() {\n  document.getElementById(\"activeChatInputAttachmentBoxBtn\").classList.add(\"active-chat-input-attachment-box__btn--selected\");\n  const activeChatInputAttachmentBox = document.getElementById(\"activeChatInputAttachmentBox\");\n  activeChatInputAttachmentBox.classList.add(\"active-chat-input-attachment-box--selected\");\n  activeChatInputAttachmentBox.classList.remove(\"active-chat-input-attachment-box--hide\");\n  document.getElementById(\"activeChatInputAttachmentBtnContainer\").classList.remove(\"input-attachment-btn-container--hide\");\n  document.getElementById(\"activeChatInputBox\").classList.add(\"active-chat-input-box--hide\");\n  document.getElementById(\"activeChatInputSendBox\").classList.add(\"active-chat-input-send-box--hide\");\n  document.getElementById(\"activeChatInputAttachmentYoutubeBtnInputBox\").classList.add(\"input-attachment-btn-box__input-box--hide\");\n  adjustMessageContainerBottomPadding();\n}\nfunction openActiveChatInputBox() {\n  document.getElementById(\"activeChatInputAttachmentBoxBtn\").classList.remove(\"active-chat-input-attachment-box__btn--selected\");\n  document.getElementById(\"activeChatInputAttachmentBox\").classList.remove(\"active-chat-input-attachment-box--selected\");\n  document.getElementById(\"activeChatInputAttachmentBtnContainer\").classList.add(\"input-attachment-btn-container--hide\");\n  document.getElementById(\"activeChatInputBox\").classList.remove(\"active-chat-input-box--hide\");\n  document.getElementById(\"activeChatInputSendBox\").classList.remove(\"active-chat-input-send-box--hide\");\n  adjustMessageContainerBottomPadding();\n}\nfunction adjustMessageContainerBottomPadding() {\n  activeChatMessageContainer.style.paddingBottom = activeChatInputContainer.clientHeight + 5 + \"px\";\n  activeChatMessageContainer.scrollTop = activeChatMessageContainer.scrollHeight + 1000;\n}\n\nfunction initialiseEventForChatModule() {\n  document.getElementById(\"activeChatInputReplyBoxCloseBtn\").addEventListener(\"click\", async () => {\n    let {\n      closeReplyMessageBox\n    } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_replyMessageBox_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./js/replyMessageBox.dev */ \"./dev-javascripts/chat/js/replyMessageBox.dev.js\"));\n    closeReplyMessageBox();\n  }); //send chat:message-typing event\n\n  activeChatInputTextContent.addEventListener(\"input\", async e => {\n    if (activeChatSection.dataset.chatId !== \"\") {\n      if (lastActiveChatId !== \"\" && lastActiveChatId !== activeChatSection.dataset.chatId) {\n        let {\n          sendChatMessageStopTypingSocket\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_socket_event-emitter_chat-socket_index_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../socket/event-emitter/chat-socket */ \"./dev-javascripts/socket/event-emitter/chat-socket/index.js\"));\n        sendChatMessageStopTypingSocket(lastActiveChatId);\n        isUserTyping = false;\n        lastActiveChatId = activeChatSection.dataset.chatId.toString();\n      }\n\n      lastActiveChatId = activeChatSection.dataset.chatId.toString();\n      let chatId = activeChatSection.dataset.chatId.toString();\n      const inputValue = activeChatInputTextContent.value.trim();\n\n      if (inputValue && !isUserTyping) {\n        isUserTyping = true;\n        let {\n          sendChatMessageStartTypingSocket\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_socket_event-emitter_chat-socket_index_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../socket/event-emitter/chat-socket */ \"./dev-javascripts/socket/event-emitter/chat-socket/index.js\"));\n        sendChatMessageStartTypingSocket(chatId);\n      } else if (!inputValue && isUserTyping) {\n        isUserTyping = false;\n        let {\n          sendChatMessageStopTypingSocket\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_socket_event-emitter_chat-socket_index_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../socket/event-emitter/chat-socket */ \"./dev-javascripts/socket/event-emitter/chat-socket/index.js\"));\n        sendChatMessageStopTypingSocket(chatId);\n      }\n    }\n  });\n  allChatChatBoxContainer.addEventListener(\"click\", async e => {\n    let chatBox = e.target.closest(`.chat-box`);\n\n    if (chatBox && allChatChatBoxContainer.contains(chatBox)) {\n      let chatId = chatBox.dataset.chatId;\n\n      if (chatId) {\n        let {\n          fetchActiveChat\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_fetchActiveChat_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./js/fetchActiveChat.dev */ \"./dev-javascripts/chat/js/fetchActiveChat.dev.js\"));\n        fetchActiveChat(chatId);\n      }\n    } else {\n      return;\n    }\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNNLE9BQWxCLENBQTBCQyxNQUExQixDQUFpQ0MsUUFBakMsRUFBYjtNQUVBLE1BQU0ySixVQUFVLEdBQUdqSywwQkFBMEIsQ0FBQ3FCLEtBQTNCLENBQWlDdUgsSUFBakMsRUFBbkI7O01BRUEsSUFBSXFCLFVBQVUsSUFBSSxDQUFDL0osWUFBbkIsRUFBaUM7UUFDL0JBLFlBQVksR0FBRyxJQUFmO1FBQ0EsSUFBSTtVQUFFZ0s7UUFBRixJQUF1QyxNQUFNLGdRQUFqRDtRQUdBQSxnQ0FBZ0MsQ0FBQzdKLE1BQUQsQ0FBaEM7TUFDRCxDQU5ELE1BTU8sSUFBSSxDQUFDNEosVUFBRCxJQUFlL0osWUFBbkIsRUFBaUM7UUFDdENBLFlBQVksR0FBRyxLQUFmO1FBQ0EsSUFBSTtVQUFFNEk7UUFBRixJQUFzQyxNQUFNLGdRQUFoRDtRQUdBQSwrQkFBK0IsQ0FBQ3pJLE1BQUQsQ0FBL0I7TUFDRDtJQUNGO0VBQ0YsQ0FqQ0Q7RUFtQ0FKLHVCQUF1QixDQUFDZ0IsZ0JBQXhCLENBQXlDLE9BQXpDLEVBQWtELE1BQU0rSSxDQUFOLElBQVc7SUFDM0QsSUFBSUcsT0FBTyxHQUFHSCxDQUFDLENBQUMxRSxNQUFGLENBQVM4RSxPQUFULENBQWtCLFdBQWxCLENBQWQ7O0lBRUEsSUFBSUQsT0FBTyxJQUFJbEssdUJBQXVCLENBQUNxQixRQUF4QixDQUFpQzZJLE9BQWpDLENBQWYsRUFBMEQ7TUFDeEQsSUFBSTlKLE1BQU0sR0FBRzhKLE9BQU8sQ0FBQy9KLE9BQVIsQ0FBZ0JDLE1BQTdCOztNQUNBLElBQUlBLE1BQUosRUFBWTtRQUNWLElBQUk7VUFBRU87UUFBRixJQUFzQixNQUFNLCtOQUFoQztRQUNBQSxlQUFlLENBQUNQLE1BQUQsQ0FBZjtNQUNEO0lBQ0YsQ0FORCxNQU1PO01BQ0w7SUFDRDtFQUNGLENBWkQ7QUFhRCIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vZGV2LWphdmFzY3JpcHRzL2NoYXQvY2hhdC5kZXYuanM/ZWFhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBhbGxDaGF0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWxsQ2hhdFNlY3Rpb25cIilcclxuY29uc3QgYWN0aXZlQ2hhdFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRTZWN0aW9uXCIpXHJcbmNvbnN0IGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgXCJhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lclwiXHJcbilcclxubGV0IGFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgXCJhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudFwiXHJcbilcclxuXHJcbmxldCBhbGxDaGF0Q2hhdEJveENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWxsQ2hhdENoYXRCb3hDb250YWluZXJcIilcclxubGV0IGlzVXNlclR5cGluZyA9IGZhbHNlXHJcbmxldCBsYXN0QWN0aXZlQ2hhdElkID0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWQudG9TdHJpbmcoKVxyXG5cclxuOyhhc3luYyBmdW5jdGlvbiAoKSB7XHJcbiAgaWYgKCFJU19JTklUX0NIQVRfTU9EVUxFKSB7XHJcbiAgICBhc3luYyBmdW5jdGlvbiBjaGVja0NoYXRTdGF0ZSgpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2cobG9jYXRpb24pXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKGhpc3RvcnkpXHJcbiAgICAgIGlmIChsb2NhdGlvbi5oYXNoKSB7XHJcbiAgICAgICAgbGV0IGNoYXRJZCA9IGxvY2F0aW9uLmhhc2gucmVwbGFjZShcIiNcIiwgXCJcIilcclxuICAgICAgICBsZXQgeyBmZXRjaEFjdGl2ZUNoYXQgfSA9IGF3YWl0IGltcG9ydChcIi4vanMvZmV0Y2hBY3RpdmVDaGF0LmRldlwiKVxyXG4gICAgICAgIGZldGNoQWN0aXZlQ2hhdChjaGF0SWQpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIFwiXCIsIFwiXCIpXHJcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBcIkNoYXRzXCJcclxuICAgICAgICBhbGxDaGF0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYWxsLWNoYXQtc2VjdGlvbi0taGlkZVwiKVxyXG4gICAgICAgIGFjdGl2ZUNoYXRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtY2hhdC1zZWN0aW9uLS1oaWRlXCIpXHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBjaGVja0NoYXRTdGF0ZSlcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgY2hlY2tDaGF0U3RhdGUpXHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vIGFjdGl2ZSBjaGF0IG1lc3NhZ2UgY29udGFpbmVyXHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgLy8gYWN0aXZlIGNoYXQgaW5wdXQgY29udGFpbmVyXHJcbiAgICBjb25zdCBhY3RpdmVDaGF0SW5wdXRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgICAgXCJhY3RpdmVDaGF0SW5wdXRDb250YWluZXJcIlxyXG4gICAgKVxyXG4gICAgY29uc3QgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgICAgXCJhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudFwiXHJcbiAgICApXHJcbiAgICBjb25zdCBhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50Qm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICAgIFwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveFwiXHJcbiAgICApXHJcblxyXG4gICAgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJpbnB1dFwiLFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50LnZhbHVlID09PSBcIlwiKSB7XHJcbiAgICAgICAgICBhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50Qm94LmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgICAgICAgIFwiYWN0aXZlLWNoYXQtaW5wdXQtYXR0YWNobWVudC1ib3gtLWhpZGVcIlxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICFhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50Qm94LmNsYXNzTGlzdC5jb250YWlucyhcclxuICAgICAgICAgICAgICBcImFjdGl2ZS1jaGF0LWlucHV0LWF0dGFjaG1lbnQtYm94LS1oaWRlXCJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIGFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRCb3guY2xhc3NMaXN0LmFkZChcclxuICAgICAgICAgICAgICBcImFjdGl2ZS1jaGF0LWlucHV0LWF0dGFjaG1lbnQtYm94LS1oaWRlXCJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudC5zdHlsZS5oZWlnaHQgPSBcImF1dG9cIlxyXG4gICAgICAgIGFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50LnN0eWxlLmhlaWdodCA9XHJcbiAgICAgICAgICBhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudC5zY3JvbGxIZWlnaHQgKyBcInB4XCJcclxuICAgICAgICBhZGp1c3RNZXNzYWdlQ29udGFpbmVyQm90dG9tUGFkZGluZygpXHJcbiAgICAgIH0sXHJcbiAgICAgIGZhbHNlXHJcbiAgICApXHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgY29uc3QgeyBkZWZhdWx0OiBpbnNlcnRUZXh0QXRDdXJzb3IgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgXCJpbnNlcnQtdGV4dC1hdC1jdXJzb3JcIlxyXG4gICAgKVxyXG4gICAgY29uc3QgeyBQaWNrZXIgfSA9IGF3YWl0IGltcG9ydChcImVtb2ppLW1hcnRcIilcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRFbW9qaUFuZEFkZFRvSW5wdXQoZW1vamkpIHtcclxuICAgICAgaW5zZXJ0VGV4dEF0Q3Vyc29yKGFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50LCBlbW9qaS5uYXRpdmUpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYWN0aXZlQ2hhdElucHV0RW1vamlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgICAgXCJhY3RpdmVDaGF0SW5wdXRFbW9qaUJ0blwiXHJcbiAgICApXHJcbiAgICBjb25zdCBhY3RpdmVDaGF0SW5wdXRFbW9qaUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICBcImFjdGl2ZUNoYXRJbnB1dEVtb2ppQ29udGFpbmVyXCJcclxuICAgIClcclxuXHJcbiAgICBsZXQgZW1vamlQaWNrZXJPcHRpb25zID0ge1xyXG4gICAgICBwYXJlbnQ6IGFjdGl2ZUNoYXRJbnB1dEVtb2ppQ29udGFpbmVyLFxyXG4gICAgICBkYXRhOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGltcG9ydChcIkBlbW9qaS1tYXJ0L2RhdGFcIilcclxuICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgICB9LFxyXG4gICAgICBvbkVtb2ppU2VsZWN0OiBnZXRFbW9qaUFuZEFkZFRvSW5wdXQsXHJcbiAgICAgIC8vIG9uQ2xpY2tPdXRzaWRlOiAoKSA9PiB7XHJcbiAgICAgIC8vICAgY29uc29sZS5sb2coXCJoZWxsb1wiKVxyXG4gICAgICAvLyB9LFxyXG4gICAgICBhdXRvRm9jdXM6IGZhbHNlLFxyXG4gICAgICBlbW9qaUJ1dHRvbkNvbG9yczogW1xyXG4gICAgICAgIFwicmdiYSgxNTUsIDIyMywgODgsIDAuNylcIixcclxuICAgICAgICBcInJnYmEoMTU1LCA0MCwgODgsIDAuNylcIixcclxuICAgICAgICBcInJnYmEoNDAsIDIyMywgODgsIDAuNylcIixcclxuICAgICAgICBcInJnYmEoMTU1LCAyMjMsIDg4LCAwLjcpXCIsXHJcbiAgICAgICAgXCJyZ2JhKDQwLCAyMjMsIDIyMywgMC43KVwiLFxyXG4gICAgICAgIFwicmdiYSgyMCwgMTUwLCAxNTAsIDAuNylcIixcclxuICAgICAgICBcInJnYmEoMTUwLCAxNTAsIDIwLCAwLjcpXCIsXHJcbiAgICAgICAgXCJyZ2JhKDE1MCwgMjAsIDE1MCwgMC43KVwiXHJcbiAgICAgIF0sXHJcbiAgICAgIGVtb2ppQnV0dG9uU2l6ZTogNDAsXHJcbiAgICAgIC8vIGVtb2ppU2l6ZTogMjUsXHJcbiAgICAgIGVtb2ppVmVyc2lvbjogMTQsXHJcbiAgICAgIGljb25zOiBcImF1dG9cIixcclxuICAgICAgbWF4RnJlcXVlbnRSb3dzOiAyLFxyXG4gICAgICBuYXZQb3NpdGlvbjogXCJib3R0b21cIixcclxuICAgICAgcHJldmlld1Bvc2l0aW9uOiBcIm5vbmVcIixcclxuICAgICAgc2V0OiBcIm5hdGl2ZVwiLFxyXG4gICAgICBkeW5hbWljV2lkdGg6IHRydWVcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZW1vamlQaWNrZXIgPSBuZXcgUGlja2VyKGVtb2ppUGlja2VyT3B0aW9ucylcclxuXHJcbiAgICBhY3RpdmVDaGF0SW5wdXRFbW9qaUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBhY3RpdmVDaGF0SW5wdXRFbW9qaUNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKFxyXG4gICAgICAgIFwiYWN0aXZlLWNoYXQtaW5wdXQtYm94X19lbW9qaS1jb250YWluZXItLWhpZGVcIlxyXG4gICAgICApXHJcbiAgICB9KVxyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAvLyBpbnB1dCBtZXNzYWdlIGNyZWF0aW9uXHJcbiAgICBsZXQgeyBjbG9zZVJlcGx5TWVzc2FnZUJveCB9ID0gYXdhaXQgaW1wb3J0KFwiLi9qcy9yZXBseU1lc3NhZ2VCb3guZGV2LmpzXCIpXHJcbiAgICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICBjb25zdCB7IGNoZWNrVGltZUFuZENyZWF0ZU5ld01lc3NhZ2UgfSA9IGF3YWl0IGltcG9ydChcIi4vanMvbWVzc2FnZS5kZXZcIilcclxuICAgIGNvbnN0IHsgdXBkYXRlQWxsQ2hhdFNlY3Rpb24gfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgXCIuL2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICApXHJcbiAgICBjb25zdCB7IGRlZmF1bHQ6IFVwcHkgfSA9IGF3YWl0IGltcG9ydChcIkB1cHB5L2NvcmVcIilcclxuICAgIGNvbnN0IHsgZGVmYXVsdDogRGFzaGJvYXJkIH0gPSBhd2FpdCBpbXBvcnQoXCJAdXBweS9kYXNoYm9hcmRcIilcclxuICAgIGNvbnN0IHsgZGVmYXVsdDogV2ViY2FtIH0gPSBhd2FpdCBpbXBvcnQoXCJAdXBweS93ZWJjYW1cIilcclxuICAgIGNvbnN0IHsgZGVmYXVsdDogSW1hZ2VFZGl0b3IgfSA9IGF3YWl0IGltcG9ydChcIkB1cHB5L2ltYWdlLWVkaXRvclwiKVxyXG4gICAgY29uc3QgeyBkZWZhdWx0OiBBdWRpbyB9ID0gYXdhaXQgaW1wb3J0KFwiQHVwcHkvYXVkaW9cIilcclxuXHJcbiAgICBhd2FpdCBpbXBvcnQoXCJAdXBweS9jb3JlL2Rpc3Qvc3R5bGUuY3NzXCIpXHJcbiAgICBhd2FpdCBpbXBvcnQoXCJAdXBweS9kYXNoYm9hcmQvZGlzdC9zdHlsZS5jc3NcIilcclxuICAgIGF3YWl0IGltcG9ydChcIkB1cHB5L3dlYmNhbS9kaXN0L3N0eWxlLmNzc1wiKVxyXG4gICAgYXdhaXQgaW1wb3J0KFwiQHVwcHkvaW1hZ2UtZWRpdG9yL2Rpc3Qvc3R5bGUuY3NzXCIpXHJcbiAgICBhd2FpdCBpbXBvcnQoXCJAdXBweS9hdWRpby9kaXN0L3N0eWxlLmNzc1wiKVxyXG5cclxuICAgIGNvbnN0IHsgZGVmYXVsdDogQXdzUzNNdWx0aXBhcnQgfSA9IGF3YWl0IGltcG9ydChcIkB1cHB5L2F3cy1zMy1tdWx0aXBhcnRcIilcclxuXHJcbiAgICBjb25zdCB1cHB5ID0gbmV3IFVwcHkoe1xyXG4gICAgICBpZDogXCJjaGF0TWVkaWFcIixcclxuICAgICAgYXV0b1Byb2NlZWQ6IGZhbHNlLFxyXG4gICAgICBhbGxvd011bHRpcGxlVXBsb2FkQmF0Y2hlczogdHJ1ZSxcclxuICAgICAgZGVidWc6IGZhbHNlLFxyXG4gICAgICBvbkJlZm9yZUZpbGVBZGRlZDogKGN1cnJlbnRGaWxlLCBmaWxlcykgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRGaWxlKVxyXG4gICAgICAgIGlmICghY3VycmVudEZpbGUudHlwZSkge1xyXG4gICAgICAgICAgdXBweS5sb2coYFNraXBwaW5nIGZpbGUgYmVjYXVzZSBpdCBoYXMgbm8gdHlwZWApXHJcbiAgICAgICAgICB1cHB5LmluZm8oYFNraXBwaW5nIGZpbGUgYmVjYXVzZSBpdCBoYXMgbm8gdHlwZWAsIFwiZXJyb3JcIiwgNTAwKVxyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGN1cnJlbnRGaWxlLm5hbWUgPSBcIlwiXHJcbiAgICAgICAgICByZXR1cm4gY3VycmVudEZpbGVcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIG9uQmVmb3JlVXBsb2FkOiBmaWxlcyA9PiB7XHJcbiAgICAgICAgLy8gY29uc3QgdXBkYXRlZEZpbGVzID0ge31cclxuICAgICAgICAvLyBPYmplY3Qua2V5cyhmaWxlcykuZm9yRWFjaChmaWxlSUQgPT4ge1xyXG4gICAgICAgIC8vICAgdXBkYXRlZEZpbGVzW2ZpbGVJRF0gPSB7XHJcbiAgICAgICAgLy8gICAgIC4uLmZpbGVzW2ZpbGVJRF0sXHJcbiAgICAgICAgLy8gICAgIG1ldGE6IHtcclxuICAgICAgICAvLyAgICAgICAuLi5maWxlc1tmaWxlSURdLm1ldGEsXHJcbiAgICAgICAgLy8gICAgICAgZmlsZVR5cGU6IGZpbGVzW2ZpbGVJRF0udHlwZVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gICB9XHJcbiAgICAgICAgLy8gfSlcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh1cGRhdGVkRmlsZXMpXHJcbiAgICAgICAgLy8gcmV0dXJuIHVwZGF0ZWRGaWxlc1xyXG4gICAgICB9LFxyXG4gICAgICByZXN0cmljdGlvbnM6IHtcclxuICAgICAgICBtYXhGaWxlU2l6ZTogMTAyNCAqIDEwMjQgKiAxMDAsXHJcbiAgICAgICAgbWluRmlsZVNpemU6IG51bGwsXHJcbiAgICAgICAgbWF4VG90YWxGaWxlU2l6ZTogMTAyNCAqIDEwMjQgKiAxMDAgKiAxMCxcclxuICAgICAgICBtYXhOdW1iZXJPZkZpbGVzOiAxMCxcclxuICAgICAgICBtaW5OdW1iZXJPZkZpbGVzOiAxLFxyXG4gICAgICAgIGFsbG93ZWRGaWxlVHlwZXM6IFtcclxuICAgICAgICAgIFwiaW1hZ2UvanBlZ1wiLFxyXG4gICAgICAgICAgXCJpbWFnZS9wbmdcIixcclxuICAgICAgICAgIFwiaW1hZ2UvZ2lmXCIsXHJcbiAgICAgICAgICBcImltYWdlL3N2Zyt4bWxcIixcclxuICAgICAgICAgIFwiaW1hZ2UveC1wbmdcIixcclxuXHJcbiAgICAgICAgICBcImF1ZGlvL21wZWdcIixcclxuICAgICAgICAgIFwiYXVkaW8vd2F2XCIsXHJcbiAgICAgICAgICBcImF1ZGlvL3gtd2F2XCIsXHJcbiAgICAgICAgICBcImF1ZGlvL29nZ1wiLFxyXG4gICAgICAgICAgXCJhdWRpby93ZWJtXCIsXHJcbiAgICAgICAgICAvLyBcImF1ZGlvLypcIixcclxuXHJcbiAgICAgICAgICBcInZpZGVvL21wNFwiLFxyXG4gICAgICAgICAgXCJ2aWRlby93ZWJtXCIsXHJcbiAgICAgICAgICBcInZpZGVvL29nZ1wiLFxyXG4gICAgICAgICAgXCJ2aWRlby9xdWlja3RpbWVcIixcclxuICAgICAgICAgIFwidmlkZW8veC1tYXRyb3NrYVwiXHJcbiAgICAgICAgXVxyXG4gICAgICB9LFxyXG4gICAgICBtZXRhOiB7IG1lZGlhVHlwZTogXCJjaGF0LW1lZGlhXCIgfSxcclxuICAgICAgaW5mb1RpbWVvdXQ6IDUwMDBcclxuICAgIH0pXHJcbiAgICAgIC51c2UoRGFzaGJvYXJkLCB7XHJcbiAgICAgICAgdHJpZ2dlcjogXCIjYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEZpbGVCdG5cIixcclxuICAgICAgICB0YXJnZXQ6IFwiYm9keVwiLFxyXG4gICAgICAgIGlubGluZTogZmFsc2UsXHJcbiAgICAgICAgcGx1Z2luczogW1wiV2ViY2FtXCIsIFwiSW1hZ2VFZGl0b3JcIiwgXCJBdWRpb1wiXSxcclxuICAgICAgICB0aHVtYm5haWxXaWR0aDogMzAwLFxyXG4gICAgICAgIC8vIGNsb3NlQWZ0ZXJGaW5pc2g6IGZhbHNlLFxyXG4gICAgICAgIHNob3dSZW1vdmVCdXR0b25BZnRlckNvbXBsZXRlOiBmYWxzZSxcclxuICAgICAgICBkaXNhYmxlUGFnZVNjcm9sbFdoZW5Nb2RhbE9wZW46IHRydWUsXHJcbiAgICAgICAgY2xvc2VNb2RhbE9uQ2xpY2tPdXRzaWRlOiB0cnVlLFxyXG5cclxuICAgICAgICB0aGVtZTogXCJsaWdodFwiLFxyXG4gICAgICAgIGxvY2FsZToge1xyXG4gICAgICAgICAgc3RyaW5nczoge31cclxuICAgICAgICB9LFxyXG4gICAgICAgIG5vdGU6IFwiSW1hZ2VzLCBBdWRpb3MgYW5kIHZpZGVvcyBvbmx5LCB1cCB0byAxMCBmaWxlcywgMSBmaWxlIHVwIHRvIDEwMCBNQlwiLFxyXG4gICAgICAgIHByb3VkbHlEaXNwbGF5UG93ZXJlZEJ5VXBweTogZmFsc2VcclxuICAgICAgfSlcclxuICAgICAgLnVzZShXZWJjYW0sIHtcclxuICAgICAgICB0YXJnZXQ6IERhc2hib2FyZCxcclxuICAgICAgICB0aXRsZTogXCJDYW1lcmFcIixcclxuICAgICAgICBtaXJyb3I6IHRydWUsXHJcbiAgICAgICAgbW9kZXM6IFtcInZpZGVvLWF1ZGlvXCIsIFwidmlkZW8tb25seVwiLCBcInBpY3R1cmVcIl0sXHJcbiAgICAgICAgcHJlZmVycmVkVmlkZW9NaW1lVHlwZTogXCJ2aWRlby9tcDRcIixcclxuICAgICAgICBzaG93UmVjb3JkaW5nTGVuZ3RoOiB0cnVlXHJcbiAgICAgIH0pXHJcbiAgICAgIC51c2UoSW1hZ2VFZGl0b3IsIHtcclxuICAgICAgICB0YXJnZXQ6IERhc2hib2FyZCxcclxuICAgICAgICBxdWFsaXR5OiAwLjhcclxuICAgICAgfSlcclxuICAgICAgLnVzZShBdWRpbywge1xyXG4gICAgICAgIGlkOiBcIkF1ZGlvXCIsXHJcbiAgICAgICAgdGFyZ2V0OiBEYXNoYm9hcmQsXHJcbiAgICAgICAgc2hvd0F1ZGlvU291cmNlRHJvcGRvd246IGZhbHNlXHJcbiAgICAgIH0pXHJcbiAgICAgIC51c2UoQXdzUzNNdWx0aXBhcnQsIHtcclxuICAgICAgICBsaW1pdDogNCxcclxuICAgICAgICBjb21wYW5pb25Vcmw6IFwiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2NvbXBhbmlvblwiXHJcbiAgICAgIH0pXHJcblxyXG4gICAgLy8gdXBweS5vbihcImNvbXBsZXRlXCIsIHJlc3VsdCA9PiB7XHJcbiAgICAvLyAgIGNvbnNvbGUubG9nKFxyXG4gICAgLy8gICAgIFwiVXBsb2FkIGNvbXBsZXRlISBXZeKAmXZlIHVwbG9hZGVkIHRoZXNlIGZpbGVzOlwiLFxyXG4gICAgLy8gICAgIHJlc3VsdC5zdWNjZXNzZnVsXHJcbiAgICAvLyAgIClcclxuICAgIC8vIH0pXHJcbiAgICB1cHB5Lm9uKFwidXBsb2FkLXN1Y2Nlc3NcIiwgKGZpbGUsIHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIGxldCB1c2VyTWVzc2FnZSA9IHt9XHJcbiAgICAgIHVzZXJNZXNzYWdlLmNoYXQgPSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZFxyXG4gICAgICB1c2VyTWVzc2FnZS5oYXNNZWRpYUNvbnRlbnQgPSB0cnVlXHJcbiAgICAgIHVzZXJNZXNzYWdlLm1lZGlhQ29udGVudFR5cGUgPSBmaWxlLnR5cGUuc3BsaXQoXCIvXCIpWzBdXHJcbiAgICAgIHVzZXJNZXNzYWdlLm1lZGlhQ29udGVudE1pbWVUeXBlID0gZmlsZS50eXBlXHJcbiAgICAgIHVzZXJNZXNzYWdlLm1lZGlhQ29udGVudFBhdGggPSBmaWxlLnMzTXVsdGlwYXJ0LmtleVxyXG4gICAgICB1c2VyTWVzc2FnZS5yZXBsaWVkVG8gPSBhY3RpdmVDaGF0SW5wdXRDb250YWluZXIuZGF0YXNldC5yZXBsaWVkVG9cclxuICAgICAgZmV0Y2goXCIvbWVzc2FnZVwiLCB7XHJcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIiwgLy8gb3IgJ1BVVCdcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXNlck1lc3NhZ2UpXHJcbiAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKClcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZSlcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50aGVuKGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICAgICAgaWYgKGRhdGEuaXNTdWNjZXNzKSB7XHJcbiAgICAgICAgICAgIGNoZWNrVGltZUFuZENyZWF0ZU5ld01lc3NhZ2UoXHJcbiAgICAgICAgICAgICAgZGF0YS5tZXNzYWdlLFxyXG4gICAgICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgY2xvc2VSZXBseU1lc3NhZ2VCb3goKVxyXG4gICAgICAgICAgICB1cGRhdGVBbGxDaGF0U2VjdGlvbihkYXRhLm1lc3NhZ2UpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgeyBjcmVhdGVNYWluTm90aWZpY2F0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICAgICAgXCIuLi9jb21tb24vbWFpbk5vdGlmaWNhdGlvbi5kZXZcIlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oZGF0YS5lcnJvciwgXCJlcnJvclwiKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGFzeW5jIGVyciA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICBsZXQgeyBjcmVhdGVNYWluTm90aWZpY2F0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICAgIFwiLi4vY29tbW9uL21haW5Ob3RpZmljYXRpb24uZGV2XCJcclxuICAgICAgICAgIClcclxuICAgICAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oXHJcbiAgICAgICAgICAgIFwiU2VydmVyIEVycm9yIEluIFNlbmRpbmcgTWVzc2FnZSwgUGxlYXNlIFRyeSBBZ2FpblwiLFxyXG4gICAgICAgICAgICBcImVycm9yXCJcclxuICAgICAgICAgIClcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICAvLyBhY3RpdmUgY2hhdCBpbnB1dCB5b3V0dWJlIHNlbmQgYnRuXHJcbiAgICBjb25zdCBhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUNvbnRlbnRTZW5kQnRuID1cclxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUNvbnRlbnRTZW5kQnRuXCIpXHJcblxyXG4gICAgY29uc3QgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICAgIFwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVDb250ZW50XCJcclxuICAgIClcclxuICAgIGFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQ29udGVudFNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgICAgXCJjbGlja1wiLFxyXG4gICAgICAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHVzZXJNZXNzYWdlID0ge31cclxuXHJcbiAgICAgICAgaWYgKGFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQ29udGVudC52YWx1ZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgdXNlck1lc3NhZ2UuY2hhdCA9IGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkXHJcbiAgICAgICAgICB1c2VyTWVzc2FnZS5oYXNNZWRpYUNvbnRlbnQgPSB0cnVlXHJcbiAgICAgICAgICB1c2VyTWVzc2FnZS5tZWRpYUNvbnRlbnRUeXBlID0gXCJ5b3V0dWJlXCJcclxuICAgICAgICAgIHVzZXJNZXNzYWdlLm1lZGlhQ29udGVudE1pbWVUeXBlID0gXCJ2aWRlby9tcDRcIlxyXG4gICAgICAgICAgdXNlck1lc3NhZ2UubWVkaWFDb250ZW50UGF0aCA9XHJcbiAgICAgICAgICAgIGFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQ29udGVudC52YWx1ZVxyXG4gICAgICAgICAgdXNlck1lc3NhZ2UucmVwbGllZFRvID0gYWN0aXZlQ2hhdElucHV0Q29udGFpbmVyLmRhdGFzZXQucmVwbGllZFRvXHJcblxyXG4gICAgICAgICAgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVDb250ZW50LnZhbHVlID0gXCJcIlxyXG4gICAgICAgICAgZmV0Y2goXCIvbWVzc2FnZVwiLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsIC8vIG9yICdQVVQnXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyTWVzc2FnZSlcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKClcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbihhc3luYyBkYXRhID0+IHtcclxuICAgICAgICAgICAgICBpZiAoZGF0YS5pc1N1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgIGNoZWNrVGltZUFuZENyZWF0ZU5ld01lc3NhZ2UoXHJcbiAgICAgICAgICAgICAgICAgIGRhdGEubWVzc2FnZSxcclxuICAgICAgICAgICAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXJcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIGNsb3NlUmVwbHlNZXNzYWdlQm94KClcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgICAgICAgIC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQnRuSW5wdXRCb3hcIilcclxuICAgICAgICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJpbnB1dC1hdHRhY2htZW50LWJ0bi1ib3hfX2lucHV0LWJveC0taGlkZVwiKVxyXG4gICAgICAgICAgICAgICAgdXBkYXRlQWxsQ2hhdFNlY3Rpb24oZGF0YS5tZXNzYWdlKVxyXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVCdG5JbnB1dEJveC5jbGFzc0xpc3QuYWRkKFxyXG4gICAgICAgICAgICAgICAgICBcImF0dGFjaG1lbnQtYnRuLWJveF9faW5wdXQtYm94LS1oaWRlXCJcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IHsgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgICAgICAgICBcIi4uL2NvbW1vbi9tYWluTm90aWZpY2F0aW9uLmRldlwiXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICBjcmVhdGVNYWluTm90aWZpY2F0aW9uKGRhdGEuZXJyb3IsIFwiZXJyb3JcIilcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaChhc3luYyBlcnIgPT4ge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICAgICAgICBsZXQgeyBjcmVhdGVNYWluTm90aWZpY2F0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICAgICAgICBcIi4uL2NvbW1vbi9tYWluTm90aWZpY2F0aW9uLmRldlwiXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oXHJcbiAgICAgICAgICAgICAgICBcIlNlcnZlciBFcnJvciBJbiBTZW5kaW5nIE1lc3NhZ2UsIFBsZWFzZSBUcnkgQWdhaW5cIixcclxuICAgICAgICAgICAgICAgIFwiZXJyb3JcIlxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIClcclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAvLyBhY3RpdmUgY2hhdCBpbnB1dCBzZW5kIGJ0blxyXG5cclxuICAgIGNvbnN0IGFjdGl2ZUNoYXRJbnB1dFNlbmRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgICAgXCJhY3RpdmVDaGF0SW5wdXRTZW5kQnRuXCJcclxuICAgIClcclxuICAgIGFjdGl2ZUNoYXRJbnB1dFNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcclxuICAgICAgbGV0IHVzZXJNZXNzYWdlID0ge31cclxuICAgICAgaWYgKFxyXG4gICAgICAgIGFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50LnZhbHVlLnRyaW0oKSAhPT0gXCJcIiAmJlxyXG4gICAgICAgIGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkICE9PSBcIlwiXHJcbiAgICAgICkge1xyXG4gICAgICAgIHVzZXJNZXNzYWdlLmNoYXQgPSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZFxyXG4gICAgICAgIHVzZXJNZXNzYWdlLmhhc01lZGlhQ29udGVudCA9IGZhbHNlXHJcbiAgICAgICAgdXNlck1lc3NhZ2UudGV4dENvbnRlbnQgPSBhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudC52YWx1ZS50cmltKClcclxuICAgICAgICB1c2VyTWVzc2FnZS5yZXBsaWVkVG8gPSBhY3RpdmVDaGF0SW5wdXRDb250YWluZXIuZGF0YXNldC5yZXBsaWVkVG9cclxuICAgICAgICBhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudC52YWx1ZSA9IFwiXCJcclxuICAgICAgICBpZiAoYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWQgIT09IFwiXCIpIHtcclxuICAgICAgICAgIGxldCB7IHNlbmRDaGF0TWVzc2FnZVN0b3BUeXBpbmdTb2NrZXQgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgICAgXCIuLi9zb2NrZXQvZXZlbnQtZW1pdHRlci9jaGF0LXNvY2tldFwiXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgICBzZW5kQ2hhdE1lc3NhZ2VTdG9wVHlwaW5nU29ja2V0KGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkKVxyXG4gICAgICAgICAgaXNVc2VyVHlwaW5nID0gZmFsc2VcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZldGNoKFwiL21lc3NhZ2VcIiwge1xyXG4gICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIiwgLy8gb3IgJ1BVVCdcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyTWVzc2FnZSlcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5pc1N1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICBhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50Qm94LmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICAgICAgICAgICAgICBcImFjdGl2ZS1jaGF0LWlucHV0LWF0dGFjaG1lbnQtYm94LS1oaWRlXCJcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCJcclxuICAgICAgICAgICAgICBhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudC5zdHlsZS5oZWlnaHQgPVxyXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiXHJcbiAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoXHJcbiAgICAgICAgICAgICAgICAgIGFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50LnN0eWxlLmhlaWdodC5zbGljZSgwLCAtMilcclxuICAgICAgICAgICAgICAgICkgPD0gNDBcclxuICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLnN0eWxlLnBhZGRpbmdCb3R0b20gPSBcIjYwcHhcIlxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5zdHlsZS5wYWRkaW5nQm90dG9tID1cclxuICAgICAgICAgICAgICAgICAgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQuc3R5bGUuaGVpZ2h0XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGNoZWNrVGltZUFuZENyZWF0ZU5ld01lc3NhZ2UoXHJcbiAgICAgICAgICAgICAgICBkYXRhLm1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lclxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICBjbG9zZVJlcGx5TWVzc2FnZUJveCgpXHJcbiAgICAgICAgICAgICAgdXBkYXRlQWxsQ2hhdFNlY3Rpb24oZGF0YS5tZXNzYWdlKVxyXG4gICAgICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLnNjcm9sbFRvcCA9XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5zY3JvbGxIZWlnaHQgKyAxMDAwXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgbGV0IHsgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgICAgICAgXCIuLi9jb21tb24vbWFpbk5vdGlmaWNhdGlvbi5kZXZcIlxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICBjcmVhdGVNYWluTm90aWZpY2F0aW9uKGRhdGEuZXJyb3IsIFwiZXJyb3JcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChhc3luYyBlcnIgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICAgIGxldCB7IGNyZWF0ZU1haW5Ob3RpZmljYXRpb24gfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgICAgICBcIi4uL2NvbW1vbi9tYWluTm90aWZpY2F0aW9uLmRldlwiXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbihcclxuICAgICAgICAgICAgICBcIlNlcnZlciBFcnJvciBJbiBTZW5kaW5nIE1lc3NhZ2UsIFBsZWFzZSBUcnkgQWdhaW5cIixcclxuICAgICAgICAgICAgICBcImVycm9yXCJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgIC8vIGFjdGl2ZS1jaGF0LWlucHV0LWF0dGFjaG1lbnQtYm94XHJcblxyXG4gICAgY29uc3QgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICBcImFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRCb3hCdG5cIlxyXG4gICAgKVxyXG5cclxuICAgIGFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRCb3hCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRCb3hCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKFxyXG4gICAgICAgICAgXCJhY3RpdmUtY2hhdC1pbnB1dC1hdHRhY2htZW50LWJveF9fYnRuLS1zZWxlY3RlZFwiXHJcbiAgICAgICAgKVxyXG4gICAgICApIHtcclxuICAgICAgICBvcGVuQWN0aXZlQ2hhdElucHV0Qm94KClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvcGVuQWN0aXZlY2hhdElucHV0QXR0YWNobWVudEJveCgpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgY29uc3QgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgICAgXCJhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUJ0blwiXHJcbiAgICApXHJcbiAgICBjb25zdCBhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUJ0bklucHV0Qm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICAgIFwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVCdG5JbnB1dEJveFwiXHJcbiAgICApXHJcbiAgICBhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICBhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUJ0bklucHV0Qm94LmNsYXNzTGlzdC50b2dnbGUoXHJcbiAgICAgICAgXCJpbnB1dC1hdHRhY2htZW50LWJ0bi1ib3hfX2lucHV0LWJveC0taGlkZVwiXHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgLy8gaW5pdGlhbGl6ZSBldmVudCB0byBhY3RpdmUgY2hhdFxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vIGFjdGl2ZSBjaGF0IHRvIGFsbCBjaGF0IGJ0blxyXG4gICAgY29uc3QgQWN0aXZlQ2hhdFRvQWxsQ2hhdEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICBcIkFjdGl2ZUNoYXRUb0FsbENoYXRCdG5cIlxyXG4gICAgKVxyXG4gICAgQWN0aXZlQ2hhdFRvQWxsQ2hhdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBsb2NhdGlvbi5oYXNoID0gXCJcIlxyXG4gICAgICBpZiAoYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWQgIT09IFwiXCIpIHtcclxuICAgICAgICBsZXQgeyBzZW5kQ2hhdE1lc3NhZ2VTdG9wVHlwaW5nU29ja2V0IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICBcIi4uL3NvY2tldC9ldmVudC1lbWl0dGVyL2NoYXQtc29ja2V0XCJcclxuICAgICAgICApXHJcbiAgICAgICAgc2VuZENoYXRNZXNzYWdlU3RvcFR5cGluZ1NvY2tldChhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZClcclxuICAgICAgICBpc1VzZXJUeXBpbmcgPSBmYWxzZVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vYWN0aXZlIGNoYXQgaGVhZGVyIHBpYyBhbmQgYWN0aXZlIGNoYXQgaGVhZGVyIG5hbWVcclxuICAgIGxldCBhY3RpdmVDaGF0SGVhZGVyUGljID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0SGVhZGVyUGljXCIpXHJcblxyXG4gICAgYWN0aXZlQ2hhdEhlYWRlclBpYy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBsZXQgYWN0aXZlQ2hhdElkID0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWRcclxuICAgICAgaWYgKGFjdGl2ZUNoYXRJZCAhPSBcIlwiKSB7XHJcbiAgICAgICAgbGV0IHsgY3JlYXRlQWN0aXZlQ2hhdEluZm9Nb2RhbCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuL2pzL2NyZWF0ZUFjdGl2ZUNoYXRJbmZvTW9kYWwuZGV2LmpzXCJcclxuICAgICAgICApXHJcbiAgICAgICAgY3JlYXRlQWN0aXZlQ2hhdEluZm9Nb2RhbChhY3RpdmVDaGF0SWQpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBsZXQgYWN0aXZlQ2hhdEhlYWRlck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRIZWFkZXJOYW1lXCIpXHJcbiAgICBhY3RpdmVDaGF0SGVhZGVyTmFtZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBsZXQgYWN0aXZlQ2hhdElkID0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWRcclxuICAgICAgaWYgKGFjdGl2ZUNoYXRJZCAhPSBcIlwiKSB7XHJcbiAgICAgICAgbGV0IHsgY3JlYXRlQWN0aXZlQ2hhdEluZm9Nb2RhbCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuL2pzL2NyZWF0ZUFjdGl2ZUNoYXRJbmZvTW9kYWwuZGV2LmpzXCJcclxuICAgICAgICApXHJcbiAgICAgICAgY3JlYXRlQWN0aXZlQ2hhdEluZm9Nb2RhbChhY3RpdmVDaGF0SWQpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vIGNyZWF0ZSBuZXcgZ3JvdXAgY2hhdCBidG5cclxuICAgIC8vIGdyb3VwIGNoYXQgZm9ybSBNb2RhbCBhbmQgYXNzaWduIGV2ZW50IHRvIGJ0blxyXG4gICAgY29uc3QgY3JlYXRlTmV3R3JvdXBDaGF0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICAgIFwiY3JlYXRlTmV3R3JvdXBDaGF0QnRuXCJcclxuICAgIClcclxuICAgIGNyZWF0ZU5ld0dyb3VwQ2hhdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBsZXQgeyBjcmVhdGVHcm91cENoYXRGb3JtTW9kYWwgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4vanMvY3JlYXRlR3JvdXBDaGF0Rm9ybU1vZGFsLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgY3JlYXRlR3JvdXBDaGF0Rm9ybU1vZGFsKClcclxuICAgIH0pXHJcbiAgICBpbml0aWFsaXNlRXZlbnRGb3JDaGF0TW9kdWxlKClcclxuICAgIElTX0lOSVRfQ0hBVF9NT0RVTEUgPSB0cnVlXHJcbiAgfVxyXG59KSgpXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb3BlbkFjdGl2ZWNoYXRJbnB1dEF0dGFjaG1lbnRCb3goKSB7XHJcbiAgZG9jdW1lbnRcclxuICAgIC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRCb3hCdG5cIilcclxuICAgIC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLWNoYXQtaW5wdXQtYXR0YWNobWVudC1ib3hfX2J0bi0tc2VsZWN0ZWRcIilcclxuXHJcbiAgY29uc3QgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50Qm94XCJcclxuICApXHJcbiAgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveC5jbGFzc0xpc3QuYWRkKFxyXG4gICAgXCJhY3RpdmUtY2hhdC1pbnB1dC1hdHRhY2htZW50LWJveC0tc2VsZWN0ZWRcIlxyXG4gIClcclxuICBhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50Qm94LmNsYXNzTGlzdC5yZW1vdmUoXHJcbiAgICBcImFjdGl2ZS1jaGF0LWlucHV0LWF0dGFjaG1lbnQtYm94LS1oaWRlXCJcclxuICApXHJcbiAgZG9jdW1lbnRcclxuICAgIC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRCdG5Db250YWluZXJcIilcclxuICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiaW5wdXQtYXR0YWNobWVudC1idG4tY29udGFpbmVyLS1oaWRlXCIpXHJcbiAgZG9jdW1lbnRcclxuICAgIC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRJbnB1dEJveFwiKVxyXG4gICAgLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtY2hhdC1pbnB1dC1ib3gtLWhpZGVcIilcclxuXHJcbiAgZG9jdW1lbnRcclxuICAgIC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRJbnB1dFNlbmRCb3hcIilcclxuICAgIC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLWNoYXQtaW5wdXQtc2VuZC1ib3gtLWhpZGVcIilcclxuICBkb2N1bWVudFxyXG4gICAgLmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVCdG5JbnB1dEJveFwiKVxyXG4gICAgLmNsYXNzTGlzdC5hZGQoXCJpbnB1dC1hdHRhY2htZW50LWJ0bi1ib3hfX2lucHV0LWJveC0taGlkZVwiKVxyXG4gIGFkanVzdE1lc3NhZ2VDb250YWluZXJCb3R0b21QYWRkaW5nKClcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gb3BlbkFjdGl2ZUNoYXRJbnB1dEJveCgpIHtcclxuICBkb2N1bWVudFxyXG4gICAgLmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveEJ0blwiKVxyXG4gICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtY2hhdC1pbnB1dC1hdHRhY2htZW50LWJveF9fYnRuLS1zZWxlY3RlZFwiKVxyXG4gIGRvY3VtZW50XHJcbiAgICAuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50Qm94XCIpXHJcbiAgICAuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1jaGF0LWlucHV0LWF0dGFjaG1lbnQtYm94LS1zZWxlY3RlZFwiKVxyXG5cclxuICBkb2N1bWVudFxyXG4gICAgLmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJ0bkNvbnRhaW5lclwiKVxyXG4gICAgLmNsYXNzTGlzdC5hZGQoXCJpbnB1dC1hdHRhY2htZW50LWJ0bi1jb250YWluZXItLWhpZGVcIilcclxuXHJcbiAgZG9jdW1lbnRcclxuICAgIC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRJbnB1dEJveFwiKVxyXG4gICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtY2hhdC1pbnB1dC1ib3gtLWhpZGVcIilcclxuXHJcbiAgZG9jdW1lbnRcclxuICAgIC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRJbnB1dFNlbmRCb3hcIilcclxuICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLWNoYXQtaW5wdXQtc2VuZC1ib3gtLWhpZGVcIilcclxuICBhZGp1c3RNZXNzYWdlQ29udGFpbmVyQm90dG9tUGFkZGluZygpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhZGp1c3RNZXNzYWdlQ29udGFpbmVyQm90dG9tUGFkZGluZygpIHtcclxuICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5zdHlsZS5wYWRkaW5nQm90dG9tID1cclxuICAgIGFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lci5jbGllbnRIZWlnaHQgKyA1ICsgXCJweFwiXHJcbiAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuc2Nyb2xsVG9wID1cclxuICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLnNjcm9sbEhlaWdodCArIDEwMDBcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdGlhbGlzZUV2ZW50Rm9yQ2hhdE1vZHVsZSgpIHtcclxuICBkb2N1bWVudFxyXG4gICAgLmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdElucHV0UmVwbHlCb3hDbG9zZUJ0blwiKVxyXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgIGxldCB7IGNsb3NlUmVwbHlNZXNzYWdlQm94IH0gPSBhd2FpdCBpbXBvcnQoXCIuL2pzL3JlcGx5TWVzc2FnZUJveC5kZXZcIilcclxuICAgICAgY2xvc2VSZXBseU1lc3NhZ2VCb3goKVxyXG4gICAgfSlcclxuXHJcbiAgLy9zZW5kIGNoYXQ6bWVzc2FnZS10eXBpbmcgZXZlbnRcclxuXHJcbiAgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIGFzeW5jIGUgPT4ge1xyXG4gICAgaWYgKGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkICE9PSBcIlwiKSB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBsYXN0QWN0aXZlQ2hhdElkICE9PSBcIlwiICYmXHJcbiAgICAgICAgbGFzdEFjdGl2ZUNoYXRJZCAhPT0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWRcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHsgc2VuZENoYXRNZXNzYWdlU3RvcFR5cGluZ1NvY2tldCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi9zb2NrZXQvZXZlbnQtZW1pdHRlci9jaGF0LXNvY2tldFwiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHNlbmRDaGF0TWVzc2FnZVN0b3BUeXBpbmdTb2NrZXQobGFzdEFjdGl2ZUNoYXRJZClcclxuICAgICAgICBpc1VzZXJUeXBpbmcgPSBmYWxzZVxyXG4gICAgICAgIGxhc3RBY3RpdmVDaGF0SWQgPSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZC50b1N0cmluZygpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxhc3RBY3RpdmVDaGF0SWQgPSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZC50b1N0cmluZygpXHJcbiAgICAgIGxldCBjaGF0SWQgPSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZC50b1N0cmluZygpXHJcblxyXG4gICAgICBjb25zdCBpbnB1dFZhbHVlID0gYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQudmFsdWUudHJpbSgpXHJcblxyXG4gICAgICBpZiAoaW5wdXRWYWx1ZSAmJiAhaXNVc2VyVHlwaW5nKSB7XHJcbiAgICAgICAgaXNVc2VyVHlwaW5nID0gdHJ1ZVxyXG4gICAgICAgIGxldCB7IHNlbmRDaGF0TWVzc2FnZVN0YXJ0VHlwaW5nU29ja2V0IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICBcIi4uL3NvY2tldC9ldmVudC1lbWl0dGVyL2NoYXQtc29ja2V0XCJcclxuICAgICAgICApXHJcbiAgICAgICAgc2VuZENoYXRNZXNzYWdlU3RhcnRUeXBpbmdTb2NrZXQoY2hhdElkKVxyXG4gICAgICB9IGVsc2UgaWYgKCFpbnB1dFZhbHVlICYmIGlzVXNlclR5cGluZykge1xyXG4gICAgICAgIGlzVXNlclR5cGluZyA9IGZhbHNlXHJcbiAgICAgICAgbGV0IHsgc2VuZENoYXRNZXNzYWdlU3RvcFR5cGluZ1NvY2tldCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi9zb2NrZXQvZXZlbnQtZW1pdHRlci9jaGF0LXNvY2tldFwiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHNlbmRDaGF0TWVzc2FnZVN0b3BUeXBpbmdTb2NrZXQoY2hhdElkKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgYWxsQ2hhdENoYXRCb3hDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIGUgPT4ge1xyXG4gICAgbGV0IGNoYXRCb3ggPSBlLnRhcmdldC5jbG9zZXN0KGAuY2hhdC1ib3hgKVxyXG5cclxuICAgIGlmIChjaGF0Qm94ICYmIGFsbENoYXRDaGF0Qm94Q29udGFpbmVyLmNvbnRhaW5zKGNoYXRCb3gpKSB7XHJcbiAgICAgIGxldCBjaGF0SWQgPSBjaGF0Qm94LmRhdGFzZXQuY2hhdElkXHJcbiAgICAgIGlmIChjaGF0SWQpIHtcclxuICAgICAgICBsZXQgeyBmZXRjaEFjdGl2ZUNoYXQgfSA9IGF3YWl0IGltcG9ydChcIi4vanMvZmV0Y2hBY3RpdmVDaGF0LmRldlwiKVxyXG4gICAgICAgIGZldGNoQWN0aXZlQ2hhdChjaGF0SWQpXHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuIl0sIm5hbWVzIjpbImFsbENoYXRTZWN0aW9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFjdGl2ZUNoYXRTZWN0aW9uIiwiYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIiLCJhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudCIsImFsbENoYXRDaGF0Qm94Q29udGFpbmVyIiwiaXNVc2VyVHlwaW5nIiwibGFzdEFjdGl2ZUNoYXRJZCIsImRhdGFzZXQiLCJjaGF0SWQiLCJ0b1N0cmluZyIsIklTX0lOSVRfQ0hBVF9NT0RVTEUiLCJjaGVja0NoYXRTdGF0ZSIsImxvY2F0aW9uIiwiaGFzaCIsInJlcGxhY2UiLCJmZXRjaEFjdGl2ZUNoYXQiLCJ0aXRsZSIsImNsYXNzTGlzdCIsInJlbW92ZSIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3aW5kb3ciLCJhY3RpdmVDaGF0SW5wdXRDb250YWluZXIiLCJhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50Qm94IiwidmFsdWUiLCJjb250YWlucyIsInN0eWxlIiwiaGVpZ2h0Iiwic2Nyb2xsSGVpZ2h0IiwiYWRqdXN0TWVzc2FnZUNvbnRhaW5lckJvdHRvbVBhZGRpbmciLCJkZWZhdWx0IiwiaW5zZXJ0VGV4dEF0Q3Vyc29yIiwiUGlja2VyIiwiZ2V0RW1vamlBbmRBZGRUb0lucHV0IiwiZW1vamkiLCJuYXRpdmUiLCJhY3RpdmVDaGF0SW5wdXRFbW9qaUJ0biIsImFjdGl2ZUNoYXRJbnB1dEVtb2ppQ29udGFpbmVyIiwiZW1vamlQaWNrZXJPcHRpb25zIiwicGFyZW50IiwiZGF0YSIsIm9uRW1vamlTZWxlY3QiLCJhdXRvRm9jdXMiLCJlbW9qaUJ1dHRvbkNvbG9ycyIsImVtb2ppQnV0dG9uU2l6ZSIsImVtb2ppVmVyc2lvbiIsImljb25zIiwibWF4RnJlcXVlbnRSb3dzIiwibmF2UG9zaXRpb24iLCJwcmV2aWV3UG9zaXRpb24iLCJzZXQiLCJkeW5hbWljV2lkdGgiLCJlbW9qaVBpY2tlciIsInRvZ2dsZSIsImNsb3NlUmVwbHlNZXNzYWdlQm94IiwiY2hlY2tUaW1lQW5kQ3JlYXRlTmV3TWVzc2FnZSIsInVwZGF0ZUFsbENoYXRTZWN0aW9uIiwiVXBweSIsIkRhc2hib2FyZCIsIldlYmNhbSIsIkltYWdlRWRpdG9yIiwiQXVkaW8iLCJBd3NTM011bHRpcGFydCIsInVwcHkiLCJpZCIsImF1dG9Qcm9jZWVkIiwiYWxsb3dNdWx0aXBsZVVwbG9hZEJhdGNoZXMiLCJkZWJ1ZyIsIm9uQmVmb3JlRmlsZUFkZGVkIiwiY3VycmVudEZpbGUiLCJmaWxlcyIsImNvbnNvbGUiLCJsb2ciLCJ0eXBlIiwiaW5mbyIsIm5hbWUiLCJvbkJlZm9yZVVwbG9hZCIsInJlc3RyaWN0aW9ucyIsIm1heEZpbGVTaXplIiwibWluRmlsZVNpemUiLCJtYXhUb3RhbEZpbGVTaXplIiwibWF4TnVtYmVyT2ZGaWxlcyIsIm1pbk51bWJlck9mRmlsZXMiLCJhbGxvd2VkRmlsZVR5cGVzIiwibWV0YSIsIm1lZGlhVHlwZSIsImluZm9UaW1lb3V0IiwidXNlIiwidHJpZ2dlciIsInRhcmdldCIsImlubGluZSIsInBsdWdpbnMiLCJ0aHVtYm5haWxXaWR0aCIsInNob3dSZW1vdmVCdXR0b25BZnRlckNvbXBsZXRlIiwiZGlzYWJsZVBhZ2VTY3JvbGxXaGVuTW9kYWxPcGVuIiwiY2xvc2VNb2RhbE9uQ2xpY2tPdXRzaWRlIiwidGhlbWUiLCJsb2NhbGUiLCJzdHJpbmdzIiwibm90ZSIsInByb3VkbHlEaXNwbGF5UG93ZXJlZEJ5VXBweSIsIm1pcnJvciIsIm1vZGVzIiwicHJlZmVycmVkVmlkZW9NaW1lVHlwZSIsInNob3dSZWNvcmRpbmdMZW5ndGgiLCJxdWFsaXR5Iiwic2hvd0F1ZGlvU291cmNlRHJvcGRvd24iLCJsaW1pdCIsImNvbXBhbmlvblVybCIsIm9uIiwiZmlsZSIsInJlc3BvbnNlIiwidXNlck1lc3NhZ2UiLCJjaGF0IiwiaGFzTWVkaWFDb250ZW50IiwibWVkaWFDb250ZW50VHlwZSIsInNwbGl0IiwibWVkaWFDb250ZW50TWltZVR5cGUiLCJtZWRpYUNvbnRlbnRQYXRoIiwiczNNdWx0aXBhcnQiLCJrZXkiLCJyZXBsaWVkVG8iLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRoZW4iLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiaXNTdWNjZXNzIiwibWVzc2FnZSIsImNyZWF0ZU1haW5Ob3RpZmljYXRpb24iLCJlcnJvciIsImNhdGNoIiwiZXJyIiwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVDb250ZW50U2VuZEJ0biIsImFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQ29udGVudCIsImFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQnRuSW5wdXRCb3giLCJhY3RpdmVDaGF0SW5wdXRTZW5kQnRuIiwidHJpbSIsInRleHRDb250ZW50Iiwic2VuZENoYXRNZXNzYWdlU3RvcFR5cGluZ1NvY2tldCIsInBhcnNlSW50Iiwic2xpY2UiLCJwYWRkaW5nQm90dG9tIiwic2Nyb2xsVG9wIiwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveEJ0biIsIm9wZW5BY3RpdmVDaGF0SW5wdXRCb3giLCJvcGVuQWN0aXZlY2hhdElucHV0QXR0YWNobWVudEJveCIsImFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQnRuIiwiQWN0aXZlQ2hhdFRvQWxsQ2hhdEJ0biIsImFjdGl2ZUNoYXRIZWFkZXJQaWMiLCJhY3RpdmVDaGF0SWQiLCJjcmVhdGVBY3RpdmVDaGF0SW5mb01vZGFsIiwiYWN0aXZlQ2hhdEhlYWRlck5hbWUiLCJjcmVhdGVOZXdHcm91cENoYXRCdG4iLCJjcmVhdGVHcm91cENoYXRGb3JtTW9kYWwiLCJpbml0aWFsaXNlRXZlbnRGb3JDaGF0TW9kdWxlIiwiY2xpZW50SGVpZ2h0IiwiZSIsImlucHV0VmFsdWUiLCJzZW5kQ2hhdE1lc3NhZ2VTdGFydFR5cGluZ1NvY2tldCIsImNoYXRCb3giLCJjbG9zZXN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./dev-javascripts/chat/chat.dev.js\n");

/***/ })

}]);