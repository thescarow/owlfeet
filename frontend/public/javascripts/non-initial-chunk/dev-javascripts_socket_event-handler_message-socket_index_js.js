"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_socket_event-handler_message-socket_index_js"],{

/***/ "./dev-javascripts/socket/event-handler/message-socket/index.js":
/*!**********************************************************************!*\
  !*** ./dev-javascripts/socket/event-handler/message-socket/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createMessageSocket\": () => (/* binding */ createMessageSocket)\n/* harmony export */ });\nasync function createMessageSocket(socket) {\n  try {\n    // console.log(\"insideMessageSocket\")\n    let {\n      createMainNotification\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_common_mainNotification_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../common/mainNotification.dev.js */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n    let activeChatSection = document.getElementById(\"activeChatSection\");\n    let activeChatMessageContainer = document.getElementById(\"activeChatMessageContainer\");\n    let activeChatHeaderStatus = document.getElementById(\"activeChatHeaderStatus\");\n    socket.on(\"message:client-user-message-sent\", async data => {\n      let chatId = activeChatSection.dataset.chatId;\n\n      if (chatId.toString() !== \"\" && chatId.toString() === data.chatId.toString()) {\n        let {\n          updateClientUserMessageStatus\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev.js */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        updateClientUserMessageStatus(data.clientMessageId, \"sent\");\n      }\n    });\n    socket.on(\"message:replace-client-user-message-to-server-user-message\", async data => {\n      let clientMessageId = data.clientMessageId;\n      let message = data.message;\n      let chatId = activeChatSection.dataset.chatId;\n      let {\n        updateAllChatSection\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      updateAllChatSection(message); // let { increaseUnseenMessagesCountInChatBox } = await import(\n      //   \"../../../chat/js/updateAllChatSection.dev\"\n      // )\n      // increaseUnseenMessagesCountInChatBox(message.chat._id)\n\n      if (chatId.toString() !== \"\" && chatId.toString() === message.chat._id.toString()) {\n        let {\n          replaceClientUserMessageToServerMessage\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        replaceClientUserMessageToServerMessage(clientMessageId, message, false);\n      }\n    });\n    socket.on(\"message:create-user-message-res\", async data => {\n      if (data.isSuccess) {// updateClientUserMessageStatus(data.clientMessageId, \"sent\")\n      } else {\n        let {\n          updateClientUserMessageStatus\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev.js */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        updateClientUserMessageStatus(data.clientMessageId, \"error\");\n        createMainNotification(data.error, \"error\");\n      }\n    }); // socket.on(\"message:create-user-media-message-request-res\", async data => {\n    //   if (data.isSuccess) {\n    //     let message = data.message\n    //     let chatId = activeChatSection.dataset.chatId\n    //     let { updateAllChatSection } = await import(\n    //       \"../../../chat/js/updateAllChatSection.dev\"\n    //     )\n    //     updateAllChatSection(message)\n    //     // let { increaseUnseenMessagesCountInChatBox } = await import(\n    //     //   \"../../../chat/js/updateAllChatSection.dev\"\n    //     // )\n    //     // increaseUnseenMessagesCountInChatBox(message.chat._id)\n    //     if (\n    //       chatId.toString() !== \"\" &&\n    //       chatId.toString() === message.chat._id.toString()\n    //     ) {\n    //       let { replaceClientUserMessageToServerMessage } = await import(\n    //         \"../../../chat/js/message.dev\"\n    //       )\n    //       replaceClientUserMessageToServerMessage(\n    //         data.clientMessageId,\n    //         message,\n    //         true,\n    //         false\n    //       )\n    //     }\n    //   } else {\n    //     let { updateClientUserMessageStatus } = await import(\n    //       \"../../../chat/js/message.dev.js\"\n    //     )\n    //     updateClientUserMessageStatus(data.clientMessageId, \"error\")\n    //     createMainNotification(data.error, \"error\")\n    //   }\n    // })\n\n    socket.on(\"message:new-user-message\", async data => {\n      let message = data.message;\n      let chatId = activeChatSection.dataset.chatId;\n      let {\n        updateAllChatSection\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      updateAllChatSection(message);\n      let {\n        increaseUnseenMessagesCountInChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      increaseUnseenMessagesCountInChatBox(message.chat._id);\n\n      if (chatId.toString() !== \"\" && chatId.toString() === message.chat._id.toString()) {\n        let {\n          checkTimeAndCreateNewMessage\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        checkTimeAndCreateNewMessage(message, true);\n      }\n    }); ////////////////////////////////////////////\n\n    socket.on(\"message:new-info-message\", async data => {\n      let message = data.message;\n      let chatId = activeChatSection.dataset.chatId;\n      let {\n        updateAllChatSection\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      updateAllChatSection(message);\n      let {\n        increaseUnseenMessagesCountInChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      increaseUnseenMessagesCountInChatBox(message.chat._id);\n\n      if (chatId !== \"\" && chatId === message.chat._id) {\n        let {\n          createInfoMessage\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        let infoMessageBox = createInfoMessage(message);\n        activeChatMessageContainer.insertAdjacentElement(\"beforeend\", infoMessageBox);\n        activeChatMessageContainer.scrollTop = activeChatMessageContainer.scrollHeight + 1000;\n      }\n    }); //////////////////////////////////////////\n\n    socket.on(\"message:delete-message-for-all\", async data => {\n      let {\n        convertUserMessageToDeletedForAllMessage\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n      convertUserMessageToDeletedForAllMessage(data.deletedForAllMessage);\n\n      if (data.isLatestMessageChanged) {\n        let {\n          updateChatBoxLatestMessage\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n        updateChatBoxLatestMessage(data.latestMessage);\n      }\n    });\n    socket.on(\"message:user-message-delivered\", async data => {\n      if (data.chatId.toString() === activeChatSection.dataset.chatId.toString()) {\n        let {\n          changeUserMessageStatusToDelivered\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        changeUserMessageStatusToDelivered(data.messageId);\n        let {\n          updateMessageInfoDeliveryStatus\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_userMessageOptionModal_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/userMessageOptionModal.dev */ \"./dev-javascripts/chat/js/userMessageOptionModal.dev.js\"));\n        updateMessageInfoDeliveryStatus(data.messageId, data.deliveredTime);\n      }\n    });\n    socket.on(\"message:update-message-seen-status\", async data => {\n      if (data.chatId.toString() === activeChatSection.dataset.chatId.toString()) {\n        let {\n          changeUserMessageStatusWithMessageSeenStatusCount\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        changeUserMessageStatusWithMessageSeenStatusCount(data.messageId, data.messageSeenStatusCount, data.messageReaderCount);\n        let {\n          addUserToMessageInfoSeenStatus\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_userMessageOptionModal_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/userMessageOptionModal.dev */ \"./dev-javascripts/chat/js/userMessageOptionModal.dev.js\"));\n        addUserToMessageInfoSeenStatus(data.messageId, data.pushedUser, data.pushedUserTime);\n      }\n    });\n    socket.on(\"message:message-seen-by-self\", async data => {\n      let {\n        decreaseUnseenMessagesCountInChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      decreaseUnseenMessagesCountInChatBox(data.chatId);\n    });\n  } catch (e) {\n    console.log(\"socket problem\", e.message);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYtamF2YXNjcmlwdHMvc29ja2V0L2V2ZW50LWhhbmRsZXIvbWVzc2FnZS1zb2NrZXQvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLGVBQWVBLG1CQUFmLENBQW1DQyxNQUFuQyxFQUEyQztFQUNoRCxJQUFJO0lBQ0Y7SUFDQSxJQUFJO01BQUVDO0lBQUYsSUFBNkIsTUFBTSw0WEFBdkM7SUFHQSxJQUFJQyxpQkFBaUIsR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCLG1CQUF4QixDQUF4QjtJQUVBLElBQUlDLDBCQUEwQixHQUFHRixRQUFRLENBQUNDLGNBQVQsQ0FDL0IsNEJBRCtCLENBQWpDO0lBSUEsSUFBSUUsc0JBQXNCLEdBQUdILFFBQVEsQ0FBQ0MsY0FBVCxDQUMzQix3QkFEMkIsQ0FBN0I7SUFJQUosTUFBTSxDQUFDTyxFQUFQLENBQVUsa0NBQVYsRUFBOEMsTUFBTUMsSUFBTixJQUFjO01BQzFELElBQUlDLE1BQU0sR0FBR1AsaUJBQWlCLENBQUNRLE9BQWxCLENBQTBCRCxNQUF2Qzs7TUFDQSxJQUNFQSxNQUFNLENBQUNFLFFBQVAsT0FBc0IsRUFBdEIsSUFDQUYsTUFBTSxDQUFDRSxRQUFQLE9BQXNCSCxJQUFJLENBQUNDLE1BQUwsQ0FBWUUsUUFBWixFQUZ4QixFQUdFO1FBQ0EsSUFBSTtVQUFFQztRQUFGLElBQW9DLE1BQU0sd1hBQTlDO1FBR0FBLDZCQUE2QixDQUFDSixJQUFJLENBQUNLLGVBQU4sRUFBdUIsTUFBdkIsQ0FBN0I7TUFDRDtJQUNGLENBWEQ7SUFhQWIsTUFBTSxDQUFDTyxFQUFQLENBQ0UsNERBREYsRUFFRSxNQUFNQyxJQUFOLElBQWM7TUFDWixJQUFJSyxlQUFlLEdBQUdMLElBQUksQ0FBQ0ssZUFBM0I7TUFDQSxJQUFJQyxPQUFPLEdBQUdOLElBQUksQ0FBQ00sT0FBbkI7TUFDQSxJQUFJTCxNQUFNLEdBQUdQLGlCQUFpQixDQUFDUSxPQUFsQixDQUEwQkQsTUFBdkM7TUFFQSxJQUFJO1FBQUVNO01BQUYsSUFBMkIsTUFBTSwwUEFBckM7TUFHQUEsb0JBQW9CLENBQUNELE9BQUQsQ0FBcEIsQ0FSWSxDQVNaO01BQ0E7TUFDQTtNQUNBOztNQUNBLElBQ0VMLE1BQU0sQ0FBQ0UsUUFBUCxPQUFzQixFQUF0QixJQUNBRixNQUFNLENBQUNFLFFBQVAsT0FBc0JHLE9BQU8sQ0FBQ0UsSUFBUixDQUFhQyxHQUFiLENBQWlCTixRQUFqQixFQUZ4QixFQUdFO1FBQ0EsSUFBSTtVQUFFTztRQUFGLElBQThDLE1BQU0scVhBQXhEO1FBR0FBLHVDQUF1QyxDQUNyQ0wsZUFEcUMsRUFFckNDLE9BRnFDLEVBR3JDLEtBSHFDLENBQXZDO01BS0Q7SUFDRixDQTVCSDtJQThCQWQsTUFBTSxDQUFDTyxFQUFQLENBQVUsaUNBQVYsRUFBNkMsTUFBTUMsSUFBTixJQUFjO01BQ3pELElBQUlBLElBQUksQ0FBQ1csU0FBVCxFQUFvQixDQUNsQjtNQUNELENBRkQsTUFFTztRQUNMLElBQUk7VUFBRVA7UUFBRixJQUFvQyxNQUFNLHdYQUE5QztRQUdBQSw2QkFBNkIsQ0FBQ0osSUFBSSxDQUFDSyxlQUFOLEVBQXVCLE9BQXZCLENBQTdCO1FBQ0FaLHNCQUFzQixDQUFDTyxJQUFJLENBQUNZLEtBQU4sRUFBYSxPQUFiLENBQXRCO01BQ0Q7SUFDRixDQVZELEVBMURFLENBcUVGO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBOztJQUVBcEIsTUFBTSxDQUFDTyxFQUFQLENBQVUsMEJBQVYsRUFBc0MsTUFBTUMsSUFBTixJQUFjO01BQ2xELElBQUlNLE9BQU8sR0FBR04sSUFBSSxDQUFDTSxPQUFuQjtNQUNBLElBQUlMLE1BQU0sR0FBR1AsaUJBQWlCLENBQUNRLE9BQWxCLENBQTBCRCxNQUF2QztNQUNBLElBQUk7UUFBRU07TUFBRixJQUEyQixNQUFNLDBQQUFyQztNQUdBQSxvQkFBb0IsQ0FBQ0QsT0FBRCxDQUFwQjtNQUNBLElBQUk7UUFBRU87TUFBRixJQUEyQyxNQUFNLDBQQUFyRDtNQUdBQSxvQ0FBb0MsQ0FBQ1AsT0FBTyxDQUFDRSxJQUFSLENBQWFDLEdBQWQsQ0FBcEM7O01BQ0EsSUFDRVIsTUFBTSxDQUFDRSxRQUFQLE9BQXNCLEVBQXRCLElBQ0FGLE1BQU0sQ0FBQ0UsUUFBUCxPQUFzQkcsT0FBTyxDQUFDRSxJQUFSLENBQWFDLEdBQWIsQ0FBaUJOLFFBQWpCLEVBRnhCLEVBR0U7UUFDQSxJQUFJO1VBQUVXO1FBQUYsSUFBbUMsTUFBTSxxWEFBN0M7UUFHQUEsNEJBQTRCLENBQUNSLE9BQUQsRUFBVSxJQUFWLENBQTVCO01BQ0Q7SUFDRixDQXBCRCxFQXhHRSxDQTZIRjs7SUFDQWQsTUFBTSxDQUFDTyxFQUFQLENBQVUsMEJBQVYsRUFBc0MsTUFBTUMsSUFBTixJQUFjO01BQ2xELElBQUlNLE9BQU8sR0FBR04sSUFBSSxDQUFDTSxPQUFuQjtNQUNBLElBQUlMLE1BQU0sR0FBR1AsaUJBQWlCLENBQUNRLE9BQWxCLENBQTBCRCxNQUF2QztNQUNBLElBQUk7UUFBRU07TUFBRixJQUEyQixNQUFNLDBQQUFyQztNQUdBQSxvQkFBb0IsQ0FBQ0QsT0FBRCxDQUFwQjtNQUNBLElBQUk7UUFBRU87TUFBRixJQUEyQyxNQUFNLDBQQUFyRDtNQUdBQSxvQ0FBb0MsQ0FBQ1AsT0FBTyxDQUFDRSxJQUFSLENBQWFDLEdBQWQsQ0FBcEM7O01BQ0EsSUFBSVIsTUFBTSxLQUFLLEVBQVgsSUFBaUJBLE1BQU0sS0FBS0ssT0FBTyxDQUFDRSxJQUFSLENBQWFDLEdBQTdDLEVBQWtEO1FBQ2hELElBQUk7VUFBRU07UUFBRixJQUF3QixNQUFNLHFYQUFsQztRQUVBLElBQUlDLGNBQWMsR0FBR0QsaUJBQWlCLENBQUNULE9BQUQsQ0FBdEM7UUFDQVQsMEJBQTBCLENBQUNvQixxQkFBM0IsQ0FDRSxXQURGLEVBRUVELGNBRkY7UUFJQW5CLDBCQUEwQixDQUFDcUIsU0FBM0IsR0FDRXJCLDBCQUEwQixDQUFDc0IsWUFBM0IsR0FBMEMsSUFENUM7TUFFRDtJQUNGLENBdEJELEVBOUhFLENBcUpGOztJQUNBM0IsTUFBTSxDQUFDTyxFQUFQLENBQVUsZ0NBQVYsRUFBNEMsTUFBTUMsSUFBTixJQUFjO01BQ3hELElBQUk7UUFBRW9CO01BQUYsSUFBK0MsTUFBTSxxWEFBekQ7TUFHQUEsd0NBQXdDLENBQUNwQixJQUFJLENBQUNxQixvQkFBTixDQUF4Qzs7TUFDQSxJQUFJckIsSUFBSSxDQUFDc0Isc0JBQVQsRUFBaUM7UUFDL0IsSUFBSTtVQUFFQztRQUFGLElBQWlDLE1BQU0sMFBBQTNDO1FBR0FBLDBCQUEwQixDQUFDdkIsSUFBSSxDQUFDd0IsYUFBTixDQUExQjtNQUNEO0lBQ0YsQ0FYRDtJQVlBaEMsTUFBTSxDQUFDTyxFQUFQLENBQVUsZ0NBQVYsRUFBNEMsTUFBTUMsSUFBTixJQUFjO01BQ3hELElBQ0VBLElBQUksQ0FBQ0MsTUFBTCxDQUFZRSxRQUFaLE9BQTJCVCxpQkFBaUIsQ0FBQ1EsT0FBbEIsQ0FBMEJELE1BQTFCLENBQWlDRSxRQUFqQyxFQUQ3QixFQUVFO1FBQ0EsSUFBSTtVQUFFc0I7UUFBRixJQUF5QyxNQUFNLHFYQUFuRDtRQUdBQSxrQ0FBa0MsQ0FBQ3pCLElBQUksQ0FBQzBCLFNBQU4sQ0FBbEM7UUFDQSxJQUFJO1VBQUVDO1FBQUYsSUFBc0MsTUFBTSxtZUFBaEQ7UUFHQUEsK0JBQStCLENBQUMzQixJQUFJLENBQUMwQixTQUFOLEVBQWlCMUIsSUFBSSxDQUFDNEIsYUFBdEIsQ0FBL0I7TUFDRDtJQUNGLENBYkQ7SUFjQXBDLE1BQU0sQ0FBQ08sRUFBUCxDQUFVLG9DQUFWLEVBQWdELE1BQU1DLElBQU4sSUFBYztNQUM1RCxJQUNFQSxJQUFJLENBQUNDLE1BQUwsQ0FBWUUsUUFBWixPQUEyQlQsaUJBQWlCLENBQUNRLE9BQWxCLENBQTBCRCxNQUExQixDQUFpQ0UsUUFBakMsRUFEN0IsRUFFRTtRQUNBLElBQUk7VUFBRTBCO1FBQUYsSUFDRixNQUFNLHFYQURSO1FBRUFBLGlEQUFpRCxDQUMvQzdCLElBQUksQ0FBQzBCLFNBRDBDLEVBRS9DMUIsSUFBSSxDQUFDOEIsc0JBRjBDLEVBRy9DOUIsSUFBSSxDQUFDK0Isa0JBSDBDLENBQWpEO1FBS0EsSUFBSTtVQUFFQztRQUFGLElBQXFDLE1BQU0sbWVBQS9DO1FBR0FBLDhCQUE4QixDQUM1QmhDLElBQUksQ0FBQzBCLFNBRHVCLEVBRTVCMUIsSUFBSSxDQUFDaUMsVUFGdUIsRUFHNUJqQyxJQUFJLENBQUNrQyxjQUh1QixDQUE5QjtNQUtEO0lBQ0YsQ0FwQkQ7SUFxQkExQyxNQUFNLENBQUNPLEVBQVAsQ0FBVSw4QkFBVixFQUEwQyxNQUFNQyxJQUFOLElBQWM7TUFDdEQsSUFBSTtRQUFFbUM7TUFBRixJQUEyQyxNQUFNLDBQQUFyRDtNQUdBQSxvQ0FBb0MsQ0FBQ25DLElBQUksQ0FBQ0MsTUFBTixDQUFwQztJQUNELENBTEQ7RUFNRCxDQTNNRCxDQTJNRSxPQUFPbUMsQ0FBUCxFQUFVO0lBQ1ZDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGdCQUFaLEVBQThCRixDQUFDLENBQUM5QixPQUFoQztFQUNEO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL2Rldi1qYXZhc2NyaXB0cy9zb2NrZXQvZXZlbnQtaGFuZGxlci9tZXNzYWdlLXNvY2tldC9pbmRleC5qcz9kZTk3Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVNZXNzYWdlU29ja2V0KHNvY2tldCkge1xyXG4gIHRyeSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcImluc2lkZU1lc3NhZ2VTb2NrZXRcIilcclxuICAgIGxldCB7IGNyZWF0ZU1haW5Ob3RpZmljYXRpb24gfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgXCIuLi8uLi8uLi9jb21tb24vbWFpbk5vdGlmaWNhdGlvbi5kZXYuanNcIlxyXG4gICAgKVxyXG4gICAgbGV0IGFjdGl2ZUNoYXRTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0U2VjdGlvblwiKVxyXG5cclxuICAgIGxldCBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICBcImFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyXCJcclxuICAgIClcclxuXHJcbiAgICBsZXQgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgICBcImFjdGl2ZUNoYXRIZWFkZXJTdGF0dXNcIlxyXG4gICAgKVxyXG5cclxuICAgIHNvY2tldC5vbihcIm1lc3NhZ2U6Y2xpZW50LXVzZXItbWVzc2FnZS1zZW50XCIsIGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBsZXQgY2hhdElkID0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWRcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGNoYXRJZC50b1N0cmluZygpICE9PSBcIlwiICYmXHJcbiAgICAgICAgY2hhdElkLnRvU3RyaW5nKCkgPT09IGRhdGEuY2hhdElkLnRvU3RyaW5nKClcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHsgdXBkYXRlQ2xpZW50VXNlck1lc3NhZ2VTdGF0dXMgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy9tZXNzYWdlLmRldi5qc1wiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHVwZGF0ZUNsaWVudFVzZXJNZXNzYWdlU3RhdHVzKGRhdGEuY2xpZW50TWVzc2FnZUlkLCBcInNlbnRcIilcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBzb2NrZXQub24oXHJcbiAgICAgIFwibWVzc2FnZTpyZXBsYWNlLWNsaWVudC11c2VyLW1lc3NhZ2UtdG8tc2VydmVyLXVzZXItbWVzc2FnZVwiLFxyXG4gICAgICBhc3luYyBkYXRhID0+IHtcclxuICAgICAgICBsZXQgY2xpZW50TWVzc2FnZUlkID0gZGF0YS5jbGllbnRNZXNzYWdlSWRcclxuICAgICAgICBsZXQgbWVzc2FnZSA9IGRhdGEubWVzc2FnZVxyXG4gICAgICAgIGxldCBjaGF0SWQgPSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZFxyXG5cclxuICAgICAgICBsZXQgeyB1cGRhdGVBbGxDaGF0U2VjdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHVwZGF0ZUFsbENoYXRTZWN0aW9uKG1lc3NhZ2UpXHJcbiAgICAgICAgLy8gbGV0IHsgaW5jcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgLy8gICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgICAvLyApXHJcbiAgICAgICAgLy8gaW5jcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94KG1lc3NhZ2UuY2hhdC5faWQpXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgY2hhdElkLnRvU3RyaW5nKCkgIT09IFwiXCIgJiZcclxuICAgICAgICAgIGNoYXRJZC50b1N0cmluZygpID09PSBtZXNzYWdlLmNoYXQuX2lkLnRvU3RyaW5nKClcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGxldCB7IHJlcGxhY2VDbGllbnRVc2VyTWVzc2FnZVRvU2VydmVyTWVzc2FnZSB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvbWVzc2FnZS5kZXZcIlxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgcmVwbGFjZUNsaWVudFVzZXJNZXNzYWdlVG9TZXJ2ZXJNZXNzYWdlKFxyXG4gICAgICAgICAgICBjbGllbnRNZXNzYWdlSWQsXHJcbiAgICAgICAgICAgIG1lc3NhZ2UsXHJcbiAgICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApXHJcbiAgICBzb2NrZXQub24oXCJtZXNzYWdlOmNyZWF0ZS11c2VyLW1lc3NhZ2UtcmVzXCIsIGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBpZiAoZGF0YS5pc1N1Y2Nlc3MpIHtcclxuICAgICAgICAvLyB1cGRhdGVDbGllbnRVc2VyTWVzc2FnZVN0YXR1cyhkYXRhLmNsaWVudE1lc3NhZ2VJZCwgXCJzZW50XCIpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbGV0IHsgdXBkYXRlQ2xpZW50VXNlck1lc3NhZ2VTdGF0dXMgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy9tZXNzYWdlLmRldi5qc1wiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHVwZGF0ZUNsaWVudFVzZXJNZXNzYWdlU3RhdHVzKGRhdGEuY2xpZW50TWVzc2FnZUlkLCBcImVycm9yXCIpXHJcbiAgICAgICAgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbihkYXRhLmVycm9yLCBcImVycm9yXCIpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvLyBzb2NrZXQub24oXCJtZXNzYWdlOmNyZWF0ZS11c2VyLW1lZGlhLW1lc3NhZ2UtcmVxdWVzdC1yZXNcIiwgYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAvLyAgIGlmIChkYXRhLmlzU3VjY2Vzcykge1xyXG4gICAgLy8gICAgIGxldCBtZXNzYWdlID0gZGF0YS5tZXNzYWdlXHJcbiAgICAvLyAgICAgbGV0IGNoYXRJZCA9IGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkXHJcbiAgICAvLyAgICAgbGV0IHsgdXBkYXRlQWxsQ2hhdFNlY3Rpb24gfSA9IGF3YWl0IGltcG9ydChcclxuICAgIC8vICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgLy8gICAgIClcclxuICAgIC8vICAgICB1cGRhdGVBbGxDaGF0U2VjdGlvbihtZXNzYWdlKVxyXG4gICAgLy8gICAgIC8vIGxldCB7IGluY3JlYXNlVW5zZWVuTWVzc2FnZXNDb3VudEluQ2hhdEJveCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgLy8gICAgIC8vICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAvLyAgICAgLy8gKVxyXG4gICAgLy8gICAgIC8vIGluY3JlYXNlVW5zZWVuTWVzc2FnZXNDb3VudEluQ2hhdEJveChtZXNzYWdlLmNoYXQuX2lkKVxyXG4gICAgLy8gICAgIGlmIChcclxuICAgIC8vICAgICAgIGNoYXRJZC50b1N0cmluZygpICE9PSBcIlwiICYmXHJcbiAgICAvLyAgICAgICBjaGF0SWQudG9TdHJpbmcoKSA9PT0gbWVzc2FnZS5jaGF0Ll9pZC50b1N0cmluZygpXHJcbiAgICAvLyAgICAgKSB7XHJcbiAgICAvLyAgICAgICBsZXQgeyByZXBsYWNlQ2xpZW50VXNlck1lc3NhZ2VUb1NlcnZlck1lc3NhZ2UgfSA9IGF3YWl0IGltcG9ydChcclxuICAgIC8vICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL21lc3NhZ2UuZGV2XCJcclxuICAgIC8vICAgICAgIClcclxuICAgIC8vICAgICAgIHJlcGxhY2VDbGllbnRVc2VyTWVzc2FnZVRvU2VydmVyTWVzc2FnZShcclxuICAgIC8vICAgICAgICAgZGF0YS5jbGllbnRNZXNzYWdlSWQsXHJcbiAgICAvLyAgICAgICAgIG1lc3NhZ2UsXHJcbiAgICAvLyAgICAgICAgIHRydWUsXHJcbiAgICAvLyAgICAgICAgIGZhbHNlXHJcbiAgICAvLyAgICAgICApXHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gICB9IGVsc2Uge1xyXG4gICAgLy8gICAgIGxldCB7IHVwZGF0ZUNsaWVudFVzZXJNZXNzYWdlU3RhdHVzIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAvLyAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvbWVzc2FnZS5kZXYuanNcIlxyXG4gICAgLy8gICAgIClcclxuICAgIC8vICAgICB1cGRhdGVDbGllbnRVc2VyTWVzc2FnZVN0YXR1cyhkYXRhLmNsaWVudE1lc3NhZ2VJZCwgXCJlcnJvclwiKVxyXG4gICAgLy8gICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oZGF0YS5lcnJvciwgXCJlcnJvclwiKVxyXG4gICAgLy8gICB9XHJcbiAgICAvLyB9KVxyXG5cclxuICAgIHNvY2tldC5vbihcIm1lc3NhZ2U6bmV3LXVzZXItbWVzc2FnZVwiLCBhc3luYyBkYXRhID0+IHtcclxuICAgICAgbGV0IG1lc3NhZ2UgPSBkYXRhLm1lc3NhZ2VcclxuICAgICAgbGV0IGNoYXRJZCA9IGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkXHJcbiAgICAgIGxldCB7IHVwZGF0ZUFsbENoYXRTZWN0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgdXBkYXRlQWxsQ2hhdFNlY3Rpb24obWVzc2FnZSlcclxuICAgICAgbGV0IHsgaW5jcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgaW5jcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94KG1lc3NhZ2UuY2hhdC5faWQpXHJcbiAgICAgIGlmIChcclxuICAgICAgICBjaGF0SWQudG9TdHJpbmcoKSAhPT0gXCJcIiAmJlxyXG4gICAgICAgIGNoYXRJZC50b1N0cmluZygpID09PSBtZXNzYWdlLmNoYXQuX2lkLnRvU3RyaW5nKClcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHsgY2hlY2tUaW1lQW5kQ3JlYXRlTmV3TWVzc2FnZSB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL21lc3NhZ2UuZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgY2hlY2tUaW1lQW5kQ3JlYXRlTmV3TWVzc2FnZShtZXNzYWdlLCB0cnVlKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIHNvY2tldC5vbihcIm1lc3NhZ2U6bmV3LWluZm8tbWVzc2FnZVwiLCBhc3luYyBkYXRhID0+IHtcclxuICAgICAgbGV0IG1lc3NhZ2UgPSBkYXRhLm1lc3NhZ2VcclxuICAgICAgbGV0IGNoYXRJZCA9IGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkXHJcbiAgICAgIGxldCB7IHVwZGF0ZUFsbENoYXRTZWN0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgdXBkYXRlQWxsQ2hhdFNlY3Rpb24obWVzc2FnZSlcclxuICAgICAgbGV0IHsgaW5jcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgaW5jcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94KG1lc3NhZ2UuY2hhdC5faWQpXHJcbiAgICAgIGlmIChjaGF0SWQgIT09IFwiXCIgJiYgY2hhdElkID09PSBtZXNzYWdlLmNoYXQuX2lkKSB7XHJcbiAgICAgICAgbGV0IHsgY3JlYXRlSW5mb01lc3NhZ2UgfSA9IGF3YWl0IGltcG9ydChcIi4uLy4uLy4uL2NoYXQvanMvbWVzc2FnZS5kZXZcIilcclxuXHJcbiAgICAgICAgbGV0IGluZm9NZXNzYWdlQm94ID0gY3JlYXRlSW5mb01lc3NhZ2UobWVzc2FnZSlcclxuICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5pbnNlcnRBZGphY2VudEVsZW1lbnQoXHJcbiAgICAgICAgICBcImJlZm9yZWVuZFwiLFxyXG4gICAgICAgICAgaW5mb01lc3NhZ2VCb3hcclxuICAgICAgICApXHJcbiAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuc2Nyb2xsVG9wID1cclxuICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLnNjcm9sbEhlaWdodCArIDEwMDBcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgc29ja2V0Lm9uKFwibWVzc2FnZTpkZWxldGUtbWVzc2FnZS1mb3ItYWxsXCIsIGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBsZXQgeyBjb252ZXJ0VXNlck1lc3NhZ2VUb0RlbGV0ZWRGb3JBbGxNZXNzYWdlIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL21lc3NhZ2UuZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBjb252ZXJ0VXNlck1lc3NhZ2VUb0RlbGV0ZWRGb3JBbGxNZXNzYWdlKGRhdGEuZGVsZXRlZEZvckFsbE1lc3NhZ2UpXHJcbiAgICAgIGlmIChkYXRhLmlzTGF0ZXN0TWVzc2FnZUNoYW5nZWQpIHtcclxuICAgICAgICBsZXQgeyB1cGRhdGVDaGF0Qm94TGF0ZXN0TWVzc2FnZSB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHVwZGF0ZUNoYXRCb3hMYXRlc3RNZXNzYWdlKGRhdGEubGF0ZXN0TWVzc2FnZSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIHNvY2tldC5vbihcIm1lc3NhZ2U6dXNlci1tZXNzYWdlLWRlbGl2ZXJlZFwiLCBhc3luYyBkYXRhID0+IHtcclxuICAgICAgaWYgKFxyXG4gICAgICAgIGRhdGEuY2hhdElkLnRvU3RyaW5nKCkgPT09IGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkLnRvU3RyaW5nKClcclxuICAgICAgKSB7XHJcbiAgICAgICAgbGV0IHsgY2hhbmdlVXNlck1lc3NhZ2VTdGF0dXNUb0RlbGl2ZXJlZCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL21lc3NhZ2UuZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgY2hhbmdlVXNlck1lc3NhZ2VTdGF0dXNUb0RlbGl2ZXJlZChkYXRhLm1lc3NhZ2VJZClcclxuICAgICAgICBsZXQgeyB1cGRhdGVNZXNzYWdlSW5mb0RlbGl2ZXJ5U3RhdHVzIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXNlck1lc3NhZ2VPcHRpb25Nb2RhbC5kZXZcIlxyXG4gICAgICAgIClcclxuICAgICAgICB1cGRhdGVNZXNzYWdlSW5mb0RlbGl2ZXJ5U3RhdHVzKGRhdGEubWVzc2FnZUlkLCBkYXRhLmRlbGl2ZXJlZFRpbWUpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBzb2NrZXQub24oXCJtZXNzYWdlOnVwZGF0ZS1tZXNzYWdlLXNlZW4tc3RhdHVzXCIsIGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBpZiAoXHJcbiAgICAgICAgZGF0YS5jaGF0SWQudG9TdHJpbmcoKSA9PT0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWQudG9TdHJpbmcoKVxyXG4gICAgICApIHtcclxuICAgICAgICBsZXQgeyBjaGFuZ2VVc2VyTWVzc2FnZVN0YXR1c1dpdGhNZXNzYWdlU2VlblN0YXR1c0NvdW50IH0gPVxyXG4gICAgICAgICAgYXdhaXQgaW1wb3J0KFwiLi4vLi4vLi4vY2hhdC9qcy9tZXNzYWdlLmRldlwiKVxyXG4gICAgICAgIGNoYW5nZVVzZXJNZXNzYWdlU3RhdHVzV2l0aE1lc3NhZ2VTZWVuU3RhdHVzQ291bnQoXHJcbiAgICAgICAgICBkYXRhLm1lc3NhZ2VJZCxcclxuICAgICAgICAgIGRhdGEubWVzc2FnZVNlZW5TdGF0dXNDb3VudCxcclxuICAgICAgICAgIGRhdGEubWVzc2FnZVJlYWRlckNvdW50XHJcbiAgICAgICAgKVxyXG4gICAgICAgIGxldCB7IGFkZFVzZXJUb01lc3NhZ2VJbmZvU2VlblN0YXR1cyB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VzZXJNZXNzYWdlT3B0aW9uTW9kYWwuZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgYWRkVXNlclRvTWVzc2FnZUluZm9TZWVuU3RhdHVzKFxyXG4gICAgICAgICAgZGF0YS5tZXNzYWdlSWQsXHJcbiAgICAgICAgICBkYXRhLnB1c2hlZFVzZXIsXHJcbiAgICAgICAgICBkYXRhLnB1c2hlZFVzZXJUaW1lXHJcbiAgICAgICAgKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgc29ja2V0Lm9uKFwibWVzc2FnZTptZXNzYWdlLXNlZW4tYnktc2VsZlwiLCBhc3luYyBkYXRhID0+IHtcclxuICAgICAgbGV0IHsgZGVjcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgIClcclxuICAgICAgZGVjcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94KGRhdGEuY2hhdElkKVxyXG4gICAgfSlcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInNvY2tldCBwcm9ibGVtXCIsIGUubWVzc2FnZSlcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImNyZWF0ZU1lc3NhZ2VTb2NrZXQiLCJzb2NrZXQiLCJjcmVhdGVNYWluTm90aWZpY2F0aW9uIiwiYWN0aXZlQ2hhdFNlY3Rpb24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIiLCJhY3RpdmVDaGF0SGVhZGVyU3RhdHVzIiwib24iLCJkYXRhIiwiY2hhdElkIiwiZGF0YXNldCIsInRvU3RyaW5nIiwidXBkYXRlQ2xpZW50VXNlck1lc3NhZ2VTdGF0dXMiLCJjbGllbnRNZXNzYWdlSWQiLCJtZXNzYWdlIiwidXBkYXRlQWxsQ2hhdFNlY3Rpb24iLCJjaGF0IiwiX2lkIiwicmVwbGFjZUNsaWVudFVzZXJNZXNzYWdlVG9TZXJ2ZXJNZXNzYWdlIiwiaXNTdWNjZXNzIiwiZXJyb3IiLCJpbmNyZWFzZVVuc2Vlbk1lc3NhZ2VzQ291bnRJbkNoYXRCb3giLCJjaGVja1RpbWVBbmRDcmVhdGVOZXdNZXNzYWdlIiwiY3JlYXRlSW5mb01lc3NhZ2UiLCJpbmZvTWVzc2FnZUJveCIsImluc2VydEFkamFjZW50RWxlbWVudCIsInNjcm9sbFRvcCIsInNjcm9sbEhlaWdodCIsImNvbnZlcnRVc2VyTWVzc2FnZVRvRGVsZXRlZEZvckFsbE1lc3NhZ2UiLCJkZWxldGVkRm9yQWxsTWVzc2FnZSIsImlzTGF0ZXN0TWVzc2FnZUNoYW5nZWQiLCJ1cGRhdGVDaGF0Qm94TGF0ZXN0TWVzc2FnZSIsImxhdGVzdE1lc3NhZ2UiLCJjaGFuZ2VVc2VyTWVzc2FnZVN0YXR1c1RvRGVsaXZlcmVkIiwibWVzc2FnZUlkIiwidXBkYXRlTWVzc2FnZUluZm9EZWxpdmVyeVN0YXR1cyIsImRlbGl2ZXJlZFRpbWUiLCJjaGFuZ2VVc2VyTWVzc2FnZVN0YXR1c1dpdGhNZXNzYWdlU2VlblN0YXR1c0NvdW50IiwibWVzc2FnZVNlZW5TdGF0dXNDb3VudCIsIm1lc3NhZ2VSZWFkZXJDb3VudCIsImFkZFVzZXJUb01lc3NhZ2VJbmZvU2VlblN0YXR1cyIsInB1c2hlZFVzZXIiLCJwdXNoZWRVc2VyVGltZSIsImRlY3JlYXNlVW5zZWVuTWVzc2FnZXNDb3VudEluQ2hhdEJveCIsImUiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./dev-javascripts/socket/event-handler/message-socket/index.js\n");

/***/ })

}]);