"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_socket_event-handler_message-socket_index_js"],{

/***/ "./dev-javascripts/socket/event-handler/message-socket/index.js":
/*!**********************************************************************!*\
  !*** ./dev-javascripts/socket/event-handler/message-socket/index.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createMessageSocket\": () => (/* binding */ createMessageSocket)\n/* harmony export */ });\nasync function createMessageSocket(socket) {\n  try {\n    // console.log(\"insideMessageSocket\")\n    let {\n      createMainNotification\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_common_mainNotification_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../common/mainNotification.dev.js */ \"./dev-javascripts/common/mainNotification.dev.js\"));\n    let activeChatSection = document.getElementById(\"activeChatSection\");\n    let activeChatMessageContainer = document.getElementById(\"activeChatMessageContainer\");\n    let activeChatHeaderStatus = document.getElementById(\"activeChatHeaderStatus\");\n    socket.on(\"message:create-user-message-res\", async data => {\n      let {\n        isSuccess,\n        clientMessageId,\n        chatId\n      } = data;\n      let {\n        updateClientUserMessageStatus\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev.js */ \"./dev-javascripts/chat/js/message.dev.js\"));\n\n      if (activeChatSection.dataset.chatId.toString() !== \"\" && chatId.toString() === activeChatSection.dataset.chatId.toString()) {\n        if (isSuccess) {\n          let {\n            messageId\n          } = data;\n          updateClientUserMessageStatus(clientMessageId, \"sent\", messageId);\n        } else {\n          let {\n            error\n          } = data;\n          updateClientUserMessageStatus(clientMessageId, \"error\");\n          createMainNotification(error, \"error\");\n        }\n      }\n    }); // socket.on(\"message:client-user-message-sent\", async data => {\n    //   let { clientMessageId, messageId, chatId } = data\n    //   if (\n    //     activeChatSection.dataset.chatId.toString() !== \"\" &&\n    //     chatId.toString() === activeChatSection.dataset.chatId.toString()\n    //   ) {\n    //     let { updateClientUserMessageStatus } = await import(\n    //       \"../../../chat/js/message.dev.js\"\n    //     )\n    //     updateClientUserMessageStatus(clientMessageId, \"sent\", messageId)\n    //   }\n    // })\n\n    socket.on(\"message:user-message-delivered\", async data => {\n      let {\n        clientMessageId,\n        messageId,\n        chatId,\n        deliveredTime\n      } = data;\n\n      if (chatId.toString() === activeChatSection.dataset.chatId.toString()) {\n        let {\n          changeUserMessageStatusToDelivered\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        changeUserMessageStatusToDelivered(clientMessageId, messageId);\n        let {\n          updateMessageInfoModalDeliveryStatus\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_userMessageOptionModal_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/userMessageOptionModal.dev */ \"./dev-javascripts/chat/js/userMessageOptionModal.dev.js\"));\n        updateMessageInfoModalDeliveryStatus(messageId, deliveredTime);\n      }\n    });\n    socket.on(\"message:replace-client-user-message-to-server-user-message\", async data => {\n      let clientMessageId = data.clientMessageId;\n      let message = data.message;\n      let chatId = activeChatSection.dataset.chatId;\n      let {\n        updateAllChatSection\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      updateAllChatSection(message); // let { increaseUnseenMessagesCountInChatBox } = await import(\n      //   \"../../../chat/js/updateAllChatSection.dev\"\n      // )\n      // increaseUnseenMessagesCountInChatBox(message.chat._id)\n\n      if (chatId.toString() !== \"\" && chatId.toString() === message.chat._id.toString()) {\n        let {\n          replaceClientUserMessageToServerMessage\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        replaceClientUserMessageToServerMessage(clientMessageId, message, false);\n      }\n    }); // socket.on(\"message:create-user-media-message-request-res\", async data => {\n    //   if (data.isSuccess) {\n    //     let message = data.message\n    //     let chatId = activeChatSection.dataset.chatId\n    //     let { updateAllChatSection } = await import(\n    //       \"../../../chat/js/updateAllChatSection.dev\"\n    //     )\n    //     updateAllChatSection(message)\n    //     // let { increaseUnseenMessagesCountInChatBox } = await import(\n    //     //   \"../../../chat/js/updateAllChatSection.dev\"\n    //     // )\n    //     // increaseUnseenMessagesCountInChatBox(message.chat._id)\n    //     if (\n    //       chatId.toString() !== \"\" &&\n    //       chatId.toString() === message.chat._id.toString()\n    //     ) {\n    //       let { replaceClientUserMessageToServerMessage } = await import(\n    //         \"../../../chat/js/message.dev\"\n    //       )\n    //       replaceClientUserMessageToServerMessage(\n    //         data.clientMessageId,\n    //         message,\n    //         true,\n    //         false\n    //       )\n    //     }\n    //   } else {\n    //     let { updateClientUserMessageStatus } = await import(\n    //       \"../../../chat/js/message.dev.js\"\n    //     )\n    //     updateClientUserMessageStatus(data.clientMessageId, \"error\")\n    //     createMainNotification(data.error, \"error\")\n    //   }\n    // })\n\n    socket.on(\"message:new-user-message\", async data => {\n      let message = data.message;\n      let chatId = activeChatSection.dataset.chatId;\n      let {\n        updateAllChatSection\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      updateAllChatSection(message);\n      let {\n        increaseUnseenMessagesCountInChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      increaseUnseenMessagesCountInChatBox(message.chat._id);\n\n      if (chatId.toString() !== \"\" && chatId.toString() === message.chat._id.toString()) {\n        let {\n          checkTimeAndCreateNewMessage\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        checkTimeAndCreateNewMessage(message, true, true, false);\n      }\n    }); ////////////////////////////////////////////\n\n    socket.on(\"message:new-info-message\", async data => {\n      let message = data.message;\n      let chatId = activeChatSection.dataset.chatId;\n      let {\n        updateAllChatSection\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      updateAllChatSection(message);\n      let {\n        increaseUnseenMessagesCountInChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      increaseUnseenMessagesCountInChatBox(message.chat._id);\n\n      if (chatId !== \"\" && chatId === message.chat._id) {\n        let {\n          createInfoMessage\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        let infoMessageBox = createInfoMessage(message);\n        activeChatMessageContainer.insertAdjacentElement(\"beforeend\", infoMessageBox);\n        activeChatMessageContainer.scrollTop = activeChatMessageContainer.scrollHeight + 1000;\n      }\n    }); //////////////////////////////////////////\n\n    socket.on(\"message:delete-message-for-all\", async data => {\n      let {\n        convertUserMessageToDeletedForAllMessage\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n      convertUserMessageToDeletedForAllMessage(data.deletedForAllMessage);\n\n      if (data.isLatestMessageChanged) {\n        let {\n          updateChatBoxLatestMessage\n        } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n        updateChatBoxLatestMessage(data.latestMessage);\n      }\n    });\n    socket.on(\"message:update-message-seen-status\", async data => {\n      let {\n        messageId,\n        chatId,\n        pushedUser,\n        pushedUserTime,\n        messageSeenStatusCount,\n        messageReaderCount\n      } = data;\n\n      if (chatId.toString() === activeChatSection.dataset.chatId.toString()) {\n        let {\n          changeUserMessageStatusWithMessageSeenStatusCount\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n        changeUserMessageStatusWithMessageSeenStatusCount(messageId, messageSeenStatusCount, messageReaderCount);\n        let {\n          addUserToMessageInfoModalSeenStatus\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_userMessageOptionModal_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/userMessageOptionModal.dev */ \"./dev-javascripts/chat/js/userMessageOptionModal.dev.js\"));\n        addUserToMessageInfoModalSeenStatus(messageId, pushedUser, pushedUserTime);\n      }\n    });\n    socket.on(\"message:message-seen-by-self\", async data => {\n      let {\n        decreaseUnseenMessagesCountInChatBox\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ../../../chat/js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n      decreaseUnseenMessagesCountInChatBox(data.chatId);\n    });\n  } catch (e) {\n    console.log(\"socket problem\", e.message);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYtamF2YXNjcmlwdHMvc29ja2V0L2V2ZW50LWhhbmRsZXIvbWVzc2FnZS1zb2NrZXQvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLGVBQWVBLG1CQUFmLENBQW1DQyxNQUFuQyxFQUEyQztFQUNoRCxJQUFJO0lBQ0Y7SUFDQSxJQUFJO01BQUVDO0lBQUYsSUFBNkIsTUFBTSw0WEFBdkM7SUFHQSxJQUFJQyxpQkFBaUIsR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCLG1CQUF4QixDQUF4QjtJQUVBLElBQUlDLDBCQUEwQixHQUFHRixRQUFRLENBQUNDLGNBQVQsQ0FDL0IsNEJBRCtCLENBQWpDO0lBSUEsSUFBSUUsc0JBQXNCLEdBQUdILFFBQVEsQ0FBQ0MsY0FBVCxDQUMzQix3QkFEMkIsQ0FBN0I7SUFHQUosTUFBTSxDQUFDTyxFQUFQLENBQVUsaUNBQVYsRUFBNkMsTUFBTUMsSUFBTixJQUFjO01BQ3pELElBQUk7UUFBRUMsU0FBRjtRQUFhQyxlQUFiO1FBQThCQztNQUE5QixJQUF5Q0gsSUFBN0M7TUFDQSxJQUFJO1FBQUVJO01BQUYsSUFBb0MsTUFBTSx3WEFBOUM7O01BR0EsSUFDRVYsaUJBQWlCLENBQUNXLE9BQWxCLENBQTBCRixNQUExQixDQUFpQ0csUUFBakMsT0FBZ0QsRUFBaEQsSUFDQUgsTUFBTSxDQUFDRyxRQUFQLE9BQXNCWixpQkFBaUIsQ0FBQ1csT0FBbEIsQ0FBMEJGLE1BQTFCLENBQWlDRyxRQUFqQyxFQUZ4QixFQUdFO1FBQ0EsSUFBSUwsU0FBSixFQUFlO1VBQ2IsSUFBSTtZQUFFTTtVQUFGLElBQWdCUCxJQUFwQjtVQUVBSSw2QkFBNkIsQ0FBQ0YsZUFBRCxFQUFrQixNQUFsQixFQUEwQkssU0FBMUIsQ0FBN0I7UUFDRCxDQUpELE1BSU87VUFDTCxJQUFJO1lBQUVDO1VBQUYsSUFBWVIsSUFBaEI7VUFFQUksNkJBQTZCLENBQUNGLGVBQUQsRUFBa0IsT0FBbEIsQ0FBN0I7VUFDQVQsc0JBQXNCLENBQUNlLEtB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LElBQU4sSUFBYztNQUM1RCxJQUFJO1FBQ0ZPLFNBREU7UUFFRkosTUFGRTtRQUdGMEIsVUFIRTtRQUlGQyxjQUpFO1FBS0ZDLHNCQUxFO1FBTUZDO01BTkUsSUFPQWhDLElBUEo7O01BUUEsSUFBSUcsTUFBTSxDQUFDRyxRQUFQLE9BQXNCWixpQkFBaUIsQ0FBQ1csT0FBbEIsQ0FBMEJGLE1BQTFCLENBQWlDRyxRQUFqQyxFQUExQixFQUF1RTtRQUNyRSxJQUFJO1VBQUUyQjtRQUFGLElBQ0YsTUFBTSxxWEFEUjtRQUVBQSxpREFBaUQsQ0FDL0MxQixTQUQrQyxFQUUvQ3dCLHNCQUYrQyxFQUcvQ0Msa0JBSCtDLENBQWpEO1FBS0EsSUFBSTtVQUFFRTtRQUFGLElBQTBDLE1BQU0sbWVBQXBEO1FBR0FBLG1DQUFtQyxDQUNqQzNCLFNBRGlDLEVBRWpDc0IsVUFGaUMsRUFHakNDLGNBSGlDLENBQW5DO01BS0Q7SUFDRixDQTFCRDtJQTJCQXRDLE1BQU0sQ0FBQ08sRUFBUCxDQUFVLDhCQUFWLEVBQTBDLE1BQU1DLElBQU4sSUFBYztNQUN0RCxJQUFJO1FBQUVtQztNQUFGLElBQTJDLE1BQU0sMFBBQXJEO01BR0FBLG9DQUFvQyxDQUFDbkMsSUFBSSxDQUFDRyxNQUFOLENBQXBDO0lBQ0QsQ0FMRDtFQU1ELENBL05ELENBK05FLE9BQU9pQyxDQUFQLEVBQVU7SUFDVkMsT0FBTyxDQUFDQyxHQUFSLENBQVksZ0JBQVosRUFBOEJGLENBQUMsQ0FBQ3hCLE9BQWhDO0VBQ0Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vZGV2LWphdmFzY3JpcHRzL3NvY2tldC9ldmVudC1oYW5kbGVyL21lc3NhZ2Utc29ja2V0L2luZGV4LmpzP2RlOTciXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU1lc3NhZ2VTb2NrZXQoc29ja2V0KSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwiaW5zaWRlTWVzc2FnZVNvY2tldFwiKVxyXG4gICAgbGV0IHsgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICBcIi4uLy4uLy4uL2NvbW1vbi9tYWluTm90aWZpY2F0aW9uLmRldi5qc1wiXHJcbiAgICApXHJcbiAgICBsZXQgYWN0aXZlQ2hhdFNlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRTZWN0aW9uXCIpXHJcblxyXG4gICAgbGV0IGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICAgIFwiYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXJcIlxyXG4gICAgKVxyXG5cclxuICAgIGxldCBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICAgIFwiYWN0aXZlQ2hhdEhlYWRlclN0YXR1c1wiXHJcbiAgICApXHJcbiAgICBzb2NrZXQub24oXCJtZXNzYWdlOmNyZWF0ZS11c2VyLW1lc3NhZ2UtcmVzXCIsIGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBsZXQgeyBpc1N1Y2Nlc3MsIGNsaWVudE1lc3NhZ2VJZCwgY2hhdElkIH0gPSBkYXRhXHJcbiAgICAgIGxldCB7IHVwZGF0ZUNsaWVudFVzZXJNZXNzYWdlU3RhdHVzIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL21lc3NhZ2UuZGV2LmpzXCJcclxuICAgICAgKVxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWQudG9TdHJpbmcoKSAhPT0gXCJcIiAmJlxyXG4gICAgICAgIGNoYXRJZC50b1N0cmluZygpID09PSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZC50b1N0cmluZygpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGlmIChpc1N1Y2Nlc3MpIHtcclxuICAgICAgICAgIGxldCB7IG1lc3NhZ2VJZCB9ID0gZGF0YVxyXG5cclxuICAgICAgICAgIHVwZGF0ZUNsaWVudFVzZXJNZXNzYWdlU3RhdHVzKGNsaWVudE1lc3NhZ2VJZCwgXCJzZW50XCIsIG1lc3NhZ2VJZClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgbGV0IHsgZXJyb3IgfSA9IGRhdGFcclxuXHJcbiAgICAgICAgICB1cGRhdGVDbGllbnRVc2VyTWVzc2FnZVN0YXR1cyhjbGllbnRNZXNzYWdlSWQsIFwiZXJyb3JcIilcclxuICAgICAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oZXJyb3IsIFwiZXJyb3JcIilcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy8gc29ja2V0Lm9uKFwibWVzc2FnZTpjbGllbnQtdXNlci1tZXNzYWdlLXNlbnRcIiwgYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAvLyAgIGxldCB7IGNsaWVudE1lc3NhZ2VJZCwgbWVzc2FnZUlkLCBjaGF0SWQgfSA9IGRhdGFcclxuXHJcbiAgICAvLyAgIGlmIChcclxuICAgIC8vICAgICBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZC50b1N0cmluZygpICE9PSBcIlwiICYmXHJcbiAgICAvLyAgICAgY2hhdElkLnRvU3RyaW5nKCkgPT09IGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkLnRvU3RyaW5nKClcclxuICAgIC8vICAgKSB7XHJcbiAgICAvLyAgICAgbGV0IHsgdXBkYXRlQ2xpZW50VXNlck1lc3NhZ2VTdGF0dXMgfSA9IGF3YWl0IGltcG9ydChcclxuICAgIC8vICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy9tZXNzYWdlLmRldi5qc1wiXHJcbiAgICAvLyAgICAgKVxyXG4gICAgLy8gICAgIHVwZGF0ZUNsaWVudFVzZXJNZXNzYWdlU3RhdHVzKGNsaWVudE1lc3NhZ2VJZCwgXCJzZW50XCIsIG1lc3NhZ2VJZClcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfSlcclxuXHJcbiAgICBzb2NrZXQub24oXCJtZXNzYWdlOnVzZXItbWVzc2FnZS1kZWxpdmVyZWRcIiwgYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAgIGxldCB7IGNsaWVudE1lc3NhZ2VJZCwgbWVzc2FnZUlkLCBjaGF0SWQsIGRlbGl2ZXJlZFRpbWUgfSA9IGRhdGFcclxuXHJcbiAgICAgIGlmIChjaGF0SWQudG9TdHJpbmcoKSA9PT0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWQudG9TdHJpbmcoKSkge1xyXG4gICAgICAgIGxldCB7IGNoYW5nZVVzZXJNZXNzYWdlU3RhdHVzVG9EZWxpdmVyZWQgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy9tZXNzYWdlLmRldlwiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIGNoYW5nZVVzZXJNZXNzYWdlU3RhdHVzVG9EZWxpdmVyZWQoY2xpZW50TWVzc2FnZUlkLCBtZXNzYWdlSWQpXHJcblxyXG4gICAgICAgIGxldCB7IHVwZGF0ZU1lc3NhZ2VJbmZvTW9kYWxEZWxpdmVyeVN0YXR1cyB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VzZXJNZXNzYWdlT3B0aW9uTW9kYWwuZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgdXBkYXRlTWVzc2FnZUluZm9Nb2RhbERlbGl2ZXJ5U3RhdHVzKG1lc3NhZ2VJZCwgZGVsaXZlcmVkVGltZSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICBzb2NrZXQub24oXHJcbiAgICAgIFwibWVzc2FnZTpyZXBsYWNlLWNsaWVudC11c2VyLW1lc3NhZ2UtdG8tc2VydmVyLXVzZXItbWVzc2FnZVwiLFxyXG4gICAgICBhc3luYyBkYXRhID0+IHtcclxuICAgICAgICBsZXQgY2xpZW50TWVzc2FnZUlkID0gZGF0YS5jbGllbnRNZXNzYWdlSWRcclxuICAgICAgICBsZXQgbWVzc2FnZSA9IGRhdGEubWVzc2FnZVxyXG4gICAgICAgIGxldCBjaGF0SWQgPSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZFxyXG5cclxuICAgICAgICBsZXQgeyB1cGRhdGVBbGxDaGF0U2VjdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VwZGF0ZUFsbENoYXRTZWN0aW9uLmRldlwiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHVwZGF0ZUFsbENoYXRTZWN0aW9uKG1lc3NhZ2UpXHJcbiAgICAgICAgLy8gbGV0IHsgaW5jcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94IH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgLy8gICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgICAvLyApXHJcbiAgICAgICAgLy8gaW5jcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94KG1lc3NhZ2UuY2hhdC5faWQpXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgY2hhdElkLnRvU3RyaW5nKCkgIT09IFwiXCIgJiZcclxuICAgICAgICAgIGNoYXRJZC50b1N0cmluZygpID09PSBtZXNzYWdlLmNoYXQuX2lkLnRvU3RyaW5nKClcclxuICAgICAgICApIHtcclxuICAgICAgICAgIGxldCB7IHJlcGxhY2VDbGllbnRVc2VyTWVzc2FnZVRvU2VydmVyTWVzc2FnZSB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvbWVzc2FnZS5kZXZcIlxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgcmVwbGFjZUNsaWVudFVzZXJNZXNzYWdlVG9TZXJ2ZXJNZXNzYWdlKFxyXG4gICAgICAgICAgICBjbGllbnRNZXNzYWdlSWQsXHJcbiAgICAgICAgICAgIG1lc3NhZ2UsXHJcbiAgICAgICAgICAgIGZhbHNlXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICApXHJcblxyXG4gICAgLy8gc29ja2V0Lm9uKFwibWVzc2FnZTpjcmVhdGUtdXNlci1tZWRpYS1tZXNzYWdlLXJlcXVlc3QtcmVzXCIsIGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgLy8gICBpZiAoZGF0YS5pc1N1Y2Nlc3MpIHtcclxuICAgIC8vICAgICBsZXQgbWVzc2FnZSA9IGRhdGEubWVzc2FnZVxyXG4gICAgLy8gICAgIGxldCBjaGF0SWQgPSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZFxyXG4gICAgLy8gICAgIGxldCB7IHVwZGF0ZUFsbENoYXRTZWN0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAvLyAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgIC8vICAgICApXHJcbiAgICAvLyAgICAgdXBkYXRlQWxsQ2hhdFNlY3Rpb24obWVzc2FnZSlcclxuICAgIC8vICAgICAvLyBsZXQgeyBpbmNyZWFzZVVuc2Vlbk1lc3NhZ2VzQ291bnRJbkNoYXRCb3ggfSA9IGF3YWl0IGltcG9ydChcclxuICAgIC8vICAgICAvLyAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgLy8gICAgIC8vIClcclxuICAgIC8vICAgICAvLyBpbmNyZWFzZVVuc2Vlbk1lc3NhZ2VzQ291bnRJbkNoYXRCb3gobWVzc2FnZS5jaGF0Ll9pZClcclxuICAgIC8vICAgICBpZiAoXHJcbiAgICAvLyAgICAgICBjaGF0SWQudG9TdHJpbmcoKSAhPT0gXCJcIiAmJlxyXG4gICAgLy8gICAgICAgY2hhdElkLnRvU3RyaW5nKCkgPT09IG1lc3NhZ2UuY2hhdC5faWQudG9TdHJpbmcoKVxyXG4gICAgLy8gICAgICkge1xyXG4gICAgLy8gICAgICAgbGV0IHsgcmVwbGFjZUNsaWVudFVzZXJNZXNzYWdlVG9TZXJ2ZXJNZXNzYWdlIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAvLyAgICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy9tZXNzYWdlLmRldlwiXHJcbiAgICAvLyAgICAgICApXHJcbiAgICAvLyAgICAgICByZXBsYWNlQ2xpZW50VXNlck1lc3NhZ2VUb1NlcnZlck1lc3NhZ2UoXHJcbiAgICAvLyAgICAgICAgIGRhdGEuY2xpZW50TWVzc2FnZUlkLFxyXG4gICAgLy8gICAgICAgICBtZXNzYWdlLFxyXG4gICAgLy8gICAgICAgICB0cnVlLFxyXG4gICAgLy8gICAgICAgICBmYWxzZVxyXG4gICAgLy8gICAgICAgKVxyXG4gICAgLy8gICAgIH1cclxuICAgIC8vICAgfSBlbHNlIHtcclxuICAgIC8vICAgICBsZXQgeyB1cGRhdGVDbGllbnRVc2VyTWVzc2FnZVN0YXR1cyB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgLy8gICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL21lc3NhZ2UuZGV2LmpzXCJcclxuICAgIC8vICAgICApXHJcbiAgICAvLyAgICAgdXBkYXRlQ2xpZW50VXNlck1lc3NhZ2VTdGF0dXMoZGF0YS5jbGllbnRNZXNzYWdlSWQsIFwiZXJyb3JcIilcclxuICAgIC8vICAgICBjcmVhdGVNYWluTm90aWZpY2F0aW9uKGRhdGEuZXJyb3IsIFwiZXJyb3JcIilcclxuICAgIC8vICAgfVxyXG4gICAgLy8gfSlcclxuXHJcbiAgICBzb2NrZXQub24oXCJtZXNzYWdlOm5ldy11c2VyLW1lc3NhZ2VcIiwgYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAgIGxldCBtZXNzYWdlID0gZGF0YS5tZXNzYWdlXHJcbiAgICAgIGxldCBjaGF0SWQgPSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZFxyXG4gICAgICBsZXQgeyB1cGRhdGVBbGxDaGF0U2VjdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIHVwZGF0ZUFsbENoYXRTZWN0aW9uKG1lc3NhZ2UpXHJcbiAgICAgIGxldCB7IGluY3JlYXNlVW5zZWVuTWVzc2FnZXNDb3VudEluQ2hhdEJveCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIGluY3JlYXNlVW5zZWVuTWVzc2FnZXNDb3VudEluQ2hhdEJveChtZXNzYWdlLmNoYXQuX2lkKVxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgY2hhdElkLnRvU3RyaW5nKCkgIT09IFwiXCIgJiZcclxuICAgICAgICBjaGF0SWQudG9TdHJpbmcoKSA9PT0gbWVzc2FnZS5jaGF0Ll9pZC50b1N0cmluZygpXHJcbiAgICAgICkge1xyXG4gICAgICAgIGxldCB7IGNoZWNrVGltZUFuZENyZWF0ZU5ld01lc3NhZ2UgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgIFwiLi4vLi4vLi4vY2hhdC9qcy9tZXNzYWdlLmRldlwiXHJcbiAgICAgICAgKVxyXG4gICAgICAgIGNoZWNrVGltZUFuZENyZWF0ZU5ld01lc3NhZ2UobWVzc2FnZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgc29ja2V0Lm9uKFwibWVzc2FnZTpuZXctaW5mby1tZXNzYWdlXCIsIGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBsZXQgbWVzc2FnZSA9IGRhdGEubWVzc2FnZVxyXG4gICAgICBsZXQgY2hhdElkID0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWRcclxuICAgICAgbGV0IHsgdXBkYXRlQWxsQ2hhdFNlY3Rpb24gfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgKVxyXG4gICAgICB1cGRhdGVBbGxDaGF0U2VjdGlvbihtZXNzYWdlKVxyXG4gICAgICBsZXQgeyBpbmNyZWFzZVVuc2Vlbk1lc3NhZ2VzQ291bnRJbkNoYXRCb3ggfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBpbmNyZWFzZVVuc2Vlbk1lc3NhZ2VzQ291bnRJbkNoYXRCb3gobWVzc2FnZS5jaGF0Ll9pZClcclxuICAgICAgaWYgKGNoYXRJZCAhPT0gXCJcIiAmJiBjaGF0SWQgPT09IG1lc3NhZ2UuY2hhdC5faWQpIHtcclxuICAgICAgICBsZXQgeyBjcmVhdGVJbmZvTWVzc2FnZSB9ID0gYXdhaXQgaW1wb3J0KFwiLi4vLi4vLi4vY2hhdC9qcy9tZXNzYWdlLmRldlwiKVxyXG5cclxuICAgICAgICBsZXQgaW5mb01lc3NhZ2VCb3ggPSBjcmVhdGVJbmZvTWVzc2FnZShtZXNzYWdlKVxyXG4gICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLmluc2VydEFkamFjZW50RWxlbWVudChcclxuICAgICAgICAgIFwiYmVmb3JlZW5kXCIsXHJcbiAgICAgICAgICBpbmZvTWVzc2FnZUJveFxyXG4gICAgICAgIClcclxuICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5zY3JvbGxUb3AgPVxyXG4gICAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuc2Nyb2xsSGVpZ2h0ICsgMTAwMFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICBzb2NrZXQub24oXCJtZXNzYWdlOmRlbGV0ZS1tZXNzYWdlLWZvci1hbGxcIiwgYXN5bmMgZGF0YSA9PiB7XHJcbiAgICAgIGxldCB7IGNvbnZlcnRVc2VyTWVzc2FnZVRvRGVsZXRlZEZvckFsbE1lc3NhZ2UgfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvbWVzc2FnZS5kZXZcIlxyXG4gICAgICApXHJcbiAgICAgIGNvbnZlcnRVc2VyTWVzc2FnZVRvRGVsZXRlZEZvckFsbE1lc3NhZ2UoZGF0YS5kZWxldGVkRm9yQWxsTWVzc2FnZSlcclxuICAgICAgaWYgKGRhdGEuaXNMYXRlc3RNZXNzYWdlQ2hhbmdlZCkge1xyXG4gICAgICAgIGxldCB7IHVwZGF0ZUNoYXRCb3hMYXRlc3RNZXNzYWdlIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgdXBkYXRlQ2hhdEJveExhdGVzdE1lc3NhZ2UoZGF0YS5sYXRlc3RNZXNzYWdlKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgc29ja2V0Lm9uKFwibWVzc2FnZTp1cGRhdGUtbWVzc2FnZS1zZWVuLXN0YXR1c1wiLCBhc3luYyBkYXRhID0+IHtcclxuICAgICAgbGV0IHtcclxuICAgICAgICBtZXNzYWdlSWQsXHJcbiAgICAgICAgY2hhdElkLFxyXG4gICAgICAgIHB1c2hlZFVzZXIsXHJcbiAgICAgICAgcHVzaGVkVXNlclRpbWUsXHJcbiAgICAgICAgbWVzc2FnZVNlZW5TdGF0dXNDb3VudCxcclxuICAgICAgICBtZXNzYWdlUmVhZGVyQ291bnRcclxuICAgICAgfSA9IGRhdGFcclxuICAgICAgaWYgKGNoYXRJZC50b1N0cmluZygpID09PSBhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZC50b1N0cmluZygpKSB7XHJcbiAgICAgICAgbGV0IHsgY2hhbmdlVXNlck1lc3NhZ2VTdGF0dXNXaXRoTWVzc2FnZVNlZW5TdGF0dXNDb3VudCB9ID1cclxuICAgICAgICAgIGF3YWl0IGltcG9ydChcIi4uLy4uLy4uL2NoYXQvanMvbWVzc2FnZS5kZXZcIilcclxuICAgICAgICBjaGFuZ2VVc2VyTWVzc2FnZVN0YXR1c1dpdGhNZXNzYWdlU2VlblN0YXR1c0NvdW50KFxyXG4gICAgICAgICAgbWVzc2FnZUlkLFxyXG4gICAgICAgICAgbWVzc2FnZVNlZW5TdGF0dXNDb3VudCxcclxuICAgICAgICAgIG1lc3NhZ2VSZWFkZXJDb3VudFxyXG4gICAgICAgIClcclxuICAgICAgICBsZXQgeyBhZGRVc2VyVG9NZXNzYWdlSW5mb01vZGFsU2VlblN0YXR1cyB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgICAgXCIuLi8uLi8uLi9jaGF0L2pzL3VzZXJNZXNzYWdlT3B0aW9uTW9kYWwuZGV2XCJcclxuICAgICAgICApXHJcbiAgICAgICAgYWRkVXNlclRvTWVzc2FnZUluZm9Nb2RhbFNlZW5TdGF0dXMoXHJcbiAgICAgICAgICBtZXNzYWdlSWQsXHJcbiAgICAgICAgICBwdXNoZWRVc2VyLFxyXG4gICAgICAgICAgcHVzaGVkVXNlclRpbWVcclxuICAgICAgICApXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBzb2NrZXQub24oXCJtZXNzYWdlOm1lc3NhZ2Utc2Vlbi1ieS1zZWxmXCIsIGFzeW5jIGRhdGEgPT4ge1xyXG4gICAgICBsZXQgeyBkZWNyZWFzZVVuc2Vlbk1lc3NhZ2VzQ291bnRJbkNoYXRCb3ggfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICBcIi4uLy4uLy4uL2NoYXQvanMvdXBkYXRlQWxsQ2hhdFNlY3Rpb24uZGV2XCJcclxuICAgICAgKVxyXG4gICAgICBkZWNyZWFzZVVuc2Vlbk1lc3NhZ2VzQ291bnRJbkNoYXRCb3goZGF0YS5jaGF0SWQpXHJcbiAgICB9KVxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUubG9nKFwic29ja2V0IHByb2JsZW1cIiwgZS5tZXNzYWdlKVxyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiY3JlYXRlTWVzc2FnZVNvY2tldCIsInNvY2tldCIsImNyZWF0ZU1haW5Ob3RpZmljYXRpb24iLCJhY3RpdmVDaGF0U2VjdGlvbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciIsImFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMiLCJvbiIsImRhdGEiLCJpc1N1Y2Nlc3MiLCJjbGllbnRNZXNzYWdlSWQiLCJjaGF0SWQiLCJ1cGRhdGVDbGllbnRVc2VyTWVzc2FnZVN0YXR1cyIsImRhdGFzZXQiLCJ0b1N0cmluZyIsIm1lc3NhZ2VJZCIsImVycm9yIiwiZGVsaXZlcmVkVGltZSIsImNoYW5nZVVzZXJNZXNzYWdlU3RhdHVzVG9EZWxpdmVyZWQiLCJ1cGRhdGVNZXNzYWdlSW5mb01vZGFsRGVsaXZlcnlTdGF0dXMiLCJtZXNzYWdlIiwidXBkYXRlQWxsQ2hhdFNlY3Rpb24iLCJjaGF0IiwiX2lkIiwicmVwbGFjZUNsaWVudFVzZXJNZXNzYWdlVG9TZXJ2ZXJNZXNzYWdlIiwiaW5jcmVhc2VVbnNlZW5NZXNzYWdlc0NvdW50SW5DaGF0Qm94IiwiY2hlY2tUaW1lQW5kQ3JlYXRlTmV3TWVzc2FnZSIsImNyZWF0ZUluZm9NZXNzYWdlIiwiaW5mb01lc3NhZ2VCb3giLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJzY3JvbGxUb3AiLCJzY3JvbGxIZWlnaHQiLCJjb252ZXJ0VXNlck1lc3NhZ2VUb0RlbGV0ZWRGb3JBbGxNZXNzYWdlIiwiZGVsZXRlZEZvckFsbE1lc3NhZ2UiLCJpc0xhdGVzdE1lc3NhZ2VDaGFuZ2VkIiwidXBkYXRlQ2hhdEJveExhdGVzdE1lc3NhZ2UiLCJsYXRlc3RNZXNzYWdlIiwicHVzaGVkVXNlciIsInB1c2hlZFVzZXJUaW1lIiwibWVzc2FnZVNlZW5TdGF0dXNDb3VudCIsIm1lc3NhZ2VSZWFkZXJDb3VudCIsImNoYW5nZVVzZXJNZXNzYWdlU3RhdHVzV2l0aE1lc3NhZ2VTZWVuU3RhdHVzQ291bnQiLCJhZGRVc2VyVG9NZXNzYWdlSW5mb01vZGFsU2VlblN0YXR1cyIsImRlY3JlYXNlVW5zZWVuTWVzc2FnZXNDb3VudEluQ2hhdEJveCIsImUiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./dev-javascripts/socket/event-handler/message-socket/index.js\n");

/***/ })

}]);