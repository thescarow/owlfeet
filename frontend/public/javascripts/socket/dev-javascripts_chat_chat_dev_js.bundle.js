"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_chat_chat_dev_js"],{

/***/ "./dev-javascripts/chat/chat.dev.js":
/*!******************************************!*\
  !*** ./dev-javascripts/chat/chat.dev.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"openActiveChatInputBox\": () => (/* binding */ openActiveChatInputBox),\n/* harmony export */   \"openActivechatInputAttachmentBox\": () => (/* binding */ openActivechatInputAttachmentBox)\n/* harmony export */ });\nconst {\n  createMainNotification\n} = __webpack_require__(/*! ../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\");\n\n(async function () {\n  const allChatSection = document.getElementById(\"allChatSection\");\n  const activeChatSection = document.getElementById(\"activeChatSection\");\n\n  async function checkChatState() {\n    // console.log(location)\n    // console.log(history)\n    if (location.hash) {\n      let chatId = location.hash.replace(\"#\", \"\");\n      let {\n        fetchActiveChat\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_fetchActiveChat_dev_js-_f47d0\").then(__webpack_require__.bind(__webpack_require__, /*! ./js/fetchActiveChat.dev */ \"./dev-javascripts/chat/js/fetchActiveChat.dev.js\"));\n      fetchActiveChat(chatId);\n    } else {\n      // history.replaceState({}, \"\", \"\")\n      document.title = \"Chats\";\n      allChatSection.classList.remove(\"all-chat-section--hide\");\n      activeChatSection.classList.add(\"active-chat-section--hide\");\n    }\n  }\n\n  document.addEventListener(\"DOMContentLoaded\", checkChatState);\n  window.addEventListener(\"popstate\", checkChatState);\n  const allChatBox = [...document.getElementsByClassName(\"chat-box\")];\n  allChatBox.forEach(chatBox => {\n    chatBox.addEventListener(\"click\", async () => {\n      let chatId = chatBox.dataset.chatId;\n      let {\n        fetchActiveChat\n      } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_fetchActiveChat_dev_js-_f47d0\").then(__webpack_require__.bind(__webpack_require__, /*! ./js/fetchActiveChat.dev */ \"./dev-javascripts/chat/js/fetchActiveChat.dev.js\"));\n      fetchActiveChat(chatId);\n    });\n  }); //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  // active chat message container\n\n  const activeChatMessageContainer = document.getElementById(\"activeChatMessageContainer\"); ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  // active chat input container\n\n  const activeChatInputContainer = document.getElementById(\"activeChatInputContainer\");\n  const activeChatInputTextContent = document.getElementById(\"activeChatInputTextContent\");\n  const activeChatInputAttachmentBox = document.getElementById(\"activeChatInputAttachmentBox\");\n  activeChatInputTextContent.addEventListener(\"input\", () => {\n    if (activeChatInputTextContent.value === \"\") {\n      activeChatInputAttachmentBox.classList.remove(\"active-chat-input-attachment-box--hide\");\n    } else {\n      if (!activeChatInputAttachmentBox.classList.contains(\"active-chat-input-attachment-box--hide\")) {\n        activeChatInputAttachmentBox.classList.add(\"active-chat-input-attachment-box--hide\");\n      }\n    }\n\n    activeChatInputTextContent.style.height = \"auto\";\n    activeChatInputTextContent.style.height = activeChatInputTextContent.scrollHeight + \"px\";\n    adjustMessageContainerBottomPadding();\n  }, false);\n\n  function adjustMessageContainerBottomPadding() {\n    activeChatMessageContainer.style.paddingBottom = activeChatInputContainer.clientHeight + 5 + \"px\";\n    activeChatMessageContainer.scrollTop = activeChatMessageContainer.scrollHeight + 1000;\n  } ///////////////////////////////////////////////////\n\n\n  const {\n    default: insertTextAtCursor\n  } = await __webpack_require__.e(/*! import() */ \"node_modules_insert-text-at-cursor_dist_index_esm_js\").then(__webpack_require__.bind(__webpack_require__, /*! insert-text-at-cursor */ \"./node_modules/insert-text-at-cursor/dist/index.esm.js\"));\n  const {\n    Picker\n  } = await __webpack_require__.e(/*! import() */ \"vendors-node_modules_emoji-mart_dist_module_js\").then(__webpack_require__.bind(__webpack_require__, /*! emoji-mart */ \"./node_modules/emoji-mart/dist/module.js\"));\n\n  function getEmojiAndAddToInput(emoji) {\n    insertTextAtCursor(activeChatInputTextContent, emoji.native);\n  }\n\n  const activeChatInputEmojiBtn = document.getElementById(\"activeChatInputEmojiBtn\");\n  const activeChatInputEmojiContainer = document.getElementById(\"activeChatInputEmojiContainer\");\n  let emojiPickerOptions = {\n    parent: activeChatInputEmojiContainer,\n    data: async () => {\n      const data = await __webpack_require__.e(/*! import() */ \"vendors-node_modules_emoji-mart_data_sets_14_native_json\").then(__webpack_require__.t.bind(__webpack_require__, /*! @emoji-mart/data */ \"./node_modules/@emoji-mart/data/sets/14/native.json\", 19));\n      return data;\n    },\n    onEmojiSelect: getEmojiAndAddToInput,\n    // onClickOutside: () => {\n    //   console.log(\"hello\")\n    // },\n    autoFocus: false,\n    emojiButtonColors: [\"rgba(155, 223, 88, 0.7)\", \"rgba(155, 40, 88, 0.7)\", \"rgba(40, 223, 88, 0.7)\", \"rgba(155, 223, 88, 0.7)\", \"rgba(40, 223, 223, 0.7)\", \"rgba(20, 150, 150, 0.7)\", \"rgba(150, 150, 20, 0.7)\", \"rgba(150, 20, 150, 0.7)\"],\n    emojiButtonSize: 40,\n    // emojiSize: 25,\n    emojiVersion: 14,\n    icons: \"auto\",\n    maxFrequentRows: 2,\n    navPosition: \"bottom\",\n    previewPosition: \"none\",\n    set: \"native\",\n    dynamicWidth: true\n  };\n  new Picker(emojiPickerOptions);\n  activeChatInputEmojiBtn.addEventListener(\"click\", () => {\n    activeChatInputEmojiContainer.classList.toggle(\"active-chat-input-box__emoji-container--hide\");\n  }); ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  // input message creation\n\n  let {\n    closeReplyMessageBox\n  } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_replyMessageBox_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./js/replyMessageBox.dev.js */ \"./dev-javascripts/chat/js/replyMessageBox.dev.js\")); // ///////////////////////////////////////////////////////////// /////////////////////////////////////////////////////\n\n  const {\n    checkTimeAndCreateNewMessage\n  } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_plyr_dist_plyr_min_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_message_dev_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./js/message.dev */ \"./dev-javascripts/chat/js/message.dev.js\"));\n  const {\n    updateAllChatSection\n  } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_updateAllChatSection_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./js/updateAllChatSection.dev */ \"./dev-javascripts/chat/js/updateAllChatSection.dev.js\"));\n  const {\n    default: Uppy\n  } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_lib_index_js\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @uppy/core */ \"./node_modules/@uppy/core/lib/index.js\", 23));\n  const {\n    default: Dashboard\n  } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_dashboard_lib_index_js\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @uppy/dashboard */ \"./node_modules/@uppy/dashboard/lib/index.js\", 23));\n  const {\n    default: Webcam\n  } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_webcam_lib_index_js\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @uppy/webcam */ \"./node_modules/@uppy/webcam/lib/index.js\", 23));\n  const {\n    default: ImageEditor\n  } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_image-editor_lib_index_js\")]).then(__webpack_require__.t.bind(__webpack_require__, /*! @uppy/image-editor */ \"./node_modules/@uppy/image-editor/lib/index.js\", 23));\n  const {\n    default: Audio\n  } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_audio_lib_index_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/audio */ \"./node_modules/@uppy/audio/lib/index.js\"));\n  await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_uppy_core_dist_style_css\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de1\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/core/dist/style.css */ \"./node_modules/@uppy/core/dist/style.css\"));\n  await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_uppy_dashboard_dist_style_css\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-784fbd\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/dashboard/dist/style.css */ \"./node_modules/@uppy/dashboard/dist/style.css\"));\n  await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_uppy_webcam_dist_style_css\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_getUrl_js-no-6b1333\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/webcam/dist/style.css */ \"./node_modules/@uppy/webcam/dist/style.css\"));\n  await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_uppy_image-editor_dist_style_css\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_getUrl_js-no-f4d24e\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/image-editor/dist/style.css */ \"./node_modules/@uppy/image-editor/dist/style.css\"));\n  await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_uppy_audio_dist_style_css\"), __webpack_require__.e(\"data_image_svg_xml_charset_US-ASCII_3Csvg_20xmlns_3D_22http_3A_2F_2Fwww_w3_org_2F2000_2Fsvg_2-cd289e\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/audio/dist/style.css */ \"./node_modules/@uppy/audio/dist/style.css\"));\n  const {\n    default: AwsS3Multipart\n  } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_aws-s3-multipart_lib_index_js\")]).then(__webpack_require__.bind(__webpack_require__, /*! @uppy/aws-s3-multipart */ \"./node_modules/@uppy/aws-s3-multipart/lib/index.js\"));\n  const uppy = new Uppy({\n    id: \"chatMedia\",\n    autoProceed: false,\n    allowMultipleUploadBatches: true,\n    debug: false,\n    onBeforeFileAdded: (currentFile, files) => {\n      console.log(currentFile);\n\n      if (!currentFile.type) {\n        uppy.log(`Skipping file because it has no type`);\n        uppy.info(`Skipping file because it has no type`, \"error\", 500);\n        return false;\n      } else {\n        currentFile.name = \"\";\n        return currentFile;\n      }\n    },\n    onBeforeUpload: files => {// const updatedFiles = {}\n      // Object.keys(files).forEach(fileID => {\n      //   updatedFiles[fileID] = {\n      //     ...files[fileID],\n      //     meta: {\n      //       ...files[fileID].meta,\n      //       fileType: files[fileID].type\n      //     }\n      //   }\n      // })\n      // console.log(updatedFiles)\n      // return updatedFiles\n    },\n    restrictions: {\n      maxFileSize: 1024 * 1024 * 100,\n      minFileSize: null,\n      maxTotalFileSize: 1024 * 1024 * 100 * 10,\n      maxNumberOfFiles: 10,\n      minNumberOfFiles: 1,\n      allowedFileTypes: [\"image/jpeg\", \"image/png\", \"image/gif\", \"image/svg+xml\", \"image/x-png\", \"audio/mpeg\", \"audio/wav\", \"audio/x-wav\", \"audio/ogg\", \"audio/webm\", // \"audio/*\",\n      \"video/mp4\", \"video/webm\", \"video/ogg\", \"video/quicktime\", \"video/x-matroska\"]\n    },\n    meta: {\n      mediaType: \"chat-media\"\n    },\n    infoTimeout: 5000\n  }).use(Dashboard, {\n    trigger: \"#activeChatInputAttachmentFileBtn\",\n    target: \"body\",\n    inline: false,\n    plugins: [\"Webcam\", \"ImageEditor\", \"Audio\"],\n    thumbnailWidth: 300,\n    // closeAfterFinish: false,\n    showRemoveButtonAfterComplete: false,\n    disablePageScrollWhenModalOpen: true,\n    closeModalOnClickOutside: true,\n    theme: \"light\",\n    locale: {\n      strings: {}\n    },\n    note: \"Images, Audios and videos only, up to 10 files, 1 file up to 100 MB\",\n    proudlyDisplayPoweredByUppy: false\n  }).use(Webcam, {\n    target: Dashboard,\n    title: \"Camera\",\n    mirror: true,\n    modes: [\"video-audio\", \"video-only\", \"picture\"],\n    preferredVideoMimeType: \"video/mp4\",\n    showRecordingLength: true\n  }).use(ImageEditor, {\n    target: Dashboard,\n    quality: 0.8\n  }).use(Audio, {\n    id: \"Audio\",\n    target: Dashboard,\n    showAudioSourceDropdown: false\n  }).use(AwsS3Multipart, {\n    limit: 4,\n    companionUrl: \"http://localhost:5000/companion\"\n  }); // uppy.on(\"complete\", result => {\n  //   console.log(\n  //     \"Upload complete! We’ve uploaded these files:\",\n  //     result.successful\n  //   )\n  // })\n\n  uppy.on(\"upload-success\", (file, response) => {\n    let userMessage = {};\n    userMessage.chat = activeChatSection.dataset.chatId;\n    userMessage.hasMediaContent = true;\n    userMessage.mediaContentType = file.type.split(\"/\")[0];\n    userMessage.mediaContentMimeType = file.type;\n    userMessage.mediaContentPath = file.s3Multipart.key;\n    userMessage.repliedTo = activeChatInputContainer.dataset.repliedTo;\n    fetch(\"/message\", {\n      method: \"POST\",\n      // or 'PUT'\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(userMessage)\n    }).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then(data => {\n      if (data.isSuccess) {\n        checkTimeAndCreateNewMessage(data.message, activeChatMessageContainer);\n        closeReplyMessageBox();\n        updateAllChatSection(data.message);\n      } else {\n        createMainNotification(data.error, \"error\");\n      }\n    }).catch(err => {\n      console.log(err);\n      createMainNotification(\"Server Error In Sending Message, Please Try Again\", \"error\");\n    });\n  }); // active chat input youtube send btn\n\n  const activeChatInputAttachmentYoutubeContentSendBtn = document.getElementById(\"activeChatInputAttachmentYoutubeContentSendBtn\");\n  const activeChatInputAttachmentYoutubeContent = document.getElementById(\"activeChatInputAttachmentYoutubeContent\");\n  activeChatInputAttachmentYoutubeContentSendBtn.addEventListener(\"click\", () => {\n    let userMessage = {};\n\n    if (activeChatInputAttachmentYoutubeContent.value !== \"\") {\n      userMessage.chat = activeChatSection.dataset.chatId;\n      userMessage.hasMediaContent = true;\n      userMessage.mediaContentType = \"youtube\";\n      userMessage.mediaContentMimeType = \"video/mp4\";\n      userMessage.mediaContentPath = activeChatInputAttachmentYoutubeContent.value;\n      userMessage.repliedTo = activeChatInputContainer.dataset.repliedTo;\n      activeChatInputAttachmentYoutubeContent.value = \"\";\n      fetch(\"/message\", {\n        method: \"POST\",\n        // or 'PUT'\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(userMessage)\n      }).then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n\n        return Promise.reject(response);\n      }).then(data => {\n        if (data.isSuccess) {\n          checkTimeAndCreateNewMessage(data.message, activeChatMessageContainer);\n          closeReplyMessageBox();\n          document.getElementById(\"activeChatInputAttachmentYoutubeBtnInputBox\").classList.add(\"input-attachment-btn-box__input-box--hide\");\n          updateAllChatSection(data.message);\n          activeChatInputAttachmentYoutubeBtnInputBox.classList.add(\"attachment-btn-box__input-box--hide\");\n        } else {\n          createMainNotification(data.error, \"error\");\n        }\n      }).catch(err => {\n        console.log(err);\n        createMainNotification(\"Server Error In Sending Message, Please Try Again\", \"error\");\n      });\n    }\n  }); /////////////////////////////////////////////////////////////\n  // active chat input send btn\n\n  const activeChatInputSendBtn = document.getElementById(\"activeChatInputSendBtn\");\n  activeChatInputSendBtn.addEventListener(\"click\", () => {\n    let userMessage = {};\n\n    if (activeChatInputTextContent.value.trim() !== \"\" && activeChatSection.dataset.chatId !== \"\") {\n      userMessage.chat = activeChatSection.dataset.chatId;\n      userMessage.hasMediaContent = false;\n      userMessage.textContent = activeChatInputTextContent.value.trim();\n      userMessage.repliedTo = activeChatInputContainer.dataset.repliedTo;\n      activeChatInputTextContent.value = \"\";\n      fetch(\"/message\", {\n        method: \"POST\",\n        // or 'PUT'\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(userMessage)\n      }).then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n\n        return Promise.reject(response);\n      }).then(data => {\n        if (data.isSuccess) {\n          activeChatInputAttachmentBox.classList.remove(\"active-chat-input-attachment-box--hide\");\n          activeChatInputTextContent.style.height = \"auto\";\n          activeChatInputTextContent.style.height = activeChatInputTextContent.scrollHeight + \"px\";\n\n          if (parseInt(activeChatInputTextContent.style.height.slice(0, -2)) <= 40) {\n            activeChatMessageContainer.style.paddingBottom = \"60px\";\n          } else {\n            activeChatMessageContainer.style.paddingBottom = activeChatInputTextContent.style.height;\n          }\n\n          checkTimeAndCreateNewMessage(data.message, activeChatMessageContainer);\n          closeReplyMessageBox();\n          updateAllChatSection(data.message);\n          activeChatMessageContainer.scrollTop = activeChatMessageContainer.scrollHeight + 1000;\n        } else {\n          createMainNotification(data.error, \"error\");\n        }\n      }).catch(err => {\n        console.log(err);\n        createMainNotification(\"Server Error In Sending Message, Please Try Again\", \"error\");\n      });\n    }\n  }); ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n  // active-chat-input-attachment-box\n\n  const activeChatInputAttachmentBoxBtn = document.getElementById(\"activeChatInputAttachmentBoxBtn\");\n  activeChatInputAttachmentBoxBtn.addEventListener(\"click\", () => {\n    if (activeChatInputAttachmentBoxBtn.classList.contains(\"active-chat-input-attachment-box__btn--selected\")) {\n      openActiveChatInputBox();\n    } else {\n      openActivechatInputAttachmentBox();\n    }\n  });\n  const activeChatInputAttachmentYoutubeBtn = document.getElementById(\"activeChatInputAttachmentYoutubeBtn\");\n  const activeChatInputAttachmentYoutubeBtnInputBox = document.getElementById(\"activeChatInputAttachmentYoutubeBtnInputBox\");\n  activeChatInputAttachmentYoutubeBtn.addEventListener(\"click\", () => {\n    activeChatInputAttachmentYoutubeBtnInputBox.classList.toggle(\"input-attachment-btn-box__input-box--hide\");\n  }); // initialize event to active chat\n  ////////////////////\n  ///////////////////\n  // active chat to all chat btn\n\n  const ActiveChatToAllChatBtn = document.getElementById(\"ActiveChatToAllChatBtn\");\n  ActiveChatToAllChatBtn.addEventListener(\"click\", () => {\n    location.hash = \"\";\n  }); //active chat header pic and active chat header name\n\n  let activeChatHeaderPic = document.getElementById(\"activeChatHeaderPic\");\n  activeChatHeaderPic.addEventListener(\"click\", async () => {\n    let activeChatId = activeChatSection.dataset.chatId;\n\n    if (activeChatId != \"\") {\n      let {\n        createActiveChatInfoModal\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_chat_js_createActiveChatInfoModal_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de0\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./js/createActiveChatInfoModal.dev.js */ \"./dev-javascripts/chat/js/createActiveChatInfoModal.dev.js\"));\n      createActiveChatInfoModal(activeChatId);\n    }\n  });\n  let activeChatHeaderName = document.getElementById(\"activeChatHeaderName\");\n  activeChatHeaderName.addEventListener(\"click\", async () => {\n    let activeChatId = activeChatSection.dataset.chatId;\n\n    if (activeChatId != \"\") {\n      let {\n        createActiveChatInfoModal\n      } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_chat_js_createActiveChatInfoModal_dev_js\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de0\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./js/createActiveChatInfoModal.dev.js */ \"./dev-javascripts/chat/js/createActiveChatInfoModal.dev.js\"));\n      createActiveChatInfoModal(activeChatId);\n    }\n  }); ////////////////////\n  // create new group chat btn\n  // group chat form Modal and assign event to btn\n\n  const createNewGroupChatBtn = document.getElementById(\"createNewGroupChatBtn\");\n  createNewGroupChatBtn.addEventListener(\"click\", async () => {\n    let {\n      createGroupChatFormModal\n    } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_lodash_throttle_index_js-node_modules_namespace-emitter_index_js-node_mo-fa5147\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_dashboard_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_dashboard_dist_style_css\"), __webpack_require__.e(\"vendors-node_modules_uppy_image-editor_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_aws-s3-multipart_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_webcam_lib_index_js\"), __webpack_require__.e(\"vendors-node_modules_uppy_image-editor_dist_style_css\"), __webpack_require__.e(\"vendors-node_modules_uppy_core_dist_style_css\"), __webpack_require__.e(\"vendors-node_modules_uppy_webcam_dist_style_css\"), __webpack_require__.e(\"dev-javascripts_chat_js_createGroupChatFormModal_dev_js-data_image_png_base64_iVBORw0KGgoAAAA-4573f1\"), __webpack_require__.e(\"node_modules_css-loader_dist_runtime_api_js-node_modules_css-loader_dist_runtime_sourceMaps_j-d9b4de2\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./js/createGroupChatFormModal.dev */ \"./dev-javascripts/chat/js/createGroupChatFormModal.dev.js\"));\n    createGroupChatFormModal();\n  });\n})();\n\nfunction openActivechatInputAttachmentBox() {\n  document.getElementById(\"activeChatInputAttachmentBoxBtn\").classList.add(\"active-chat-input-attachment-box__btn--selected\");\n  const activeChatInputAttachmentBox = document.getElementById(\"activeChatInputAttachmentBox\");\n  activeChatInputAttachmentBox.classList.add(\"active-chat-input-attachment-box--selected\");\n  activeChatInputAttachmentBox.classList.remove(\"active-chat-input-attachment-box--hide\");\n  document.getElementById(\"activeChatInputAttachmentBtnContainer\").classList.remove(\"input-attachment-btn-container--hide\");\n  document.getElementById(\"activeChatInputBox\").classList.add(\"active-chat-input-box--hide\");\n  document.getElementById(\"activeChatInputSendBox\").classList.add(\"active-chat-input-send-box--hide\");\n  document.getElementById(\"activeChatInputAttachmentYoutubeBtnInputBox\").classList.add(\"input-attachment-btn-box__input-box--hide\");\n}\nfunction openActiveChatInputBox() {\n  document.getElementById(\"activeChatInputAttachmentBoxBtn\").classList.remove(\"active-chat-input-attachment-box__btn--selected\");\n  document.getElementById(\"activeChatInputAttachmentBox\").classList.remove(\"active-chat-input-attachment-box--selected\");\n  document.getElementById(\"activeChatInputAttachmentBtnContainer\").classList.add(\"input-attachment-btn-container--hide\");\n  document.getElementById(\"activeChatInputBox\").classList.remove(\"active-chat-input-box--hide\");\n  document.getElementById(\"activeChatInputSendBox\").classList.remove(\"active-chat-input-send-box--hide\");\n}\ndocument.getElementById(\"activeChatInputReplyBoxCloseBtn\").addEventListener(\"click\", async () => {\n  let {\n    closeReplyMessageBox\n  } = await __webpack_require__.e(/*! import() */ \"dev-javascripts_chat_js_replyMessageBox_dev_js\").then(__webpack_require__.bind(__webpack_require__, /*! ./js/replyMessageBox.dev */ \"./dev-javascripts/chat/js/replyMessageBox.dev.js\"));\n  closeReplyMessageBox();\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUdBWixRQUFRLENBQ0xDLGNBREgsQ0FDa0IsNkNBRGxCLEVBRUdTLFNBRkgsQ0FFYUUsR0FGYixDQUVpQiwyQ0FGakI7QUFHRDtBQUNNLFNBQVN5SSxzQkFBVCxHQUFrQztFQUN2Q3JKLFFBQVEsQ0FDTEMsY0FESCxDQUNrQixpQ0FEbEIsRUFFR1MsU0FGSCxDQUVhQyxNQUZiLENBRW9CLGlEQUZwQjtFQUdBWCxRQUFRLENBQ0xDLGNBREgsQ0FDa0IsOEJBRGxCLEVBRUdTLFNBRkgsQ0FFYUMsTUFGYixDQUVvQiw0Q0FGcEI7RUFJQVgsUUFBUSxDQUNMQyxjQURILENBQ2tCLHVDQURsQixFQUVHUyxTQUZILENBRWFFLEdBRmIsQ0FFaUIsc0NBRmpCO0VBSUFaLFFBQVEsQ0FDTEMsY0FESCxDQUNrQixvQkFEbEIsRUFFR1MsU0FGSCxDQUVhQyxNQUZiLENBRW9CLDZCQUZwQjtFQUlBWCxRQUFRLENBQ0xDLGNBREgsQ0FDa0Isd0JBRGxCLEVBRUdTLFNBRkgsQ0FFYUMsTUFGYixDQUVvQixrQ0FGcEI7QUFHRDtBQUVEWCxRQUFRLENBQ0xDLGNBREgsQ0FDa0IsaUNBRGxCLEVBRUdZLGdCQUZILENBRW9CLE9BRnBCLEVBRTZCLFlBQVk7RUFDckMsSUFBSTtJQUFFMkM7RUFBRixJQUEyQixNQUFNLCtOQUFyQztFQUNBQSxvQkFBb0I7QUFDckIsQ0FMSCIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vZGV2LWphdmFzY3JpcHRzL2NoYXQvY2hhdC5kZXYuanM/ZWFhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IGNyZWF0ZU1haW5Ob3RpZmljYXRpb24gfSA9IHJlcXVpcmUoXCIuLi9jb21tb24vbWFpbk5vdGlmaWNhdGlvbi5kZXZcIilcclxuXHJcbjsoYXN5bmMgZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGFsbENoYXRTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbGxDaGF0U2VjdGlvblwiKVxyXG4gIGNvbnN0IGFjdGl2ZUNoYXRTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0U2VjdGlvblwiKVxyXG4gIGFzeW5jIGZ1bmN0aW9uIGNoZWNrQ2hhdFN0YXRlKCkge1xyXG4gICAgLy8gY29uc29sZS5sb2cobG9jYXRpb24pXHJcbiAgICAvLyBjb25zb2xlLmxvZyhoaXN0b3J5KVxyXG4gICAgaWYgKGxvY2F0aW9uLmhhc2gpIHtcclxuICAgICAgbGV0IGNoYXRJZCA9IGxvY2F0aW9uLmhhc2gucmVwbGFjZShcIiNcIiwgXCJcIilcclxuICAgICAgbGV0IHsgZmV0Y2hBY3RpdmVDaGF0IH0gPSBhd2FpdCBpbXBvcnQoXCIuL2pzL2ZldGNoQWN0aXZlQ2hhdC5kZXZcIilcclxuICAgICAgZmV0Y2hBY3RpdmVDaGF0KGNoYXRJZClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBcIlwiLCBcIlwiKVxyXG4gICAgICBkb2N1bWVudC50aXRsZSA9IFwiQ2hhdHNcIlxyXG4gICAgICBhbGxDaGF0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYWxsLWNoYXQtc2VjdGlvbi0taGlkZVwiKVxyXG4gICAgICBhY3RpdmVDaGF0U2VjdGlvbi5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlLWNoYXQtc2VjdGlvbi0taGlkZVwiKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgY2hlY2tDaGF0U3RhdGUpXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwb3BzdGF0ZVwiLCBjaGVja0NoYXRTdGF0ZSlcclxuXHJcbiAgY29uc3QgYWxsQ2hhdEJveCA9IFsuLi5kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY2hhdC1ib3hcIildXHJcbiAgYWxsQ2hhdEJveC5mb3JFYWNoKGNoYXRCb3ggPT4ge1xyXG4gICAgY2hhdEJveC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgICBsZXQgY2hhdElkID0gY2hhdEJveC5kYXRhc2V0LmNoYXRJZFxyXG4gICAgICBsZXQgeyBmZXRjaEFjdGl2ZUNoYXQgfSA9IGF3YWl0IGltcG9ydChcIi4vanMvZmV0Y2hBY3RpdmVDaGF0LmRldlwiKVxyXG4gICAgICBmZXRjaEFjdGl2ZUNoYXQoY2hhdElkKVxyXG4gICAgfSlcclxuICB9KVxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgLy8gYWN0aXZlIGNoYXQgbWVzc2FnZSBjb250YWluZXJcclxuICBjb25zdCBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lclwiXHJcbiAgKVxyXG5cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgLy8gYWN0aXZlIGNoYXQgaW5wdXQgY29udGFpbmVyXHJcbiAgY29uc3QgYWN0aXZlQ2hhdElucHV0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lclwiXHJcbiAgKVxyXG4gIGNvbnN0IGFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50XCJcclxuICApXHJcbiAgY29uc3QgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50Qm94XCJcclxuICApXHJcblxyXG4gIGFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50LmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICBcImlucHV0XCIsXHJcbiAgICAoKSA9PiB7XHJcbiAgICAgIGlmIChhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudC52YWx1ZSA9PT0gXCJcIikge1xyXG4gICAgICAgIGFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRCb3guY2xhc3NMaXN0LnJlbW92ZShcclxuICAgICAgICAgIFwiYWN0aXZlLWNoYXQtaW5wdXQtYXR0YWNobWVudC1ib3gtLWhpZGVcIlxyXG4gICAgICAgIClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAhYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveC5jbGFzc0xpc3QuY29udGFpbnMoXHJcbiAgICAgICAgICAgIFwiYWN0aXZlLWNoYXQtaW5wdXQtYXR0YWNobWVudC1ib3gtLWhpZGVcIlxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveC5jbGFzc0xpc3QuYWRkKFxyXG4gICAgICAgICAgICBcImFjdGl2ZS1jaGF0LWlucHV0LWF0dGFjaG1lbnQtYm94LS1oaWRlXCJcclxuICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQuc3R5bGUuaGVpZ2h0ID0gXCJhdXRvXCJcclxuICAgICAgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQuc3R5bGUuaGVpZ2h0ID1cclxuICAgICAgICBhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudC5zY3JvbGxIZWlnaHQgKyBcInB4XCJcclxuICAgICAgYWRqdXN0TWVzc2FnZUNvbnRhaW5lckJvdHRvbVBhZGRpbmcoKVxyXG4gICAgfSxcclxuICAgIGZhbHNlXHJcbiAgKVxyXG4gIGZ1bmN0aW9uIGFkanVzdE1lc3NhZ2VDb250YWluZXJCb3R0b21QYWRkaW5nKCkge1xyXG4gICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuc3R5bGUucGFkZGluZ0JvdHRvbSA9XHJcbiAgICAgIGFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lci5jbGllbnRIZWlnaHQgKyA1ICsgXCJweFwiXHJcbiAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5zY3JvbGxUb3AgPVxyXG4gICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5zY3JvbGxIZWlnaHQgKyAxMDAwXHJcbiAgfVxyXG5cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgY29uc3QgeyBkZWZhdWx0OiBpbnNlcnRUZXh0QXRDdXJzb3IgfSA9IGF3YWl0IGltcG9ydChcImluc2VydC10ZXh0LWF0LWN1cnNvclwiKVxyXG4gIGNvbnN0IHsgUGlja2VyIH0gPSBhd2FpdCBpbXBvcnQoXCJlbW9qaS1tYXJ0XCIpXHJcblxyXG4gIGZ1bmN0aW9uIGdldEVtb2ppQW5kQWRkVG9JbnB1dChlbW9qaSkge1xyXG4gICAgaW5zZXJ0VGV4dEF0Q3Vyc29yKGFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50LCBlbW9qaS5uYXRpdmUpXHJcbiAgfVxyXG5cclxuICBjb25zdCBhY3RpdmVDaGF0SW5wdXRFbW9qaUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJhY3RpdmVDaGF0SW5wdXRFbW9qaUJ0blwiXHJcbiAgKVxyXG4gIGNvbnN0IGFjdGl2ZUNoYXRJbnB1dEVtb2ppQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImFjdGl2ZUNoYXRJbnB1dEVtb2ppQ29udGFpbmVyXCJcclxuICApXHJcblxyXG4gIGxldCBlbW9qaVBpY2tlck9wdGlvbnMgPSB7XHJcbiAgICBwYXJlbnQ6IGFjdGl2ZUNoYXRJbnB1dEVtb2ppQ29udGFpbmVyLFxyXG4gICAgZGF0YTogYXN5bmMgKCkgPT4ge1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgaW1wb3J0KFwiQGVtb2ppLW1hcnQvZGF0YVwiKVxyXG4gICAgICByZXR1cm4gZGF0YVxyXG4gICAgfSxcclxuICAgIG9uRW1vamlTZWxlY3Q6IGdldEVtb2ppQW5kQWRkVG9JbnB1dCxcclxuICAgIC8vIG9uQ2xpY2tPdXRzaWRlOiAoKSA9PiB7XHJcbiAgICAvLyAgIGNvbnNvbGUubG9nKFwiaGVsbG9cIilcclxuICAgIC8vIH0sXHJcbiAgICBhdXRvRm9jdXM6IGZhbHNlLFxyXG4gICAgZW1vamlCdXR0b25Db2xvcnM6IFtcclxuICAgICAgXCJyZ2JhKDE1NSwgMjIzLCA4OCwgMC43KVwiLFxyXG4gICAgICBcInJnYmEoMTU1LCA0MCwgODgsIDAuNylcIixcclxuICAgICAgXCJyZ2JhKDQwLCAyMjMsIDg4LCAwLjcpXCIsXHJcbiAgICAgIFwicmdiYSgxNTUsIDIyMywgODgsIDAuNylcIixcclxuICAgICAgXCJyZ2JhKDQwLCAyMjMsIDIyMywgMC43KVwiLFxyXG4gICAgICBcInJnYmEoMjAsIDE1MCwgMTUwLCAwLjcpXCIsXHJcbiAgICAgIFwicmdiYSgxNTAsIDE1MCwgMjAsIDAuNylcIixcclxuICAgICAgXCJyZ2JhKDE1MCwgMjAsIDE1MCwgMC43KVwiXHJcbiAgICBdLFxyXG4gICAgZW1vamlCdXR0b25TaXplOiA0MCxcclxuICAgIC8vIGVtb2ppU2l6ZTogMjUsXHJcbiAgICBlbW9qaVZlcnNpb246IDE0LFxyXG4gICAgaWNvbnM6IFwiYXV0b1wiLFxyXG4gICAgbWF4RnJlcXVlbnRSb3dzOiAyLFxyXG4gICAgbmF2UG9zaXRpb246IFwiYm90dG9tXCIsXHJcbiAgICBwcmV2aWV3UG9zaXRpb246IFwibm9uZVwiLFxyXG4gICAgc2V0OiBcIm5hdGl2ZVwiLFxyXG4gICAgZHluYW1pY1dpZHRoOiB0cnVlXHJcbiAgfVxyXG5cclxuICBuZXcgUGlja2VyKGVtb2ppUGlja2VyT3B0aW9ucylcclxuXHJcbiAgYWN0aXZlQ2hhdElucHV0RW1vamlCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGFjdGl2ZUNoYXRJbnB1dEVtb2ppQ29udGFpbmVyLmNsYXNzTGlzdC50b2dnbGUoXHJcbiAgICAgIFwiYWN0aXZlLWNoYXQtaW5wdXQtYm94X19lbW9qaS1jb250YWluZXItLWhpZGVcIlxyXG4gICAgKVxyXG4gIH0pXHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgLy8gaW5wdXQgbWVzc2FnZSBjcmVhdGlvblxyXG4gIGxldCB7IGNsb3NlUmVwbHlNZXNzYWdlQm94IH0gPSBhd2FpdCBpbXBvcnQoXCIuL2pzL3JlcGx5TWVzc2FnZUJveC5kZXYuanNcIilcclxuICAvLyAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgY29uc3QgeyBjaGVja1RpbWVBbmRDcmVhdGVOZXdNZXNzYWdlIH0gPSBhd2FpdCBpbXBvcnQoXCIuL2pzL21lc3NhZ2UuZGV2XCIpXHJcbiAgY29uc3QgeyB1cGRhdGVBbGxDaGF0U2VjdGlvbiB9ID0gYXdhaXQgaW1wb3J0KFwiLi9qcy91cGRhdGVBbGxDaGF0U2VjdGlvbi5kZXZcIilcclxuICBjb25zdCB7IGRlZmF1bHQ6IFVwcHkgfSA9IGF3YWl0IGltcG9ydChcIkB1cHB5L2NvcmVcIilcclxuICBjb25zdCB7IGRlZmF1bHQ6IERhc2hib2FyZCB9ID0gYXdhaXQgaW1wb3J0KFwiQHVwcHkvZGFzaGJvYXJkXCIpXHJcbiAgY29uc3QgeyBkZWZhdWx0OiBXZWJjYW0gfSA9IGF3YWl0IGltcG9ydChcIkB1cHB5L3dlYmNhbVwiKVxyXG4gIGNvbnN0IHsgZGVmYXVsdDogSW1hZ2VFZGl0b3IgfSA9IGF3YWl0IGltcG9ydChcIkB1cHB5L2ltYWdlLWVkaXRvclwiKVxyXG4gIGNvbnN0IHsgZGVmYXVsdDogQXVkaW8gfSA9IGF3YWl0IGltcG9ydChcIkB1cHB5L2F1ZGlvXCIpXHJcblxyXG4gIGF3YWl0IGltcG9ydChcIkB1cHB5L2NvcmUvZGlzdC9zdHlsZS5jc3NcIilcclxuICBhd2FpdCBpbXBvcnQoXCJAdXBweS9kYXNoYm9hcmQvZGlzdC9zdHlsZS5jc3NcIilcclxuICBhd2FpdCBpbXBvcnQoXCJAdXBweS93ZWJjYW0vZGlzdC9zdHlsZS5jc3NcIilcclxuICBhd2FpdCBpbXBvcnQoXCJAdXBweS9pbWFnZS1lZGl0b3IvZGlzdC9zdHlsZS5jc3NcIilcclxuICBhd2FpdCBpbXBvcnQoXCJAdXBweS9hdWRpby9kaXN0L3N0eWxlLmNzc1wiKVxyXG5cclxuICBjb25zdCB7IGRlZmF1bHQ6IEF3c1MzTXVsdGlwYXJ0IH0gPSBhd2FpdCBpbXBvcnQoXCJAdXBweS9hd3MtczMtbXVsdGlwYXJ0XCIpXHJcblxyXG4gIGNvbnN0IHVwcHkgPSBuZXcgVXBweSh7XHJcbiAgICBpZDogXCJjaGF0TWVkaWFcIixcclxuICAgIGF1dG9Qcm9jZWVkOiBmYWxzZSxcclxuICAgIGFsbG93TXVsdGlwbGVVcGxvYWRCYXRjaGVzOiB0cnVlLFxyXG4gICAgZGVidWc6IGZhbHNlLFxyXG4gICAgb25CZWZvcmVGaWxlQWRkZWQ6IChjdXJyZW50RmlsZSwgZmlsZXMpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coY3VycmVudEZpbGUpXHJcbiAgICAgIGlmICghY3VycmVudEZpbGUudHlwZSkge1xyXG4gICAgICAgIHVwcHkubG9nKGBTa2lwcGluZyBmaWxlIGJlY2F1c2UgaXQgaGFzIG5vIHR5cGVgKVxyXG4gICAgICAgIHVwcHkuaW5mbyhgU2tpcHBpbmcgZmlsZSBiZWNhdXNlIGl0IGhhcyBubyB0eXBlYCwgXCJlcnJvclwiLCA1MDApXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY3VycmVudEZpbGUubmFtZSA9IFwiXCJcclxuICAgICAgICByZXR1cm4gY3VycmVudEZpbGVcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIG9uQmVmb3JlVXBsb2FkOiBmaWxlcyA9PiB7XHJcbiAgICAgIC8vIGNvbnN0IHVwZGF0ZWRGaWxlcyA9IHt9XHJcbiAgICAgIC8vIE9iamVjdC5rZXlzKGZpbGVzKS5mb3JFYWNoKGZpbGVJRCA9PiB7XHJcbiAgICAgIC8vICAgdXBkYXRlZEZpbGVzW2ZpbGVJRF0gPSB7XHJcbiAgICAgIC8vICAgICAuLi5maWxlc1tmaWxlSURdLFxyXG4gICAgICAvLyAgICAgbWV0YToge1xyXG4gICAgICAvLyAgICAgICAuLi5maWxlc1tmaWxlSURdLm1ldGEsXHJcbiAgICAgIC8vICAgICAgIGZpbGVUeXBlOiBmaWxlc1tmaWxlSURdLnR5cGVcclxuICAgICAgLy8gICAgIH1cclxuICAgICAgLy8gICB9XHJcbiAgICAgIC8vIH0pXHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKHVwZGF0ZWRGaWxlcylcclxuICAgICAgLy8gcmV0dXJuIHVwZGF0ZWRGaWxlc1xyXG4gICAgfSxcclxuICAgIHJlc3RyaWN0aW9uczoge1xyXG4gICAgICBtYXhGaWxlU2l6ZTogMTAyNCAqIDEwMjQgKiAxMDAsXHJcbiAgICAgIG1pbkZpbGVTaXplOiBudWxsLFxyXG4gICAgICBtYXhUb3RhbEZpbGVTaXplOiAxMDI0ICogMTAyNCAqIDEwMCAqIDEwLFxyXG4gICAgICBtYXhOdW1iZXJPZkZpbGVzOiAxMCxcclxuICAgICAgbWluTnVtYmVyT2ZGaWxlczogMSxcclxuICAgICAgYWxsb3dlZEZpbGVUeXBlczogW1xyXG4gICAgICAgIFwiaW1hZ2UvanBlZ1wiLFxyXG4gICAgICAgIFwiaW1hZ2UvcG5nXCIsXHJcbiAgICAgICAgXCJpbWFnZS9naWZcIixcclxuICAgICAgICBcImltYWdlL3N2Zyt4bWxcIixcclxuICAgICAgICBcImltYWdlL3gtcG5nXCIsXHJcblxyXG4gICAgICAgIFwiYXVkaW8vbXBlZ1wiLFxyXG4gICAgICAgIFwiYXVkaW8vd2F2XCIsXHJcbiAgICAgICAgXCJhdWRpby94LXdhdlwiLFxyXG4gICAgICAgIFwiYXVkaW8vb2dnXCIsXHJcbiAgICAgICAgXCJhdWRpby93ZWJtXCIsXHJcbiAgICAgICAgLy8gXCJhdWRpby8qXCIsXHJcblxyXG4gICAgICAgIFwidmlkZW8vbXA0XCIsXHJcbiAgICAgICAgXCJ2aWRlby93ZWJtXCIsXHJcbiAgICAgICAgXCJ2aWRlby9vZ2dcIixcclxuICAgICAgICBcInZpZGVvL3F1aWNrdGltZVwiLFxyXG4gICAgICAgIFwidmlkZW8veC1tYXRyb3NrYVwiXHJcbiAgICAgIF1cclxuICAgIH0sXHJcbiAgICBtZXRhOiB7IG1lZGlhVHlwZTogXCJjaGF0LW1lZGlhXCIgfSxcclxuICAgIGluZm9UaW1lb3V0OiA1MDAwXHJcbiAgfSlcclxuICAgIC51c2UoRGFzaGJvYXJkLCB7XHJcbiAgICAgIHRyaWdnZXI6IFwiI2FjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRGaWxlQnRuXCIsXHJcbiAgICAgIHRhcmdldDogXCJib2R5XCIsXHJcbiAgICAgIGlubGluZTogZmFsc2UsXHJcbiAgICAgIHBsdWdpbnM6IFtcIldlYmNhbVwiLCBcIkltYWdlRWRpdG9yXCIsIFwiQXVkaW9cIl0sXHJcbiAgICAgIHRodW1ibmFpbFdpZHRoOiAzMDAsXHJcbiAgICAgIC8vIGNsb3NlQWZ0ZXJGaW5pc2g6IGZhbHNlLFxyXG4gICAgICBzaG93UmVtb3ZlQnV0dG9uQWZ0ZXJDb21wbGV0ZTogZmFsc2UsXHJcbiAgICAgIGRpc2FibGVQYWdlU2Nyb2xsV2hlbk1vZGFsT3BlbjogdHJ1ZSxcclxuICAgICAgY2xvc2VNb2RhbE9uQ2xpY2tPdXRzaWRlOiB0cnVlLFxyXG5cclxuICAgICAgdGhlbWU6IFwibGlnaHRcIixcclxuICAgICAgbG9jYWxlOiB7XHJcbiAgICAgICAgc3RyaW5nczoge31cclxuICAgICAgfSxcclxuICAgICAgbm90ZTogXCJJbWFnZXMsIEF1ZGlvcyBhbmQgdmlkZW9zIG9ubHksIHVwIHRvIDEwIGZpbGVzLCAxIGZpbGUgdXAgdG8gMTAwIE1CXCIsXHJcbiAgICAgIHByb3VkbHlEaXNwbGF5UG93ZXJlZEJ5VXBweTogZmFsc2VcclxuICAgIH0pXHJcbiAgICAudXNlKFdlYmNhbSwge1xyXG4gICAgICB0YXJnZXQ6IERhc2hib2FyZCxcclxuICAgICAgdGl0bGU6IFwiQ2FtZXJhXCIsXHJcbiAgICAgIG1pcnJvcjogdHJ1ZSxcclxuICAgICAgbW9kZXM6IFtcInZpZGVvLWF1ZGlvXCIsIFwidmlkZW8tb25seVwiLCBcInBpY3R1cmVcIl0sXHJcbiAgICAgIHByZWZlcnJlZFZpZGVvTWltZVR5cGU6IFwidmlkZW8vbXA0XCIsXHJcbiAgICAgIHNob3dSZWNvcmRpbmdMZW5ndGg6IHRydWVcclxuICAgIH0pXHJcbiAgICAudXNlKEltYWdlRWRpdG9yLCB7XHJcbiAgICAgIHRhcmdldDogRGFzaGJvYXJkLFxyXG4gICAgICBxdWFsaXR5OiAwLjhcclxuICAgIH0pXHJcbiAgICAudXNlKEF1ZGlvLCB7XHJcbiAgICAgIGlkOiBcIkF1ZGlvXCIsXHJcbiAgICAgIHRhcmdldDogRGFzaGJvYXJkLFxyXG4gICAgICBzaG93QXVkaW9Tb3VyY2VEcm9wZG93bjogZmFsc2VcclxuICAgIH0pXHJcbiAgICAudXNlKEF3c1MzTXVsdGlwYXJ0LCB7XHJcbiAgICAgIGxpbWl0OiA0LFxyXG4gICAgICBjb21wYW5pb25Vcmw6IFwiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2NvbXBhbmlvblwiXHJcbiAgICB9KVxyXG5cclxuICAvLyB1cHB5Lm9uKFwiY29tcGxldGVcIiwgcmVzdWx0ID0+IHtcclxuICAvLyAgIGNvbnNvbGUubG9nKFxyXG4gIC8vICAgICBcIlVwbG9hZCBjb21wbGV0ZSEgV2XigJl2ZSB1cGxvYWRlZCB0aGVzZSBmaWxlczpcIixcclxuICAvLyAgICAgcmVzdWx0LnN1Y2Nlc3NmdWxcclxuICAvLyAgIClcclxuICAvLyB9KVxyXG4gIHVwcHkub24oXCJ1cGxvYWQtc3VjY2Vzc1wiLCAoZmlsZSwgcmVzcG9uc2UpID0+IHtcclxuICAgIGxldCB1c2VyTWVzc2FnZSA9IHt9XHJcbiAgICB1c2VyTWVzc2FnZS5jaGF0ID0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWRcclxuICAgIHVzZXJNZXNzYWdlLmhhc01lZGlhQ29udGVudCA9IHRydWVcclxuICAgIHVzZXJNZXNzYWdlLm1lZGlhQ29udGVudFR5cGUgPSBmaWxlLnR5cGUuc3BsaXQoXCIvXCIpWzBdXHJcbiAgICB1c2VyTWVzc2FnZS5tZWRpYUNvbnRlbnRNaW1lVHlwZSA9IGZpbGUudHlwZVxyXG4gICAgdXNlck1lc3NhZ2UubWVkaWFDb250ZW50UGF0aCA9IGZpbGUuczNNdWx0aXBhcnQua2V5XHJcbiAgICB1c2VyTWVzc2FnZS5yZXBsaWVkVG8gPSBhY3RpdmVDaGF0SW5wdXRDb250YWluZXIuZGF0YXNldC5yZXBsaWVkVG9cclxuICAgIGZldGNoKFwiL21lc3NhZ2VcIiwge1xyXG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLCAvLyBvciAnUFVUJ1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgICAgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkodXNlck1lc3NhZ2UpXHJcbiAgICB9KVxyXG4gICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZSlcclxuICAgICAgfSlcclxuICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgaWYgKGRhdGEuaXNTdWNjZXNzKSB7XHJcbiAgICAgICAgICBjaGVja1RpbWVBbmRDcmVhdGVOZXdNZXNzYWdlKGRhdGEubWVzc2FnZSwgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIpXHJcbiAgICAgICAgICBjbG9zZVJlcGx5TWVzc2FnZUJveCgpXHJcbiAgICAgICAgICB1cGRhdGVBbGxDaGF0U2VjdGlvbihkYXRhLm1lc3NhZ2UpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oZGF0YS5lcnJvciwgXCJlcnJvclwiKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oXHJcbiAgICAgICAgICBcIlNlcnZlciBFcnJvciBJbiBTZW5kaW5nIE1lc3NhZ2UsIFBsZWFzZSBUcnkgQWdhaW5cIixcclxuICAgICAgICAgIFwiZXJyb3JcIlxyXG4gICAgICAgIClcclxuICAgICAgfSlcclxuICB9KVxyXG5cclxuICAvLyBhY3RpdmUgY2hhdCBpbnB1dCB5b3V0dWJlIHNlbmQgYnRuXHJcbiAgY29uc3QgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVDb250ZW50U2VuZEJ0biA9XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQ29udGVudFNlbmRCdG5cIilcclxuXHJcbiAgY29uc3QgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVDb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQ29udGVudFwiXHJcbiAgKVxyXG4gIGFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQ29udGVudFNlbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcclxuICAgIFwiY2xpY2tcIixcclxuICAgICgpID0+IHtcclxuICAgICAgbGV0IHVzZXJNZXNzYWdlID0ge31cclxuXHJcbiAgICAgIGlmIChhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUNvbnRlbnQudmFsdWUgIT09IFwiXCIpIHtcclxuICAgICAgICB1c2VyTWVzc2FnZS5jaGF0ID0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWRcclxuICAgICAgICB1c2VyTWVzc2FnZS5oYXNNZWRpYUNvbnRlbnQgPSB0cnVlXHJcbiAgICAgICAgdXNlck1lc3NhZ2UubWVkaWFDb250ZW50VHlwZSA9IFwieW91dHViZVwiXHJcbiAgICAgICAgdXNlck1lc3NhZ2UubWVkaWFDb250ZW50TWltZVR5cGUgPSBcInZpZGVvL21wNFwiXHJcbiAgICAgICAgdXNlck1lc3NhZ2UubWVkaWFDb250ZW50UGF0aCA9XHJcbiAgICAgICAgICBhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUNvbnRlbnQudmFsdWVcclxuICAgICAgICB1c2VyTWVzc2FnZS5yZXBsaWVkVG8gPSBhY3RpdmVDaGF0SW5wdXRDb250YWluZXIuZGF0YXNldC5yZXBsaWVkVG9cclxuXHJcbiAgICAgICAgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVDb250ZW50LnZhbHVlID0gXCJcIlxyXG4gICAgICAgIGZldGNoKFwiL21lc3NhZ2VcIiwge1xyXG4gICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIiwgLy8gb3IgJ1BVVCdcclxuICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyTWVzc2FnZSlcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5pc1N1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICBjaGVja1RpbWVBbmRDcmVhdGVOZXdNZXNzYWdlKFxyXG4gICAgICAgICAgICAgICAgZGF0YS5tZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXJcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgY2xvc2VSZXBseU1lc3NhZ2VCb3goKVxyXG4gICAgICAgICAgICAgIGRvY3VtZW50XHJcbiAgICAgICAgICAgICAgICAuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUJ0bklucHV0Qm94XCIpXHJcbiAgICAgICAgICAgICAgICAuY2xhc3NMaXN0LmFkZChcImlucHV0LWF0dGFjaG1lbnQtYnRuLWJveF9faW5wdXQtYm94LS1oaWRlXCIpXHJcbiAgICAgICAgICAgICAgdXBkYXRlQWxsQ2hhdFNlY3Rpb24oZGF0YS5tZXNzYWdlKVxyXG4gICAgICAgICAgICAgIGFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQnRuSW5wdXRCb3guY2xhc3NMaXN0LmFkZChcclxuICAgICAgICAgICAgICAgIFwiYXR0YWNobWVudC1idG4tYm94X19pbnB1dC1ib3gtLWhpZGVcIlxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjcmVhdGVNYWluTm90aWZpY2F0aW9uKGRhdGEuZXJyb3IsIFwiZXJyb3JcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oXHJcbiAgICAgICAgICAgICAgXCJTZXJ2ZXIgRXJyb3IgSW4gU2VuZGluZyBNZXNzYWdlLCBQbGVhc2UgVHJ5IEFnYWluXCIsXHJcbiAgICAgICAgICAgICAgXCJlcnJvclwiXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgIH1cclxuICApXHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAvLyBhY3RpdmUgY2hhdCBpbnB1dCBzZW5kIGJ0blxyXG5cclxuICBjb25zdCBhY3RpdmVDaGF0SW5wdXRTZW5kQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImFjdGl2ZUNoYXRJbnB1dFNlbmRCdG5cIlxyXG4gIClcclxuICBhY3RpdmVDaGF0SW5wdXRTZW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBsZXQgdXNlck1lc3NhZ2UgPSB7fVxyXG4gICAgaWYgKFxyXG4gICAgICBhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudC52YWx1ZS50cmltKCkgIT09IFwiXCIgJiZcclxuICAgICAgYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWQgIT09IFwiXCJcclxuICAgICkge1xyXG4gICAgICB1c2VyTWVzc2FnZS5jaGF0ID0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWRcclxuICAgICAgdXNlck1lc3NhZ2UuaGFzTWVkaWFDb250ZW50ID0gZmFsc2VcclxuICAgICAgdXNlck1lc3NhZ2UudGV4dENvbnRlbnQgPSBhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudC52YWx1ZS50cmltKClcclxuICAgICAgdXNlck1lc3NhZ2UucmVwbGllZFRvID0gYWN0aXZlQ2hhdElucHV0Q29udGFpbmVyLmRhdGFzZXQucmVwbGllZFRvXHJcbiAgICAgIGFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50LnZhbHVlID0gXCJcIlxyXG4gICAgICBmZXRjaChcIi9tZXNzYWdlXCIsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLCAvLyBvciAnUFVUJ1xyXG4gICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh1c2VyTWVzc2FnZSlcclxuICAgICAgfSlcclxuICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7XHJcbiAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICBpZiAoZGF0YS5pc1N1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveC5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgICAgICAgIFwiYWN0aXZlLWNoYXQtaW5wdXQtYXR0YWNobWVudC1ib3gtLWhpZGVcIlxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIGFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50LnN0eWxlLmhlaWdodCA9IFwiYXV0b1wiXHJcbiAgICAgICAgICAgIGFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50LnN0eWxlLmhlaWdodCA9XHJcbiAgICAgICAgICAgICAgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQuc2Nyb2xsSGVpZ2h0ICsgXCJweFwiXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICBwYXJzZUludChhY3RpdmVDaGF0SW5wdXRUZXh0Q29udGVudC5zdHlsZS5oZWlnaHQuc2xpY2UoMCwgLTIpKSA8PVxyXG4gICAgICAgICAgICAgIDQwXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLnN0eWxlLnBhZGRpbmdCb3R0b20gPSBcIjYwcHhcIlxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGFjdGl2ZUNoYXRNZXNzYWdlQ29udGFpbmVyLnN0eWxlLnBhZGRpbmdCb3R0b20gPVxyXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2hhdElucHV0VGV4dENvbnRlbnQuc3R5bGUuaGVpZ2h0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hlY2tUaW1lQW5kQ3JlYXRlTmV3TWVzc2FnZShcclxuICAgICAgICAgICAgICBkYXRhLm1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXJcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBjbG9zZVJlcGx5TWVzc2FnZUJveCgpXHJcbiAgICAgICAgICAgIHVwZGF0ZUFsbENoYXRTZWN0aW9uKGRhdGEubWVzc2FnZSlcclxuICAgICAgICAgICAgYWN0aXZlQ2hhdE1lc3NhZ2VDb250YWluZXIuc2Nyb2xsVG9wID1cclxuICAgICAgICAgICAgICBhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lci5zY3JvbGxIZWlnaHQgKyAxMDAwXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjcmVhdGVNYWluTm90aWZpY2F0aW9uKGRhdGEuZXJyb3IsIFwiZXJyb3JcIilcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgICAgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbihcclxuICAgICAgICAgICAgXCJTZXJ2ZXIgRXJyb3IgSW4gU2VuZGluZyBNZXNzYWdlLCBQbGVhc2UgVHJ5IEFnYWluXCIsXHJcbiAgICAgICAgICAgIFwiZXJyb3JcIlxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgLy8gYWN0aXZlLWNoYXQtaW5wdXQtYXR0YWNobWVudC1ib3hcclxuXHJcbiAgY29uc3QgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50Qm94QnRuXCJcclxuICApXHJcblxyXG4gIGFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRCb3hCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgIGlmIChcclxuICAgICAgYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoXHJcbiAgICAgICAgXCJhY3RpdmUtY2hhdC1pbnB1dC1hdHRhY2htZW50LWJveF9fYnRuLS1zZWxlY3RlZFwiXHJcbiAgICAgIClcclxuICAgICkge1xyXG4gICAgICBvcGVuQWN0aXZlQ2hhdElucHV0Qm94KClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9wZW5BY3RpdmVjaGF0SW5wdXRBdHRhY2htZW50Qm94KClcclxuICAgIH1cclxuICB9KVxyXG5cclxuICBjb25zdCBhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFxyXG4gICAgXCJhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUJ0blwiXHJcbiAgKVxyXG4gIGNvbnN0IGFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQnRuSW5wdXRCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcclxuICAgIFwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVCdG5JbnB1dEJveFwiXHJcbiAgKVxyXG4gIGFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUJ0bklucHV0Qm94LmNsYXNzTGlzdC50b2dnbGUoXHJcbiAgICAgIFwiaW5wdXQtYXR0YWNobWVudC1idG4tYm94X19pbnB1dC1ib3gtLWhpZGVcIlxyXG4gICAgKVxyXG4gIH0pXHJcblxyXG4gIC8vIGluaXRpYWxpemUgZXZlbnQgdG8gYWN0aXZlIGNoYXRcclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAvLyBhY3RpdmUgY2hhdCB0byBhbGwgY2hhdCBidG5cclxuICBjb25zdCBBY3RpdmVDaGF0VG9BbGxDaGF0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcIkFjdGl2ZUNoYXRUb0FsbENoYXRCdG5cIlxyXG4gIClcclxuICBBY3RpdmVDaGF0VG9BbGxDaGF0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBsb2NhdGlvbi5oYXNoID0gXCJcIlxyXG4gIH0pXHJcblxyXG4gIC8vYWN0aXZlIGNoYXQgaGVhZGVyIHBpYyBhbmQgYWN0aXZlIGNoYXQgaGVhZGVyIG5hbWVcclxuICBsZXQgYWN0aXZlQ2hhdEhlYWRlclBpYyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdEhlYWRlclBpY1wiKVxyXG5cclxuICBhY3RpdmVDaGF0SGVhZGVyUGljLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICBsZXQgYWN0aXZlQ2hhdElkID0gYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWRcclxuICAgIGlmIChhY3RpdmVDaGF0SWQgIT0gXCJcIikge1xyXG4gICAgICBsZXQgeyBjcmVhdGVBY3RpdmVDaGF0SW5mb01vZGFsIH0gPSBhd2FpdCBpbXBvcnQoXHJcbiAgICAgICAgXCIuL2pzL2NyZWF0ZUFjdGl2ZUNoYXRJbmZvTW9kYWwuZGV2LmpzXCJcclxuICAgICAgKVxyXG4gICAgICBjcmVhdGVBY3RpdmVDaGF0SW5mb01vZGFsKGFjdGl2ZUNoYXRJZClcclxuICAgIH1cclxuICB9KVxyXG4gIGxldCBhY3RpdmVDaGF0SGVhZGVyTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdEhlYWRlck5hbWVcIilcclxuICBhY3RpdmVDaGF0SGVhZGVyTmFtZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IGFjdGl2ZUNoYXRJZCA9IGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkXHJcbiAgICBpZiAoYWN0aXZlQ2hhdElkICE9IFwiXCIpIHtcclxuICAgICAgbGV0IHsgY3JlYXRlQWN0aXZlQ2hhdEluZm9Nb2RhbCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICAgIFwiLi9qcy9jcmVhdGVBY3RpdmVDaGF0SW5mb01vZGFsLmRldi5qc1wiXHJcbiAgICAgIClcclxuICAgICAgY3JlYXRlQWN0aXZlQ2hhdEluZm9Nb2RhbChhY3RpdmVDaGF0SWQpXHJcbiAgICB9XHJcbiAgfSlcclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAvLyBjcmVhdGUgbmV3IGdyb3VwIGNoYXQgYnRuXHJcbiAgLy8gZ3JvdXAgY2hhdCBmb3JtIE1vZGFsIGFuZCBhc3NpZ24gZXZlbnQgdG8gYnRuXHJcbiAgY29uc3QgY3JlYXRlTmV3R3JvdXBDaGF0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjcmVhdGVOZXdHcm91cENoYXRCdG5cIilcclxuICBjcmVhdGVOZXdHcm91cENoYXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGxldCB7IGNyZWF0ZUdyb3VwQ2hhdEZvcm1Nb2RhbCB9ID0gYXdhaXQgaW1wb3J0KFxyXG4gICAgICBcIi4vanMvY3JlYXRlR3JvdXBDaGF0Rm9ybU1vZGFsLmRldlwiXHJcbiAgICApXHJcbiAgICBjcmVhdGVHcm91cENoYXRGb3JtTW9kYWwoKVxyXG4gIH0pXHJcbn0pKClcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvcGVuQWN0aXZlY2hhdElucHV0QXR0YWNobWVudEJveCgpIHtcclxuICBkb2N1bWVudFxyXG4gICAgLmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveEJ0blwiKVxyXG4gICAgLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtY2hhdC1pbnB1dC1hdHRhY2htZW50LWJveF9fYnRuLS1zZWxlY3RlZFwiKVxyXG5cclxuICBjb25zdCBhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50Qm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgICBcImFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRCb3hcIlxyXG4gIClcclxuICBhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50Qm94LmNsYXNzTGlzdC5hZGQoXHJcbiAgICBcImFjdGl2ZS1jaGF0LWlucHV0LWF0dGFjaG1lbnQtYm94LS1zZWxlY3RlZFwiXHJcbiAgKVxyXG4gIGFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRCb3guY2xhc3NMaXN0LnJlbW92ZShcclxuICAgIFwiYWN0aXZlLWNoYXQtaW5wdXQtYXR0YWNobWVudC1ib3gtLWhpZGVcIlxyXG4gIClcclxuICBkb2N1bWVudFxyXG4gICAgLmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJ0bkNvbnRhaW5lclwiKVxyXG4gICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnB1dC1hdHRhY2htZW50LWJ0bi1jb250YWluZXItLWhpZGVcIilcclxuICBkb2N1bWVudFxyXG4gICAgLmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdElucHV0Qm94XCIpXHJcbiAgICAuY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1jaGF0LWlucHV0LWJveC0taGlkZVwiKVxyXG5cclxuICBkb2N1bWVudFxyXG4gICAgLmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdElucHV0U2VuZEJveFwiKVxyXG4gICAgLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtY2hhdC1pbnB1dC1zZW5kLWJveC0taGlkZVwiKVxyXG4gIGRvY3VtZW50XHJcbiAgICAuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUJ0bklucHV0Qm94XCIpXHJcbiAgICAuY2xhc3NMaXN0LmFkZChcImlucHV0LWF0dGFjaG1lbnQtYnRuLWJveF9faW5wdXQtYm94LS1oaWRlXCIpXHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5BY3RpdmVDaGF0SW5wdXRCb3goKSB7XHJcbiAgZG9jdW1lbnRcclxuICAgIC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRCb3hCdG5cIilcclxuICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLWNoYXQtaW5wdXQtYXR0YWNobWVudC1ib3hfX2J0bi0tc2VsZWN0ZWRcIilcclxuICBkb2N1bWVudFxyXG4gICAgLmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveFwiKVxyXG4gICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmUtY2hhdC1pbnB1dC1hdHRhY2htZW50LWJveC0tc2VsZWN0ZWRcIilcclxuXHJcbiAgZG9jdW1lbnRcclxuICAgIC5nZXRFbGVtZW50QnlJZChcImFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRCdG5Db250YWluZXJcIilcclxuICAgIC5jbGFzc0xpc3QuYWRkKFwiaW5wdXQtYXR0YWNobWVudC1idG4tY29udGFpbmVyLS1oaWRlXCIpXHJcblxyXG4gIGRvY3VtZW50XHJcbiAgICAuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0SW5wdXRCb3hcIilcclxuICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLWNoYXQtaW5wdXQtYm94LS1oaWRlXCIpXHJcblxyXG4gIGRvY3VtZW50XHJcbiAgICAuZ2V0RWxlbWVudEJ5SWQoXCJhY3RpdmVDaGF0SW5wdXRTZW5kQm94XCIpXHJcbiAgICAuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZS1jaGF0LWlucHV0LXNlbmQtYm94LS1oaWRlXCIpXHJcbn1cclxuXHJcbmRvY3VtZW50XHJcbiAgLmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdElucHV0UmVwbHlCb3hDbG9zZUJ0blwiKVxyXG4gIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IHsgY2xvc2VSZXBseU1lc3NhZ2VCb3ggfSA9IGF3YWl0IGltcG9ydChcIi4vanMvcmVwbHlNZXNzYWdlQm94LmRldlwiKVxyXG4gICAgY2xvc2VSZXBseU1lc3NhZ2VCb3goKVxyXG4gIH0pXHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVNYWluTm90aWZpY2F0aW9uIiwicmVxdWlyZSIsImFsbENoYXRTZWN0aW9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFjdGl2ZUNoYXRTZWN0aW9uIiwiY2hlY2tDaGF0U3RhdGUiLCJsb2NhdGlvbiIsImhhc2giLCJjaGF0SWQiLCJyZXBsYWNlIiwiZmV0Y2hBY3RpdmVDaGF0IiwidGl0bGUiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwid2luZG93IiwiYWxsQ2hhdEJveCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJmb3JFYWNoIiwiY2hhdEJveCIsImRhdGFzZXQiLCJhY3RpdmVDaGF0TWVzc2FnZUNvbnRhaW5lciIsImFjdGl2ZUNoYXRJbnB1dENvbnRhaW5lciIsImFjdGl2ZUNoYXRJbnB1dFRleHRDb250ZW50IiwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveCIsInZhbHVlIiwiY29udGFpbnMiLCJzdHlsZSIsImhlaWdodCIsInNjcm9sbEhlaWdodCIsImFkanVzdE1lc3NhZ2VDb250YWluZXJCb3R0b21QYWRkaW5nIiwicGFkZGluZ0JvdHRvbSIsImNsaWVudEhlaWdodCIsInNjcm9sbFRvcCIsImRlZmF1bHQiLCJpbnNlcnRUZXh0QXRDdXJzb3IiLCJQaWNrZXIiLCJnZXRFbW9qaUFuZEFkZFRvSW5wdXQiLCJlbW9qaSIsIm5hdGl2ZSIsImFjdGl2ZUNoYXRJbnB1dEVtb2ppQnRuIiwiYWN0aXZlQ2hhdElucHV0RW1vamlDb250YWluZXIiLCJlbW9qaVBpY2tlck9wdGlvbnMiLCJwYXJlbnQiLCJkYXRhIiwib25FbW9qaVNlbGVjdCIsImF1dG9Gb2N1cyIsImVtb2ppQnV0dG9uQ29sb3JzIiwiZW1vamlCdXR0b25TaXplIiwiZW1vamlWZXJzaW9uIiwiaWNvbnMiLCJtYXhGcmVxdWVudFJvd3MiLCJuYXZQb3NpdGlvbiIsInByZXZpZXdQb3NpdGlvbiIsInNldCIsImR5bmFtaWNXaWR0aCIsInRvZ2dsZSIsImNsb3NlUmVwbHlNZXNzYWdlQm94IiwiY2hlY2tUaW1lQW5kQ3JlYXRlTmV3TWVzc2FnZSIsInVwZGF0ZUFsbENoYXRTZWN0aW9uIiwiVXBweSIsIkRhc2hib2FyZCIsIldlYmNhbSIsIkltYWdlRWRpdG9yIiwiQXVkaW8iLCJBd3NTM011bHRpcGFydCIsInVwcHkiLCJpZCIsImF1dG9Qcm9jZWVkIiwiYWxsb3dNdWx0aXBsZVVwbG9hZEJhdGNoZXMiLCJkZWJ1ZyIsIm9uQmVmb3JlRmlsZUFkZGVkIiwiY3VycmVudEZpbGUiLCJmaWxlcyIsImNvbnNvbGUiLCJsb2ciLCJ0eXBlIiwiaW5mbyIsIm5hbWUiLCJvbkJlZm9yZVVwbG9hZCIsInJlc3RyaWN0aW9ucyIsIm1heEZpbGVTaXplIiwibWluRmlsZVNpemUiLCJtYXhUb3RhbEZpbGVTaXplIiwibWF4TnVtYmVyT2ZGaWxlcyIsIm1pbk51bWJlck9mRmlsZXMiLCJhbGxvd2VkRmlsZVR5cGVzIiwibWV0YSIsIm1lZGlhVHlwZSIsImluZm9UaW1lb3V0IiwidXNlIiwidHJpZ2dlciIsInRhcmdldCIsImlubGluZSIsInBsdWdpbnMiLCJ0aHVtYm5haWxXaWR0aCIsInNob3dSZW1vdmVCdXR0b25BZnRlckNvbXBsZXRlIiwiZGlzYWJsZVBhZ2VTY3JvbGxXaGVuTW9kYWxPcGVuIiwiY2xvc2VNb2RhbE9uQ2xpY2tPdXRzaWRlIiwidGhlbWUiLCJsb2NhbGUiLCJzdHJpbmdzIiwibm90ZSIsInByb3VkbHlEaXNwbGF5UG93ZXJlZEJ5VXBweSIsIm1pcnJvciIsIm1vZGVzIiwicHJlZmVycmVkVmlkZW9NaW1lVHlwZSIsInNob3dSZWNvcmRpbmdMZW5ndGgiLCJxdWFsaXR5Iiwic2hvd0F1ZGlvU291cmNlRHJvcGRvd24iLCJsaW1pdCIsImNvbXBhbmlvblVybCIsIm9uIiwiZmlsZSIsInJlc3BvbnNlIiwidXNlck1lc3NhZ2UiLCJjaGF0IiwiaGFzTWVkaWFDb250ZW50IiwibWVkaWFDb250ZW50VHlwZSIsInNwbGl0IiwibWVkaWFDb250ZW50TWltZVR5cGUiLCJtZWRpYUNvbnRlbnRQYXRoIiwiczNNdWx0aXBhcnQiLCJrZXkiLCJyZXBsaWVkVG8iLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInRoZW4iLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0IiwiaXNTdWNjZXNzIiwibWVzc2FnZSIsImVycm9yIiwiY2F0Y2giLCJlcnIiLCJhY3RpdmVDaGF0SW5wdXRBdHRhY2htZW50WW91dHViZUNvbnRlbnRTZW5kQnRuIiwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVDb250ZW50IiwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudFlvdXR1YmVCdG5JbnB1dEJveCIsImFjdGl2ZUNoYXRJbnB1dFNlbmRCdG4iLCJ0cmltIiwidGV4dENvbnRlbnQiLCJwYXJzZUludCIsInNsaWNlIiwiYWN0aXZlQ2hhdElucHV0QXR0YWNobWVudEJveEJ0biIsIm9wZW5BY3RpdmVDaGF0SW5wdXRCb3giLCJvcGVuQWN0aXZlY2hhdElucHV0QXR0YWNobWVudEJveCIsImFjdGl2ZUNoYXRJbnB1dEF0dGFjaG1lbnRZb3V0dWJlQnRuIiwiQWN0aXZlQ2hhdFRvQWxsQ2hhdEJ0biIsImFjdGl2ZUNoYXRIZWFkZXJQaWMiLCJhY3RpdmVDaGF0SWQiLCJjcmVhdGVBY3RpdmVDaGF0SW5mb01vZGFsIiwiYWN0aXZlQ2hhdEhlYWRlck5hbWUiLCJjcmVhdGVOZXdHcm91cENoYXRCdG4iLCJjcmVhdGVHcm91cENoYXRGb3JtTW9kYWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./dev-javascripts/chat/chat.dev.js\n");

/***/ })

}]);