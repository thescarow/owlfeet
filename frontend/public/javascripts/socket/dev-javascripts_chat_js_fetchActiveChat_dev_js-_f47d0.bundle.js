"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_chat_js_fetchActiveChat_dev_js-_f47d0"],{

/***/ "./dev-javascripts/chat/js/fetchActiveChat.dev.js":
/*!********************************************************!*\
  !*** ./dev-javascripts/chat/js/fetchActiveChat.dev.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fetchActiveChat\": () => (/* binding */ fetchActiveChat)\n/* harmony export */ });\n/* harmony import */ var _common_mainNotification_dev__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/mainNotification.dev */ \"./dev-javascripts/common/mainNotification.dev.js\");\n // activeChatData is define in main layout as global object\n\nfunction fetchActiveChat(chatId) {\n  let allChatSection = document.getElementById(\"allChatSection\");\n  let activeChatSection = document.getElementById(\"activeChatSection\");\n  let activeChatId = activeChatSection.dataset.chatId;\n\n  if (activeChatId !== \"\" && activeChatId === chatId) {\n    history.pushState(activeChatData, \"\", `/chat/#${chatId}`);\n    document.title = `${activeChatData.chatName} chat `;\n    allChatSection.classList.add(\"all-chat-section--hide\");\n    activeChatSection.classList.remove(\"active-chat-section--hide\");\n  } else {\n    fetch(`/chat/data/chat/${chatId}`).then(response => {\n      if (response.ok) {\n        return response.json();\n      }\n\n      return Promise.reject(response);\n    }).then(async data => {\n      if (data.isSuccess) {\n        activeChatData = { ...data.chat\n        };\n        history.pushState(data.chat, \"\", `/chat/#${chatId}`);\n        document.title = `${data.chat.chatName} chat `;\n        let {\n          showActiveChatSection\n        } = await Promise.all(/*! import() */[__webpack_require__.e(\"dev-javascripts_chat_chat_dev_js\"), __webpack_require__.e(\"dev-javascripts_chat_js_showActiveChatSection_dev_js-_2dc90\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./showActiveChatSection.dev */ \"./dev-javascripts/chat/js/showActiveChatSection.dev.js\"));\n        showActiveChatSection(data.chat);\n      } else {\n        history.replaceState({}, \"\", \"/chat\");\n        document.title = \"Chats\";\n        allChatSection.classList.remove(\"all-chat-section--hide\");\n        activeChatSection.classList.add(\"active-chat-section--hide\");\n        (0,_common_mainNotification_dev__WEBPACK_IMPORTED_MODULE_0__.createMainNotification)(data.error, \"error\");\n      }\n    }).catch(err => {\n      console.log(\"error in fetch Active Chat:\", err);\n      history.replaceState({}, \"\", \"/chat\");\n      document.title = \"Chats\";\n      allChatSection.classList.remove(\"all-chat-section--hide\");\n      activeChatSection.classList.add(\"active-chat-section--hide\");\n      (0,_common_mainNotification_dev__WEBPACK_IMPORTED_MODULE_0__.createMainNotification)(\"Server Error Or May be You Are Accessing Wrong Chat.\", \"info\");\n    });\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYtamF2YXNjcmlwdHMvY2hhdC9qcy9mZXRjaEFjdGl2ZUNoYXQuZGV2LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0NBRUE7O0FBQ08sU0FBU0MsZUFBVCxDQUF5QkMsTUFBekIsRUFBaUM7RUFDdEMsSUFBSUMsY0FBYyxHQUFHQyxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsZ0JBQXhCLENBQXJCO0VBQ0EsSUFBSUMsaUJBQWlCLEdBQUdGLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixtQkFBeEIsQ0FBeEI7RUFFQSxJQUFJRSxZQUFZLEdBQUdELGlCQUFpQixDQUFDRSxPQUFsQixDQUEwQk4sTUFBN0M7O0VBRUEsSUFBSUssWUFBWSxLQUFLLEVBQWpCLElBQXVCQSxZQUFZLEtBQUtMLE1BQTVDLEVBQW9EO0lBQ2xETyxPQUFPLENBQUNDLFNBQVIsQ0FBa0JDLGNBQWxCLEVBQWtDLEVBQWxDLEVBQXVDLFVBQVNULE1BQU8sRUFBdkQ7SUFDQUUsUUFBUSxDQUFDUSxLQUFULEdBQWtCLEdBQUVELGNBQWMsQ0FBQ0UsUUFBUyxRQUE1QztJQUNBVixjQUFjLENBQUNXLFNBQWYsQ0FBeUJDLEdBQXpCLENBQTZCLHdCQUE3QjtJQUNBVCxpQkFBaUIsQ0FBQ1EsU0FBbEIsQ0FBNEJFLE1BQTVCLENBQW1DLDJCQUFuQztFQUNELENBTEQsTUFLTztJQUNMQyxLQUFLLENBQUUsbUJBQWtCZixNQUFPLEVBQTNCLENBQUwsQ0FDR2dCLElBREgsQ0FDUUMsUUFBUSxJQUFJO01BQ2hCLElBQUlBLFFBQVEsQ0FBQ0MsRUFBYixFQUFpQjtRQUNmLE9BQU9ELFFBQVEsQ0FBQ0UsSUFBVCxFQUFQO01BQ0Q7O01BQ0QsT0FBT0MsT0FBTyxDQUFDQyxNQUFSLENBQWVKLFFBQWYsQ0FBUDtJQUNELENBTkgsRUFPR0QsSUFQSCxDQU9RLE1BQU1NLElBQU4sSUFBYztNQUNsQixJQUFJQSxJQUFJLENBQUNDLFNBQVQsRUFBb0I7UUFDbEJkLGNBQWMsR0FBRyxFQUFFLEdBQUdhLElBQUksQ0FBQ0U7UUFBVixDQUFqQjtRQUNBakIsT0FBTyxDQUFDQyxTQUFSLENBQWtCYyxJQUFJLENBQUNFLElBQXZCLEVBQTZCLEVBQTdCLEVBQWtDLFVBQVN4QixNQUFPLEVBQWxEO1FBQ0FFLFFBQVEsQ0FBQ1EsS0FBVCxHQUFrQixHQUFFWSxJQUFJLENBQUNFLElBQUwsQ0FBVWIsUUFBUyxRQUF2QztRQUNBLElBQUk7VUFBRWM7UUFBRixJQUE0QixNQUFNLDhUQUF0QztRQUdBQSxxQkFBcUIsQ0FBQ0gsSUFBSSxDQUFDRSxJQUFOLENBQXJCO01BQ0QsQ0FSRCxNQVFPO1FBQ0xqQixPQUFPLENBQUNtQixZQUFSLENBQXFCLEVBQXJCLEVBQXlCLEVBQXpCLEVBQTZCLE9BQTdCO1FBQ0F4QixRQUFRLENBQUNRLEtBQVQsR0FBaUIsT0FBakI7UUFDQVQsY0FBYyxDQUFDVyxTQUFmLENBQXlCRSxNQUF6QixDQUFnQyx3QkFBaEM7UUFDQVYsaUJBQWlCLENBQUNRLFNBQWxCLENBQTRCQyxHQUE1QixDQUFnQywyQkFBaEM7UUFDQWYsb0ZBQXNCLENBQUN3QixJQUFJLENBQUNLLEtBQU4sRUFBYSxPQUFiLENBQXRCO01BQ0Q7SUFDRixDQXZCSCxFQXdCR0MsS0F4QkgsQ0F3QlNDLEdBQUcsSUFBSTtNQUNaQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSw2QkFBWixFQUEyQ0YsR0FBM0M7TUFDQXRCLE9BQU8sQ0FBQ21CLFlBQVIsQ0FBcUIsRUFBckIsRUFBeUIsRUFBekIsRUFBNkIsT0FBN0I7TUFDQXhCLFFBQVEsQ0FBQ1EsS0FBVCxHQUFpQixPQUFqQjtNQUNBVCxjQUFjLENBQUNXLFNBQWYsQ0FBeUJFLE1BQXpCLENBQWdDLHdCQUFoQztNQUNBVixpQkFBaUIsQ0FBQ1EsU0FBbEIsQ0FBNEJDLEdBQTVCLENBQWdDLDJCQUFoQztNQUNBZixvRkFBc0IsQ0FDcEIsc0RBRG9CLEVBRXBCLE1BRm9CLENBQXRCO0lBSUQsQ0FsQ0g7RUFtQ0Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vZGV2LWphdmFzY3JpcHRzL2NoYXQvanMvZmV0Y2hBY3RpdmVDaGF0LmRldi5qcz9mYWVmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZU1haW5Ob3RpZmljYXRpb24gfSBmcm9tIFwiLi4vLi4vY29tbW9uL21haW5Ob3RpZmljYXRpb24uZGV2XCJcclxuXHJcbi8vIGFjdGl2ZUNoYXREYXRhIGlzIGRlZmluZSBpbiBtYWluIGxheW91dCBhcyBnbG9iYWwgb2JqZWN0XHJcbmV4cG9ydCBmdW5jdGlvbiBmZXRjaEFjdGl2ZUNoYXQoY2hhdElkKSB7XHJcbiAgbGV0IGFsbENoYXRTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbGxDaGF0U2VjdGlvblwiKVxyXG4gIGxldCBhY3RpdmVDaGF0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdFNlY3Rpb25cIilcclxuXHJcbiAgbGV0IGFjdGl2ZUNoYXRJZCA9IGFjdGl2ZUNoYXRTZWN0aW9uLmRhdGFzZXQuY2hhdElkXHJcblxyXG4gIGlmIChhY3RpdmVDaGF0SWQgIT09IFwiXCIgJiYgYWN0aXZlQ2hhdElkID09PSBjaGF0SWQpIHtcclxuICAgIGhpc3RvcnkucHVzaFN0YXRlKGFjdGl2ZUNoYXREYXRhLCBcIlwiLCBgL2NoYXQvIyR7Y2hhdElkfWApXHJcbiAgICBkb2N1bWVudC50aXRsZSA9IGAke2FjdGl2ZUNoYXREYXRhLmNoYXROYW1lfSBjaGF0IGBcclxuICAgIGFsbENoYXRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJhbGwtY2hhdC1zZWN0aW9uLS1oaWRlXCIpXHJcbiAgICBhY3RpdmVDaGF0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlLWNoYXQtc2VjdGlvbi0taGlkZVwiKVxyXG4gIH0gZWxzZSB7XHJcbiAgICBmZXRjaChgL2NoYXQvZGF0YS9jaGF0LyR7Y2hhdElkfWApXHJcbiAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKClcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlc3BvbnNlKVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihhc3luYyBkYXRhID0+IHtcclxuICAgICAgICBpZiAoZGF0YS5pc1N1Y2Nlc3MpIHtcclxuICAgICAgICAgIGFjdGl2ZUNoYXREYXRhID0geyAuLi5kYXRhLmNoYXQgfVxyXG4gICAgICAgICAgaGlzdG9yeS5wdXNoU3RhdGUoZGF0YS5jaGF0LCBcIlwiLCBgL2NoYXQvIyR7Y2hhdElkfWApXHJcbiAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IGAke2RhdGEuY2hhdC5jaGF0TmFtZX0gY2hhdCBgXHJcbiAgICAgICAgICBsZXQgeyBzaG93QWN0aXZlQ2hhdFNlY3Rpb24gfSA9IGF3YWl0IGltcG9ydChcclxuICAgICAgICAgICAgXCIuL3Nob3dBY3RpdmVDaGF0U2VjdGlvbi5kZXZcIlxyXG4gICAgICAgICAgKVxyXG4gICAgICAgICAgc2hvd0FjdGl2ZUNoYXRTZWN0aW9uKGRhdGEuY2hhdClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoe30sIFwiXCIsIFwiL2NoYXRcIilcclxuICAgICAgICAgIGRvY3VtZW50LnRpdGxlID0gXCJDaGF0c1wiXHJcbiAgICAgICAgICBhbGxDaGF0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYWxsLWNoYXQtc2VjdGlvbi0taGlkZVwiKVxyXG4gICAgICAgICAgYWN0aXZlQ2hhdFNlY3Rpb24uY2xhc3NMaXN0LmFkZChcImFjdGl2ZS1jaGF0LXNlY3Rpb24tLWhpZGVcIilcclxuICAgICAgICAgIGNyZWF0ZU1haW5Ob3RpZmljYXRpb24oZGF0YS5lcnJvciwgXCJlcnJvclwiKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJlcnJvciBpbiBmZXRjaCBBY3RpdmUgQ2hhdDpcIiwgZXJyKVxyXG4gICAgICAgIGhpc3RvcnkucmVwbGFjZVN0YXRlKHt9LCBcIlwiLCBcIi9jaGF0XCIpXHJcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBcIkNoYXRzXCJcclxuICAgICAgICBhbGxDaGF0U2VjdGlvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYWxsLWNoYXQtc2VjdGlvbi0taGlkZVwiKVxyXG4gICAgICAgIGFjdGl2ZUNoYXRTZWN0aW9uLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmUtY2hhdC1zZWN0aW9uLS1oaWRlXCIpXHJcbiAgICAgICAgY3JlYXRlTWFpbk5vdGlmaWNhdGlvbihcclxuICAgICAgICAgIFwiU2VydmVyIEVycm9yIE9yIE1heSBiZSBZb3UgQXJlIEFjY2Vzc2luZyBXcm9uZyBDaGF0LlwiLFxyXG4gICAgICAgICAgXCJpbmZvXCJcclxuICAgICAgICApXHJcbiAgICAgIH0pXHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJjcmVhdGVNYWluTm90aWZpY2F0aW9uIiwiZmV0Y2hBY3RpdmVDaGF0IiwiY2hhdElkIiwiYWxsQ2hhdFNlY3Rpb24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYWN0aXZlQ2hhdFNlY3Rpb24iLCJhY3RpdmVDaGF0SWQiLCJkYXRhc2V0IiwiaGlzdG9yeSIsInB1c2hTdGF0ZSIsImFjdGl2ZUNoYXREYXRhIiwidGl0bGUiLCJjaGF0TmFtZSIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsImRhdGEiLCJpc1N1Y2Nlc3MiLCJjaGF0Iiwic2hvd0FjdGl2ZUNoYXRTZWN0aW9uIiwicmVwbGFjZVN0YXRlIiwiZXJyb3IiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./dev-javascripts/chat/js/fetchActiveChat.dev.js\n");

/***/ })

}]);