"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkfrontend"] = self["webpackChunkfrontend"] || []).push([["dev-javascripts_socket_user-socket_userActiveStatusSocket_js"],{

/***/ "./dev-javascripts/socket/user-socket/userActiveStatusSocket.js":
/*!**********************************************************************!*\
  !*** ./dev-javascripts/socket/user-socket/userActiveStatusSocket.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createUserActiveStatusSocket\": () => (/* binding */ createUserActiveStatusSocket)\n/* harmony export */ });\n// import { timeDifferenceFromNow } from \"../../common/calculateTimeDifference.dev\"\nfunction createUserActiveStatusSocket(socket) {\n  let activeChatSection = document.getElementById(\"activeChatSection\");\n  let activeChatHeaderStatus = document.getElementById(\"activeChatHeaderStatus\"); ////////////////////////////////////////////\n\n  socket.on(\"user:online\", async (userId, chatId) => {\n    console.log(\"user online:\", userId);\n    let chatBox = document.querySelector(`.chat-box[data-chat-id=\"${chatId}\"]`);\n    if (chatBox) chatBox.classList.add(\"chat-box--active-user\");\n\n    if (activeChatSection.dataset.chatId.toString() === chatId.toString()) {\n      activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n      activeChatHeaderStatus.textContent = \"Active\";\n    }\n  });\n  socket.on(\"user:offline\", async (userId, chatId) => {\n    console.log(\"user offline:\", userId);\n    let chatBox = document.querySelector(`.chat-box[data-chat-id=\"${chatId}\"]`);\n    if (chatBox) chatBox.classList.remove(\"chat-box--active-user\");\n\n    if (activeChatSection.dataset.chatId.toString() === chatId.toString()) {\n      activeChatHeaderStatus.classList.add(\"active-chat-header__chat-status--hide\");\n      activeChatHeaderStatus.textContent = \"last active 1sec ago\";\n      setTimeout(() => {\n        activeChatHeaderStatus.classList.remove(\"active-chat-header__chat-status--hide\");\n      }, 5000);\n    }\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYtamF2YXNjcmlwdHMvc29ja2V0L3VzZXItc29ja2V0L3VzZXJBY3RpdmVTdGF0dXNTb2NrZXQuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBRU8sU0FBU0EsNEJBQVQsQ0FBc0NDLE1BQXRDLEVBQThDO0VBQ25ELElBQUlDLGlCQUFpQixHQUFHQyxRQUFRLENBQUNDLGNBQVQsQ0FBd0IsbUJBQXhCLENBQXhCO0VBQ0EsSUFBSUMsc0JBQXNCLEdBQUdGLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3Qix3QkFBeEIsQ0FBN0IsQ0FGbUQsQ0FHbkQ7O0VBQ0FILE1BQU0sQ0FBQ0ssRUFBUCxDQUFVLGFBQVYsRUFBeUIsT0FBT0MsTUFBUCxFQUFlQyxNQUFmLEtBQTBCO0lBQ2pEQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxjQUFaLEVBQTRCSCxNQUE1QjtJQUVBLElBQUlJLE9BQU8sR0FBR1IsUUFBUSxDQUFDUyxhQUFULENBQXdCLDJCQUEwQkosTUFBTyxJQUF6RCxDQUFkO0lBQ0EsSUFBSUcsT0FBSixFQUFhQSxPQUFPLENBQUNFLFNBQVIsQ0FBa0JDLEdBQWxCLENBQXNCLHVCQUF0Qjs7SUFFYixJQUFJWixpQkFBaUIsQ0FBQ2EsT0FBbEIsQ0FBMEJQLE1BQTFCLENBQWlDUSxRQUFqQyxPQUFnRFIsTUFBTSxDQUFDUSxRQUFQLEVBQXBELEVBQXVFO01BQ3JFWCxzQkFBc0IsQ0FBQ1EsU0FBdkIsQ0FBaUNJLE1BQWpDLENBQ0UsdUNBREY7TUFHQVosc0JBQXNCLENBQUNhLFdBQXZCLEdBQXFDLFFBQXJDO0lBQ0Q7RUFDRixDQVpEO0VBYUFqQixNQUFNLENBQUNLLEVBQVAsQ0FBVSxjQUFWLEVBQTBCLE9BQU9DLE1BQVAsRUFBZUMsTUFBZixLQUEwQjtJQUNsREMsT0FBTyxDQUFDQyxHQUFSLENBQVksZUFBWixFQUE2QkgsTUFBN0I7SUFDQSxJQUFJSSxPQUFPLEdBQUdSLFFBQVEsQ0FBQ1MsYUFBVCxDQUF3QiwyQkFBMEJKLE1BQU8sSUFBekQsQ0FBZDtJQUNBLElBQUlHLE9BQUosRUFBYUEsT0FBTyxDQUFDRSxTQUFSLENBQWtCSSxNQUFsQixDQUF5Qix1QkFBekI7O0lBRWIsSUFBSWYsaUJBQWlCLENBQUNhLE9BQWxCLENBQTBCUCxNQUExQixDQUFpQ1EsUUFBakMsT0FBZ0RSLE1BQU0sQ0FBQ1EsUUFBUCxFQUFwRCxFQUF1RTtNQUNyRVgsc0JBQXNCLENBQUNRLFNBQXZCLENBQWlDQyxHQUFqQyxDQUNFLHVDQURGO01BR0FULHNCQUFzQixDQUFDYSxXQUF2QixHQUFxQyxzQkFBckM7TUFDQUMsVUFBVSxDQUFDLE1BQU07UUFDZmQsc0JBQXNCLENBQUNRLFNBQXZCLENBQWlDSSxNQUFqQyxDQUNFLHVDQURGO01BR0QsQ0FKUyxFQUlQLElBSk8sQ0FBVjtJQUtEO0VBQ0YsQ0FoQkQ7QUFpQkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9mcm9udGVuZC8uL2Rldi1qYXZhc2NyaXB0cy9zb2NrZXQvdXNlci1zb2NrZXQvdXNlckFjdGl2ZVN0YXR1c1NvY2tldC5qcz9jMzk4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIGltcG9ydCB7IHRpbWVEaWZmZXJlbmNlRnJvbU5vdyB9IGZyb20gXCIuLi8uLi9jb21tb24vY2FsY3VsYXRlVGltZURpZmZlcmVuY2UuZGV2XCJcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVc2VyQWN0aXZlU3RhdHVzU29ja2V0KHNvY2tldCkge1xyXG4gIGxldCBhY3RpdmVDaGF0U2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdFNlY3Rpb25cIilcclxuICBsZXQgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWN0aXZlQ2hhdEhlYWRlclN0YXR1c1wiKVxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgc29ja2V0Lm9uKFwidXNlcjpvbmxpbmVcIiwgYXN5bmMgKHVzZXJJZCwgY2hhdElkKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcInVzZXIgb25saW5lOlwiLCB1c2VySWQpXHJcblxyXG4gICAgbGV0IGNoYXRCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuY2hhdC1ib3hbZGF0YS1jaGF0LWlkPVwiJHtjaGF0SWR9XCJdYClcclxuICAgIGlmIChjaGF0Qm94KSBjaGF0Qm94LmNsYXNzTGlzdC5hZGQoXCJjaGF0LWJveC0tYWN0aXZlLXVzZXJcIilcclxuXHJcbiAgICBpZiAoYWN0aXZlQ2hhdFNlY3Rpb24uZGF0YXNldC5jaGF0SWQudG9TdHJpbmcoKSA9PT0gY2hhdElkLnRvU3RyaW5nKCkpIHtcclxuICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgIFwiYWN0aXZlLWNoYXQtaGVhZGVyX19jaGF0LXN0YXR1cy0taGlkZVwiXHJcbiAgICAgIClcclxuICAgICAgYWN0aXZlQ2hhdEhlYWRlclN0YXR1cy50ZXh0Q29udGVudCA9IFwiQWN0aXZlXCJcclxuICAgIH1cclxuICB9KVxyXG4gIHNvY2tldC5vbihcInVzZXI6b2ZmbGluZVwiLCBhc3luYyAodXNlcklkLCBjaGF0SWQpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwidXNlciBvZmZsaW5lOlwiLCB1c2VySWQpXHJcbiAgICBsZXQgY2hhdEJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC5jaGF0LWJveFtkYXRhLWNoYXQtaWQ9XCIke2NoYXRJZH1cIl1gKVxyXG4gICAgaWYgKGNoYXRCb3gpIGNoYXRCb3guY2xhc3NMaXN0LnJlbW92ZShcImNoYXQtYm94LS1hY3RpdmUtdXNlclwiKVxyXG5cclxuICAgIGlmIChhY3RpdmVDaGF0U2VjdGlvbi5kYXRhc2V0LmNoYXRJZC50b1N0cmluZygpID09PSBjaGF0SWQudG9TdHJpbmcoKSkge1xyXG4gICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLmNsYXNzTGlzdC5hZGQoXHJcbiAgICAgICAgXCJhY3RpdmUtY2hhdC1oZWFkZXJfX2NoYXQtc3RhdHVzLS1oaWRlXCJcclxuICAgICAgKVxyXG4gICAgICBhY3RpdmVDaGF0SGVhZGVyU3RhdHVzLnRleHRDb250ZW50ID0gXCJsYXN0IGFjdGl2ZSAxc2VjIGFnb1wiXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGFjdGl2ZUNoYXRIZWFkZXJTdGF0dXMuY2xhc3NMaXN0LnJlbW92ZShcclxuICAgICAgICAgIFwiYWN0aXZlLWNoYXQtaGVhZGVyX19jaGF0LXN0YXR1cy0taGlkZVwiXHJcbiAgICAgICAgKVxyXG4gICAgICB9LCA1MDAwKVxyXG4gICAgfVxyXG4gIH0pXHJcbn1cclxuIl0sIm5hbWVzIjpbImNyZWF0ZVVzZXJBY3RpdmVTdGF0dXNTb2NrZXQiLCJzb2NrZXQiLCJhY3RpdmVDaGF0U2VjdGlvbiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhY3RpdmVDaGF0SGVhZGVyU3RhdHVzIiwib24iLCJ1c2VySWQiLCJjaGF0SWQiLCJjb25zb2xlIiwibG9nIiwiY2hhdEJveCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJhZGQiLCJkYXRhc2V0IiwidG9TdHJpbmciLCJyZW1vdmUiLCJ0ZXh0Q29udGVudCIsInNldFRpbWVvdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./dev-javascripts/socket/user-socket/userActiveStatusSocket.js\n");

/***/ })

}]);